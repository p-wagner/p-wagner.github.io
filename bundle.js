(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=0)})([function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:true});var __WEBPACK_IMPORTED_MODULE_0__GameInfoComponent__=__webpack_require__(11);var __WEBPACK_IMPORTED_MODULE_1__InfoAreaTowerMenuComponent__=__webpack_require__(16);var __WEBPACK_IMPORTED_MODULE_2__InfoAreaBuildComponent__=__webpack_require__(19);var __WEBPACK_IMPORTED_MODULE_3__PathFinder__=__webpack_require__(8);var __WEBPACK_IMPORTED_MODULE_4__EndTile__=__webpack_require__(26);var __WEBPACK_IMPORTED_MODULE_5__Statics__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_6__Tile__=__webpack_require__(10);var __WEBPACK_IMPORTED_MODULE_7__EnemyWaveGenerator__=__webpack_require__(7);var __WEBPACK_IMPORTED_MODULE_8__helper__=__webpack_require__(2);let instance=null;class Game{constructor(){console.log("Game Constructor");if(instance){return instance}instance=this;this.gameState="NOT STARTED";this.canvas=document.getElementById("gameCanvas");this.canvas.width=__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].gameWidth;this.canvas.height=__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].gameHeight;this.context=this.canvas.getContext("2d");this.towerMenu=[];this.infoAreaComponents=[];this.gameInfo;this.money=100;this.lastFrameTimeMs=0;this.maxFPS=60;this.timestep=1e3/60;this.speedMultiplier=1;this.tiles=[];this.openList=[];this.closedList=[];this.endTile=new __WEBPACK_IMPORTED_MODULE_4__EndTile__["a"](__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].endX*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].endY*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize);this.enemies=[];this.entities=[];this.towerSelectionChangedCallbacks=[];this.path=null;document.addEventListener("DOMContentLoaded",function(){game.start()});return instance}update(timestamp){var delta=timestamp-game.lastFrameTimeMs;delta+=timestamp-game.lastFrameTimeMs;delta*=game.speedMultiplier;game.lastFrameTimeMs=timestamp;while(delta>=game.timestep){game.updateGameArea(game.timestep);delta-=game.timestep}game.context.clearRect(0,0,game.canvas.width,game.canvas.height);game.draw(game.context);requestAnimationFrame(game.update)}mouseCaptureSetup(){if(document.defaultView&&document.defaultView.getComputedStyle){this.stylePaddingLeft=parseInt(document.defaultView.getComputedStyle(this.canvas,null)["paddingLeft"],10)||0;this.stylePaddingTop=parseInt(document.defaultView.getComputedStyle(this.canvas,null)["paddingTop"],10)||0;this.styleBorderLeft=parseInt(document.defaultView.getComputedStyle(this.canvas,null)["borderLeftWidth"],10)||0;this.styleBorderTop=parseInt(document.defaultView.getComputedStyle(this.canvas,null)["borderTopWidth"],10)||0}var html=document.body.parentNode;this.htmlTop=html.offsetTop;this.htmlLeft=html.offsetLeft;this.canvas.addEventListener("selectstart",function(e){e.preventDefault();return false},false)}start(){console.log(this.gameState);console.trace();if(this.gameState!="NOT STARTED"){console.log("starting again");return}console.log("starting");this.gameState="RUNNING";this.mouseCaptureSetup();this.loadTiles();this.gameInfo=new __WEBPACK_IMPORTED_MODULE_0__GameInfoComponent__["a"];this.infoAreaComponents.push(new __WEBPACK_IMPORTED_MODULE_1__InfoAreaTowerMenuComponent__["a"]);this.infoAreaComponents.push(new __WEBPACK_IMPORTED_MODULE_2__InfoAreaBuildComponent__["a"]);this.infoAreaComponents.forEach(function(element){element.init()},this);this.frameNo=0;game.canvas.addEventListener("mousedown",this.handleMouseDown.bind(this),true);requestAnimationFrame(game.update)}addEnemy(enemy){this.enemies.push(enemy)}towerSelectionChanged(){for(var i=0;i<this.towerSelectionChangedCallbacks.length;i++){var callback=this.towerSelectionChangedCallbacks[i];callback()}}registerSelectionChanged(callback){this.towerSelectionChangedCallbacks.push(callback)}handleMouseDown(e){if(this.gameState=="GAMEOVER"){return}var mouse=Object(__WEBPACK_IMPORTED_MODULE_8__helper__["a"])(e);var xPos=Math.floor(mouse.x/__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize);var yPos=Math.floor(mouse.y/__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize);if(mouse.x<=__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountWidth&&mouse.y<=__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountHeight){if(xPos<__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountWidth&&yPos<__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountHeight){if(this.endTile.selected){return}var tile=this.getTileAt(xPos,yPos);if(tile.selected){tile.selected=false}else{tile.selected=true;if(tile==this.endTile||!e.ctrlKey){for(var x=0;x<this.tiles.length;x++){for(var y=0;y<this.tiles[x].length;y++){this.tiles[x][y].selected=false}}tile.selected=true}}}else{for(var i=0;i<this.tiles.length;i++){this.tiles[i].selected=false}}this.towerSelectionChanged()}}getTileAt(x,y){if(x<this.tiles.length){var col=this.tiles[x];if(y<col.length){return col[y]}}return null}loadTiles(){for(var x=0;x<__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountWidth;x+=1){this.tiles[x]=[];for(var y=0;y<__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountHeight;y+=1){if(x==this.endTile.coordsX&&y==this.endTile.coordsY){this.tiles[x][y]=this.endTile;continue}this.tiles[x][y]=new __WEBPACK_IMPORTED_MODULE_6__Tile__["a"](x*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,y*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize);if((this.debugPathFinding||this.fillWithRandomTowers)&&Math.random(1)>.7){if(x==this.startX&&y==this.startY){continue}if(x==this.endTile.coordsX&&y==this.endTile.coordsY){continue}if(Math.random(1)>1/3){this.tiles[x][y].tower=new BasicTower(x*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,y*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize)}else if(Math.random(1)>.5){this.tiles[x][y].tower=new ElectroTower(x*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,y*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize)}else{this.tiles[x][y].tower=new MortarTower(x*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,y*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize)}}}}this.gameAreaChanged()}draw(ctx){for(var x=0;x<__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountWidth;x+=1){for(var y=0;y<__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountHeight;y+=1){this.tiles[x][y].draw(ctx)}}this.endTile.draw(ctx);__WEBPACK_IMPORTED_MODULE_3__PathFinder__["a"].draw(ctx);for(x=0;x<__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountWidth;x+=1){for(y=0;y<__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountHeight;y+=1){this.tiles[x][y].drawSelection(ctx)}}this.enemies.forEach(function(element){element.draw(ctx)},this);ctx.fillStyle="#87CEFA";ctx.globalAlpha=.6;ctx.globalAlpha=1;this.entities.forEach(function(element){element.draw(ctx)},this);ctx.fillStyle="#C9C9C9";ctx.fillRect(__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountWidth*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,0,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].gameWidth-__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountWidth*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountHeight*__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tileSize);this.gameInfo.draw(ctx);for(var i=0;i<this.infoAreaComponents.length;i++){var infoAreaComponent=this.infoAreaComponents[i];var active=infoAreaComponent.isActive();if(active){infoAreaComponent.draw(ctx);break}}if(this.gameState=="GAMEOVER"){ctx.fillStyle="#111111";ctx.font="bold 60px Arial ";ctx.textAlign="center";ctx.fillText("GAME OVER",__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].gameWidth/2,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].gameHeight/2)}}updateGameArea(delta){if(this.endTile.isDead()){game.gameState="GAMEOVER"}if(game.gameState=="RUNNING"){for(var i=0;i<this.enemies.length;i++){var element=this.enemies[i];element.update(delta);if(element.isDead()){this.enemies.splice(i,1)}if(element.reachedGoal){this.enemies.splice(i,1)}}for(var x=0;x<__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountWidth;x+=1){for(var y=0;y<__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountHeight;y+=1){this.tiles[x][y].update(delta)}}__WEBPACK_IMPORTED_MODULE_7__EnemyWaveGenerator__["a"].update(delta)}for(var i=0;i<this.entities.length;i++){var element=this.entities[i];element.update(delta);if(!element.isActive()){this.entities.splice(i,1)}}for(var i=0;i<game.infoAreaComponents.length;i++){var infoAreaComponent=game.infoAreaComponents[i];if(infoAreaComponent.isActive()){infoAreaComponent.update(delta);break}}}gameAreaChanged(){this.towerSelectionChanged();var startTime=performance.now();__WEBPACK_IMPORTED_MODULE_3__PathFinder__["a"].findPathAsync(__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].startX,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].startY,this.endTile.coordsX,this.endTile.coordsY,this.tiles,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountWidth,__WEBPACK_IMPORTED_MODULE_5__Statics__["a"].tilesCountHeight).then(path=>{var endTime=performance.now();if(path==null){console.log("Found NO Path in "+(endTime-startTime))}else{console.log("Found Path in "+(endTime-startTime));this.path=path}for(var i=0;i<this.enemies.length;i++){var element=this.enemies[i];element.customPath=null}})}setSpeedMultiplier(multiplier){this.speedMultiplier=multiplier}getSpeedMultiplier(){return this.speedMultiplier}}console.log("Game Created");const game=new Game;__webpack_exports__["default"]=game},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__enemyAttribute__=__webpack_require__(6);var __WEBPACK_IMPORTED_MODULE_1__towerAttribute__=__webpack_require__(4);let instance=null;class Statics{constructor(){if(instance){return instance}console.log("Created Statics");instance=this;this.gameWidth=480;this.gameHeight=260;this.tilesCountWidth=20;this.tilesCountHeight=13;this.tileSize=20;this.startX=0;this.startY=0;this.endX=this.tilesCountWidth-1;this.endY=this.tilesCountHeight-1;this.infoRegionX=this.tilesCountWidth*this.tileSize;this.infoRegionY=0;this.infoRegionWidth=this.gameWidth-this.infoRegionX;this.stylePaddingLeft=0;this.stylePaddingTop=0;this.styleBorderLeft=0;this.styleBorderTop=0;this.htmlTop=0;this.htmlLeft=0;this.enemyStats={default:{attackDamage:{baseValue:1,multi:.3},attacksPerSecond:{baseValue:.3,multi:0},healthPoints:{baseValue:10,multi:25}},BasicEnemy:{healthPoints:{baseValue:10}},SlowEnemy:{healthPoints:{baseValue:20}},GroupEnemy:{healthPoints:{baseValue:3}},BossEnemy:{healthPoints:{baseValue:80,multi:30}}};this.towerStats={default:{attackDamage:{name:"AD",baseValue:10,multi:5,priceBaseValue:10,priceMulti:5.5},attacksPerSecond:{name:"APS",baseValue:1,multi:.2,priceBaseValue:10,priceMulti:5.5},healthPoints:{name:"HP",baseValue:10,multi:10,priceBaseValue:10,priceMulti:15},attackRange:{name:"AR",baseValue:45,multi:7,priceBaseValue:10,priceMulti:8}},MortarTower:{attackRange:{baseValue:60},healthPoints:{baseValue:200},attackDamage:{baseValue:20},attacksPerSecond:{baseValue:.2},damageArea:{name:"DA",baseValue:25,multi:1.5,priceBaseValue:20,priceMulti:1.5}},ElectroTower:{attackRange:{baseValue:25},attackDamage:{baseValue:8},attacksPerSecond:{name:"APS",baseValue:.5,multi:.08},healthPoints:{baseValue:100}}};this.wavePattern=[{type:1,baseAmount:10,spawnPauseTime:1,waveBreak:2},{type:1,baseAmount:15,spawnPauseTime:1.5,waveBreak:10},{type:2,baseAmount:10,spawnPauseTime:1,waveBreak:5},{type:1,baseAmount:10,spawnPauseTime:1,waveBreak:5},{type:3,baseAmount:10,spawnPauseTime:1,waveBreak:5},{type:4,baseAmount:10,spawnPauseTime:1,waveBreak:5},{type:1,baseAmount:10,spawnPauseTime:1,waveBreak:5},{type:2,baseAmount:10,spawnPauseTime:1,waveBreak:5},{type:4,baseAmount:10,spawnPauseTime:1,waveBreak:20},{type:5,baseAmount:1,spawnPauseTime:0,waveBreak:20}];return instance}getOrElse(object1,objectDefault,field,subField){if(object1!==undefined&&object1.hasOwnProperty(field)){if(object1[field].hasOwnProperty(subField)){return object1[field][subField]}}return objectDefault[field][subField]}getTowerAttributeFor(towerClass,statName){var towerName=towerClass.constructor.name;var statSource=this.towerStats.default;var specificStatSource=undefined;if(this.towerStats.hasOwnProperty(towerName)){specificStatSource=this.towerStats[towerName]}return new __WEBPACK_IMPORTED_MODULE_1__towerAttribute__["a"](this.getOrElse(specificStatSource,statSource,statName,"name"),this.getOrElse(specificStatSource,statSource,statName,"baseValue"),this.getOrElse(specificStatSource,statSource,statName,"priceBaseValue"),this.getOrElse(specificStatSource,statSource,statName,"multi"),this.getOrElse(specificStatSource,statSource,statName,"priceMulti"))}getEnemyAttributeFor(enemyClass,statName,level){var enemyName=enemyClass.constructor.name;var statSource=this.enemyStats.default;var specificStatSource=undefined;if(this.enemyStats.hasOwnProperty(enemyName)){if(this.enemyStats[enemyName].hasOwnProperty(statName)){specificStatSource=this.enemyStats[enemyName]}}return new __WEBPACK_IMPORTED_MODULE_0__enemyAttribute__["a"](this.getOrElse(specificStatSource,statSource,statName,"baseValue"),this.getOrElse(specificStatSource,statSource,statName,"multi"),level)}}const statics=new Statics;__webpack_exports__["a"]=statics},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__["a"]=getMouse;var __WEBPACK_IMPORTED_MODULE_0__game__=__webpack_require__(0);function getMouse(e){var element=__WEBPACK_IMPORTED_MODULE_0__game__["default"].canvas,offsetX=0,offsetY=0,mx,my;if(element.offsetParent!==undefined){do{offsetX+=element.offsetLeft;offsetY+=element.offsetTop}while(element=element.offsetParent)}offsetX+=__WEBPACK_IMPORTED_MODULE_0__game__["default"].stylePaddingLeft+__WEBPACK_IMPORTED_MODULE_0__game__["default"].styleBorderLeft+__WEBPACK_IMPORTED_MODULE_0__game__["default"].htmlLeft;offsetY+=__WEBPACK_IMPORTED_MODULE_0__game__["default"].stylePaddingTop+__WEBPACK_IMPORTED_MODULE_0__game__["default"].styleBorderTop+__WEBPACK_IMPORTED_MODULE_0__game__["default"].htmlTop;mx=e.pageX-offsetX;my=e.pageY-offsetY;return{x:mx,y:my}}function inheritPseudoClass(Super,Sub){Sub.prototype=Object.create(Super.prototype);Sub.prototype.constructor=Sub}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__game__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_1__helper__=__webpack_require__(2);__webpack_exports__["a"]=class{constructor(x,y,width,height,text,color,clickEvent,clickContext){this.x=x;this.y=y;this.width=width;this.height=height;this.color=color;this.text=text;this.clickEvent=clickEvent;this.clickContext=clickContext;__WEBPACK_IMPORTED_MODULE_0__game__["default"].canvas.addEventListener("mousedown",this.handleMouseDown.bind(this),true)}handleMouseDown(e){if(__WEBPACK_IMPORTED_MODULE_0__game__["default"].gameState=="GAMEOVER"){return}var mouse=Object(__WEBPACK_IMPORTED_MODULE_1__helper__["a"])(e);if(mouse.x>this.x&&mouse.y>this.y&&mouse.x<this.x+this.width&&mouse.y<this.y+this.height){this.clickEvent.apply(this.clickContext,mouse)}}draw(ctx){ctx.font="10px Arial";ctx.fillStyle=this.color;ctx.fillRect(this.x,this.y,this.width,this.height);ctx.fillStyle="black";ctx.textAlign="center";ctx.fillText(this.text,this.x+this.width/2,this.y+this.height/2+4)}setColor(color){this.color=color}}},function(module,__webpack_exports__,__webpack_require__){"use strict";class TowerAttribute{constructor(shortDesc,baseValue,basePrice,multiplier,priceMultiplier){this.shortDesc=shortDesc;this.baseValue=baseValue;this.basePrice=basePrice;this.multiplier=multiplier;this.priceMultiplier=priceMultiplier;this.level=1}calc(base,multi,level){return base+multi*level}getValue(){return this.calc(this.baseValue,this.multiplier,this.level)}getUpgradeValue(){return this.calc(this.baseValue,this.multiplier,this.level+1)}getUpgradePrice(){return this.calc(this.basePrice,this.priceMultiplier,this.level)}getLevel(){return this.level}increaseLevel(){this.level+=1}}__webpack_exports__["a"]=TowerAttribute;class ProcentualTowerAttribute extends TowerAttribute{constructor(shortDesc,baseValue,basePrice,multiplier,priceMultiplier){super(shortDesc,baseValue,basePrice,multiplier,priceMultiplier)}calc(base,multi,level){return base*Math.pow(1+multi/100,level)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return weakSelectorNearestOne});__webpack_require__.d(__webpack_exports__,"b",function(){return hardSelectorNearestOne});__webpack_require__.d(__webpack_exports__,"a",function(){return fastestSelectorNearestOne});__webpack_require__.d(__webpack_exports__,"c",function(){return enemySelectorNearestOne});var __WEBPACK_IMPORTED_MODULE_0__game__=__webpack_require__(0);var calcDistance=function(x1,y1,x2,y2){var a=x1-x2;var b=y1-y2;return Math.sqrt(a*a+b*b)};var enemySelectorNearestOne={name:"Nearest",find:function(tower){var nearestEnemy=null;var bestDistance=Number.MAX_VALUE;for(let i=0;i<__WEBPACK_IMPORTED_MODULE_0__game__["default"].enemies.length;i++){var enemy=__WEBPACK_IMPORTED_MODULE_0__game__["default"].enemies[i];var distance=calcDistance(tower.x+tower.width/2,tower.y+tower.height/2,enemy.x,enemy.y);if(distance>tower.attackRange.getValue()){continue}if(distance<bestDistance){nearestEnemy=enemy;bestDistance=distance}}return nearestEnemy}};var hardSelectorNearestOne={name:"Hard",find:function(tower){var hardestEnemy=null;var bestDistance=Number.MAX_VALUE;var mostLive=Number.MIN_VALUE;for(var key in __WEBPACK_IMPORTED_MODULE_0__game__["default"].enemies){var enemy=__WEBPACK_IMPORTED_MODULE_0__game__["default"].enemies[key];var distance=calcDistance(tower.x+tower.width/2,tower.y+tower.height/2,enemy.x,enemy.y);if(distance>tower.attackRange.getValue()){continue}if(enemy.currentHealthPoints>mostLive){hardestEnemy=enemy;mostLive=enemy.currentHealthPoints;bestDistance=distance}if(enemy.currentHealthPoints==mostLive){if(distance<bestDistance){hardestEnemy=enemy;mostLive=enemy.currentHealthPoints;bestDistance=distance}}if(distance<bestDistance){if(distance<tower.attackRange.getValue()){hardestEnemy=enemy;bestDistance=distance}}}return hardestEnemy}};var weakSelectorNearestOne={name:"Weak",find:function(tower){var lowestEnemy=null;var bestDistance=Number.MAX_VALUE;var leastLive=Number.MAX_VALUE;for(var key in __WEBPACK_IMPORTED_MODULE_0__game__["default"].enemies){var enemy=__WEBPACK_IMPORTED_MODULE_0__game__["default"].enemies[key];var distance=calcDistance(tower.x+tower.width/2,tower.y+tower.height/2,enemy.x,enemy.y);if(distance>tower.attackRange.getValue()){continue}if(enemy.currentHealthPoints>leastLive){lowestEnemy=enemy;leastLive=enemy.currentHealthPoints;bestDistance=distance}if(enemy.currentHealthPoints==leastLive){if(distance<bestDistance){lowestEnemy=enemy;leastLive=enemy.currentHealthPoints;bestDistance=distance}}if(distance<bestDistance){if(distance<tower.attackRange.getValue()){lowestEnemy=enemy;bestDistance=distance}}}return lowestEnemy}};var fastestSelectorNearestOne={name:"Fastest",find:function(tower){var fastestEnemy=null;var bestDistance=Number.MAX_VALUE;var fastest=Number.MAX_VALUE;for(var key in __WEBPACK_IMPORTED_MODULE_0__game__["default"].enemies){var enemy=__WEBPACK_IMPORTED_MODULE_0__game__["default"].enemies[key];var distance=calcDistance(tower.x+tower.width/2,tower.y+tower.height/2,enemy.x,enemy.y);if(distance>tower.attackRange.getValue()){continue}if(enemy.speed<fastest){fastestEnemy=enemy;fastest=enemy.speed;bestDistance=distance}if(enemy.speed==fastest){if(distance<bestDistance){fastestEnemy=enemy;fastest=enemy.speed;bestDistance=distance}}if(distance<bestDistance){if(distance<tower.attackRange.getValue()){fastestEnemy=enemy;bestDistance=distance}}}return fastestEnemy}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__["a"]=class{constructor(baseValue,multiplier,level){this.baseValue=baseValue;this.multiplier=multiplier;this.level=level}getValue(){return this.baseValue+this.multiplier*this.level}getLevel(){return this.level}increaseLevel(){this.level+=1}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return enemyWaveGenerator});var __WEBPACK_IMPORTED_MODULE_0__EnemyTpyes__=__webpack_require__(12);var __WEBPACK_IMPORTED_MODULE_1__game__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_2__Statics__=__webpack_require__(1);class EnemyWaveGenerator{constructor(){this.currentWave=1;this.state="break";this.waveSpawnWaitTime=1e3;this.wavePower=100;this.elapsedTime=0;this.updatedStatsForWave=false;this.waveBreak=15e3;this.printEnemies=true}getWaveInfo(waveNumber){waveNumber=waveNumber%__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].wavePattern.length;return __WEBPACK_IMPORTED_MODULE_2__Statics__["a"].wavePattern[waveNumber]}update(delta){this.elapsedTime+=delta;if(this.state=="break"&&this.elapsedTime>=this.waveBreak){this.state="wave";this.elapsedTime=0;this.currentWave++;var waveInfo=this.getWaveInfo(this.currentWave);this.currentWaveEnemyLeft=waveInfo.baseAmount;this.waveSpawnWaitTime=waveInfo.spawnPauseTime*1e3;this.updatedStatsForWave=true}if(this.state=="wave"&&this.elapsedTime>=this.waveSpawnWaitTime){var waveInfo=this.getWaveInfo(this.currentWave);var enemy=this.buildEnemy(waveInfo);__WEBPACK_IMPORTED_MODULE_1__game__["default"].addEnemy(enemy);this.currentWaveEnemyLeft--;if(this.currentWaveEnemyLeft==0){this.state="break";this.waveBreak=waveInfo.waveBreak*1e3}this.elapsedTime=0}}buildEnemy(waveInfo){var startX=__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].startX*__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize+__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize/2;var startY=__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].startY*__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize+__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize/2;switch(waveInfo.type){case 1:{var enemy=new __WEBPACK_IMPORTED_MODULE_0__EnemyTpyes__["a"](startX,startY,this.currentWave);break}case 2:{var enemy=new __WEBPACK_IMPORTED_MODULE_0__EnemyTpyes__["c"](startX,startY,this.currentWave);break}case 3:{var enemy=new __WEBPACK_IMPORTED_MODULE_0__EnemyTpyes__["e"](startX,startY,this.currentWave);break}case 4:{var enemy=new __WEBPACK_IMPORTED_MODULE_0__EnemyTpyes__["d"](startX,startY,this.currentWave);break}case 5:{var enemy=new __WEBPACK_IMPORTED_MODULE_0__EnemyTpyes__["b"](startX,startY,this.currentWave);break}}if(this.updatedStatsForWave&&this.printEnemies){var lastEnemiesTableBody=document.getElementById("lastEnemyTableBody");var currentWaveRow=document.createElement("tr");var typeColumn=document.createElement("td");currentWaveRow.appendChild(typeColumn);typeColumn.innerText=enemy.constructor.name;var hpColumn=document.createElement("td");hpColumn.className="hpCol";currentWaveRow.appendChild(hpColumn);hpColumn.innerText=Math.floor(enemy.maxHealthPoints*100)/100;lastEnemiesTableBody.prepend(currentWaveRow);this.updatedStatsForWave=false}return enemy}}let enemyWaveGenerator=new EnemyWaveGenerator},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__DebugOptions__=__webpack_require__(14);var __WEBPACK_IMPORTED_MODULE_1__game__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_2__Statics__=__webpack_require__(1);class PathFinder{constructor(){this.openList=[];this.closedList=[]}sort(a,b){var factor=1.4;if(b.distance*factor+b.pathLength>a.distance*factor+a.pathLength){return-1}if(b.distance*factor+b.pathLength<a.distance*factor+a.pathLength){return 1}return 0}calcDistance(x1,y1,x2,y2){var a=x1-x2;var b=y1-y2;return Math.sqrt(a*a+b*b)}expandTile(closedList,openList,grid,element,x,y,endX,endY){for(var i=0;i<closedList.length;i++){var current=closedList[i];if(current.x==x&&current.y==y){return}}var tile=grid[x][y];if(tile.isWalkable()){var pathLength=element.pathLength+this.calcDistance(element.x,element.y,x,y);var elementInOpenList=null;var openListIndex=0;for(var openListIndex=0;openListIndex<openList.length;openListIndex++){var current=openList[openListIndex];if(current.x==x&&current.y==y){elementInOpenList=current}}if(elementInOpenList!=null){if(elementInOpenList.pathLength>pathLength){openList.splice(openListIndex,1)}else{return}}openList.push({x,y,distance:this.calcDistance(x,y,endX,endY),pathLength,previous:element,length:element.length+1})}}formatPath(end){var path=[];path.push();var currentElement=end;do{path.push({x:currentElement.x,y:currentElement.y});currentElement=currentElement.previous}while(currentElement!=null);return path}async findPathAsync(startX,startY,endX,endY,grid,width,height){return this.findPath(startX,startY,endX,endY,grid,width,height)}findPath(startX,startY,endX,endY,grid,width,height){this.openList=[];this.closedList=[];this.openList.push({x:startX,y:startY,distance:this.calcDistance(startX,startY,endX,endY),pathLength:0,previous:null,length:0});var checkedTiles=0;while(this.openList.length>0){this.openList.sort(this.sort);var element=this.openList.shift();checkedTiles++;if(element.x==endX&&element.y==endY){console.log("Took "+checkedTiles+" checks to find Path");return formatPath(element)}if(this.debugPathFinding){this.sleep(20)}this.closedList.push(element);if(element.y>0){var x=element.x;var y=element.y-1;this.expandTile(this.closedList,this.openList,grid,element,x,y,endX,endY)}if(element.y<height-1){var x=element.x;var y=element.y+1;this.expandTile(this.closedList,this.openList,grid,element,x,y,endX,endY)}if(element.x<width-1){var x=element.x+1;var y=element.y;this.expandTile(this.closedList,this.openList,grid,element,x,y,endX,endY)}if(element.x>0){var x=element.x-1;var y=element.y;this.expandTile(this.closedList,this.openList,grid,element,x,y,endX,endY)}}console.log("Took "+checkedTiles+" checks to find no Path");var nearestElementToEnd={distance:Number.MAX_VALUE};for(var i=0;i<this.closedList.length;i++){var element=this.closedList[i];if(element.distance<nearestElementToEnd.distance){nearestElementToEnd=element}}return this.formatPath(nearestElementToEnd)}draw(ctx){ctx.fillStyle="#C9C9C9";var margin=__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize/4;if(__WEBPACK_IMPORTED_MODULE_1__game__["default"].path!=null){for(var i=0;i<__WEBPACK_IMPORTED_MODULE_1__game__["default"].path.length;i++){var currentTile=__WEBPACK_IMPORTED_MODULE_1__game__["default"].tiles[__WEBPACK_IMPORTED_MODULE_1__game__["default"].path[i].x][__WEBPACK_IMPORTED_MODULE_1__game__["default"].path[i].y];ctx.fillRect(currentTile.x+margin,currentTile.y+margin,currentTile.width-margin*2,currentTile.height-margin*2)}}if(!__WEBPACK_IMPORTED_MODULE_0__DebugOptions__["a"].debugPathFinding){return}if(!this.openList||!this.closedList||!__WEBPACK_IMPORTED_MODULE_1__game__["default"].tiles){return}ctx.fillStyle="green";var margin=__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize/5;for(i=0;i<this.openList.length;i++){currentTile=__WEBPACK_IMPORTED_MODULE_1__game__["default"].tiles[this.openList[i].x][this.openList[i].y];ctx.fillRect(currentTile.x+margin,currentTile.y+margin,currentTile.width-margin*2,currentTile.height-margin*2)}ctx.fillStyle="red";for(var i=0;i<this.closedList.length;i++){if(isNaN(this.closedList[i].x)||isNaN(this.closedList[i].y)){continue}currentTile=__WEBPACK_IMPORTED_MODULE_1__game__["default"].tiles[this.closedList[i].x][this.closedList[i].y];ctx.fillRect(currentTile.x+margin,currentTile.y+margin,currentTile.width-margin*2,currentTile.height-margin*2)}}sleep(ms){return new Promise(r=>setTimeout(r,ms))}}const pathFinder=new PathFinder;__webpack_exports__["a"]=pathFinder},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__["a"]=class{constructor(){}isActive(){console.log("BaseClass Active called!");return true}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__game__=__webpack_require__(0);__webpack_exports__["a"]=class{constructor(x,y,width,height){this.margin=.2;this.x=x;this.y=y;this.width=width;this.height=height;this.selected=false;this.tower=null}isWalkable(){return this.tower==null}draw(ctx){ctx.fillStyle="#bbbbbb";ctx.fillRect(this.x+this.margin,this.y+this.margin,this.width-this.margin*2,this.height-this.margin*2);if(this.tower!=null){this.tower.draw(ctx)}}drawSelection(ctx){if(this.selected){ctx.fillStyle="#87CEFA";ctx.globalAlpha=.6;ctx.fillRect(this.x+this.margin,this.y+this.margin,this.width-this.margin*2,this.height-this.margin*2);ctx.globalAlpha=1}if(this.tower!=null&&this.selected){this.tower.drawSelection(ctx)}}update(delta){if(this.tower!=null){this.tower.update(delta);if(this.tower.currentHealthPoints==0){this.tower=null;__WEBPACK_IMPORTED_MODULE_0__game__["default"].gameAreaChanged()}}}hit(attackPower){var tower=this.tower;if(tower==null){console.log("No Tower here "+this.x+" / "+this.y)}else{tower.hit(attackPower)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__game__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_1__helper__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_2__Statics__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_3__EnemyWaveGenerator__=__webpack_require__(7);__webpack_exports__["a"]=class{constructor(){this.height=70;let padding=5;this.infoSection={x:__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].infoRegionX+padding,y:__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].infoRegionY+padding,width:__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].infoRegionWidth-padding*2,height:10};var infoSection=this.infoSection;this.runControl={x:infoSection.x+infoSection.width-infoSection.height,y:infoSection.y,width:infoSection.height,height:infoSection.height,hit(mx,my){return mx>this.x&&my>this.y&&mx<this.x+this.width&&my<this.y+this.height}};this.speedControl={x:infoSection.x+infoSection.width-infoSection.height*3,y:infoSection.y,width:infoSection.height,height:infoSection.height,hit(mx,my){return mx>this.x&&my>this.y&&mx<this.x+this.width&&my<this.y+this.height}};__WEBPACK_IMPORTED_MODULE_0__game__["default"].canvas.addEventListener("mousedown",this.handleMouseDown.bind(this),true)}draw(ctx){this.drawControls(ctx);this.drawInfoObject(ctx,"Money",Math.floor(__WEBPACK_IMPORTED_MODULE_0__game__["default"].money),2);this.drawInfoObject(ctx,"Wave",__WEBPACK_IMPORTED_MODULE_3__EnemyWaveGenerator__["a"].currentWave,3);this.drawInfoObject(ctx,"Health",Math.floor(__WEBPACK_IMPORTED_MODULE_0__game__["default"].endTile.currentHealth)+"/"+__WEBPACK_IMPORTED_MODULE_0__game__["default"].endTile.maxHealth,4)}drawInfoObject(ctx,name,value,pos){var infoSection=this.infoSection;ctx.fillStyle="#111111";ctx.font="9px Arial";ctx.textAlign="start";ctx.fillText(name,infoSection.x,(infoSection.y+9)*pos);ctx.textAlign="end";ctx.fillText(value,infoSection.x+infoSection.width,(infoSection.y+9)*pos)}drawControls(ctx){ctx.fillStyle="#111111";var runControl=this.runControl;if(__WEBPACK_IMPORTED_MODULE_0__game__["default"].gameState=="RUNNING"){ctx.fillRect(runControl.x,runControl.y,runControl.height/10*4,runControl.height);ctx.fillRect(runControl.x+runControl.height/10*6,runControl.y,runControl.height/10*4,runControl.height)}else if(__WEBPACK_IMPORTED_MODULE_0__game__["default"].gameState=="PAUSED"){ctx.beginPath();ctx.moveTo(runControl.x,runControl.y);ctx.lineTo(runControl.x+runControl.width,runControl.y+runControl.height/2);ctx.lineTo(runControl.x,runControl.y+runControl.height);ctx.closePath();ctx.fill()}var speed=__WEBPACK_IMPORTED_MODULE_0__game__["default"].getSpeedMultiplier();var speedControl=this.speedControl;var arrowWidth=speedControl.width/speed;for(var i=0;i<speed;i++){ctx.beginPath();ctx.moveTo(arrowWidth*i+speedControl.x,speedControl.y);ctx.lineTo(arrowWidth*i+speedControl.x+arrowWidth,speedControl.y+speedControl.height/2);ctx.lineTo(arrowWidth*i+speedControl.x,speedControl.y+speedControl.height);ctx.closePath();ctx.fill()}}handleMouseDown(e){if(__WEBPACK_IMPORTED_MODULE_0__game__["default"].gameState=="GAMEOVER"){return}var mouse=Object(__WEBPACK_IMPORTED_MODULE_1__helper__["a"])(e);var runControl=this.runControl;if(runControl.hit(mouse.x,mouse.y)){if(__WEBPACK_IMPORTED_MODULE_0__game__["default"].gameState=="PAUSED"){__WEBPACK_IMPORTED_MODULE_0__game__["default"].gameState="RUNNING"}else if(__WEBPACK_IMPORTED_MODULE_0__game__["default"].gameState=="RUNNING"){__WEBPACK_IMPORTED_MODULE_0__game__["default"].gameState="PAUSED"}}if(this.speedControl.hit(mouse.x,mouse.y)){var speed=__WEBPACK_IMPORTED_MODULE_0__game__["default"].getSpeedMultiplier();speed++;if(speed>4){speed=1}console.log("New SpeedMultiplier: "+speed);__WEBPACK_IMPORTED_MODULE_0__game__["default"].setSpeedMultiplier(speed)}}update(){}getHeight(){return this.height}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Enemy__=__webpack_require__(13);var __WEBPACK_IMPORTED_MODULE_1__Statics__=__webpack_require__(1);class BasicEnemy extends __WEBPACK_IMPORTED_MODULE_0__Enemy__["a"]{constructor(x,y,level){var color="blue";var speed=.8;super(x,y,color,speed,level)}}__webpack_exports__["a"]=BasicEnemy;class FastEnemy extends __WEBPACK_IMPORTED_MODULE_0__Enemy__["a"]{constructor(x,y,level){var color="green";var speed=1.3;super(x,y,color,speed,level)}}__webpack_exports__["c"]=FastEnemy;class SlowEnemy extends __WEBPACK_IMPORTED_MODULE_0__Enemy__["a"]{constructor(x,y,level){var color="yellow";var speed=.6;super(x,y,color,speed,level)}}__webpack_exports__["e"]=SlowEnemy;class GroupEnemy extends __WEBPACK_IMPORTED_MODULE_0__Enemy__["a"]{constructor(x,y,level){var color="black";var speed=.8;super(x,y,color,speed,level)}}__webpack_exports__["d"]=GroupEnemy;class BossEnemy extends __WEBPACK_IMPORTED_MODULE_0__Enemy__["a"]{constructor(x,y,level){var color="red";var speed=.1;super(x,y,color,speed,level)}}__webpack_exports__["b"]=BossEnemy},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__game__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_1__PathFinder__=__webpack_require__(8);var __WEBPACK_IMPORTED_MODULE_2__Statics__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_3__TextGoUpEffect__=__webpack_require__(15);var __WEBPACK_IMPORTED_MODULE_4__enemyAttribute__=__webpack_require__(6);class Enemy{constructor(x,y,color,speed,level){this.level=level;this.x=x;this.y=y;this.size=__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize/3.5;this.color=color;this.speed=speed;this.lastAttack=Number.MAX_VALUE;this.attacksPerSeconds=__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].getEnemyAttributeFor(this,"attacksPerSecond",level);this.attackPower=__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].getEnemyAttributeFor(this,"attackDamage",level);this.maxHealthPoints=__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].getEnemyAttributeFor(this,"healthPoints",level).getValue();this.currentHealthPoints=this.maxHealthPoints;this.nextWalkPoint=null;this.reachedGoal=false;this.customPath=null}draw(ctx){ctx.beginPath();ctx.fillStyle=this.color;ctx.arc(this.x,this.y,this.size,0,2*Math.PI);ctx.closePath();ctx.fill();if(this.maxHealthPoints>this.currentHealthPoints){ctx.fillStyle="red";ctx.fillRect(this.x-this.size,this.y-this.size*1.7,this.size*2,this.size*2/8);ctx.fillStyle="green";var healthWidth=this.size*2/this.maxHealthPoints*this.currentHealthPoints;ctx.fillRect(this.x-this.size,this.y-this.size*1.7,healthWidth,this.size*2/8)}}calculateWalkPoint(){var currentPath=__WEBPACK_IMPORTED_MODULE_0__game__["default"].path;if(this.customPath!=null){currentPath=this.customPath}var xPos=Math.floor(this.x/__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize);var yPos=Math.floor(this.y/__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize);var indexOnPath=null;for(var i=0;i<currentPath.length;i++){var element=currentPath[i];if(element.x==xPos&&element.y==yPos){indexOnPath=i;break}}if(indexOnPath==0){if(xPos==__WEBPACK_IMPORTED_MODULE_0__game__["default"].endTile.coordsX&&yPos==__WEBPACK_IMPORTED_MODULE_0__game__["default"].endTile.coordsY){this.reachedGoal=true;return null}else{this.reachedGoal=false;return null}}if(indexOnPath==null&&this.customPath==null){this.customPath=__WEBPACK_IMPORTED_MODULE_1__PathFinder__["a"].findPath(xPos,yPos,__WEBPACK_IMPORTED_MODULE_0__game__["default"].endTile.coordsX,__WEBPACK_IMPORTED_MODULE_0__game__["default"].endTile.coordsY,__WEBPACK_IMPORTED_MODULE_0__game__["default"].tiles,__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tilesCountWidth,__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tilesCountHeight);return this.calculateWalkPoint()}else if(indexOnPath==null){return{x:__WEBPACK_IMPORTED_MODULE_0__game__["default"].endTile.x+__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize/2,y:__WEBPACK_IMPORTED_MODULE_0__game__["default"].endTile.y+__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize/2}}return{x:currentPath[indexOnPath-1].x*__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize+__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize/2,y:currentPath[indexOnPath-1].y*__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize+__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize/2}}attack(delta){this.lastAttack+=delta;var perSec=1e3/this.attacksPerSeconds.getValue();if(this.lastAttack<perSec){return}var xPos=Math.floor(this.x/__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize);var yPos=Math.floor(this.y/__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize);var diffX=xPos-__WEBPACK_IMPORTED_MODULE_0__game__["default"].endTile.coordsX;var diffY=yPos-__WEBPACK_IMPORTED_MODULE_0__game__["default"].endTile.coordsY;if(diffX<diffY){if(diffX<=0){this.attackAt(xPos+1,yPos)}else{this.attackAt(xPos-1,yPos)}}else{if(diffY<=0){this.attackAt(xPos,yPos+1)}else{this.attackAt(xPos,yPos-1)}}}attackAt(x,y){var tile=__WEBPACK_IMPORTED_MODULE_0__game__["default"].tiles[x][y];tile.hit(this.attackPower.getValue());this.hit(this.attackPower.getValue())}hit(points){if(this.currentHealthPoints>0&&this.currentHealthPoints-points<=0){this.currentHealthPoints=0;var moneyEarned=Math.round(this.level/3);__WEBPACK_IMPORTED_MODULE_0__game__["default"].money+=moneyEarned;__WEBPACK_IMPORTED_MODULE_0__game__["default"].entities.push(new __WEBPACK_IMPORTED_MODULE_3__TextGoUpEffect__["a"](this.x,this.y,moneyEarned,"#229922"))}else{this.currentHealthPoints-=points}}update(delta){if(this.nextWalkPoint==null){this.nextWalkPoint=this.calculateWalkPoint()}if(!this.reachedGoal){if(this.nextWalkPoint==null&&!this.reachedGoal){var xPos=Math.floor(this.x/__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize);var yPos=Math.floor(this.y/__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize);var tx=xPos*__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize+__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize/2-this.x;var ty=yPos*__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize+__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize/2-this.y;var dist=Math.sqrt(tx*tx+ty*ty);if(dist!=0){var velX=tx/dist*this.speed*.75;var velY=ty/dist*this.speed*.75;this.x+=velX;this.y+=velY}this.attack(delta)}else{var tx=this.nextWalkPoint.x-this.x;var ty=this.nextWalkPoint.y-this.y;var dist=Math.sqrt(tx*tx+ty*ty);if(dist<=this.size){this.nextWalkPoint=null}else{var velX=tx/dist*this.speed*.75;var velY=ty/dist*this.speed*.75;this.x+=velX;this.y+=velY}}}}isDead(){return this.currentHealthPoints<=0}}__webpack_exports__["a"]=Enemy},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__["a"]=class{get debugPathFinding(){return false}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__game__=__webpack_require__(0);__webpack_exports__["a"]=class{constructor(x,y,text,color){this.x=x;this.y=y;this.text=text;this.color=color;this.velY=.01;this.opacity=1;this.effectTime=3e3;this.elapsedTime=0}update(delta){this.elapsedTime+=delta;this.opacity=1-this.elapsedTime/this.effectTime;this.y-=this.velY*delta}draw(){var ctx=__WEBPACK_IMPORTED_MODULE_0__game__["default"].context;ctx.fillStyle=this.color;ctx.font="8px Arial";ctx.globalAlpha=this.opacity;var previousBaseLine=ctx.textBaseline;ctx.textBaseline="middle";ctx.textAlign="center";ctx.fillText(this.text,this.x,this.y);ctx.globalAlpha=1;ctx.textBaseline=this.previousBaseLine}isActive(){return this.opacity>=0}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__InfoAreaComponent__=__webpack_require__(9);var __WEBPACK_IMPORTED_MODULE_1__InfoAreaTowerMenuUpgradeComponent__=__webpack_require__(17);var __WEBPACK_IMPORTED_MODULE_2__infoAreaTowerMenuEnemySelection__=__webpack_require__(18);var __WEBPACK_IMPORTED_MODULE_3__game__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_4__Statics__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_5__Button__=__webpack_require__(3);__webpack_exports__["a"]=class extends __WEBPACK_IMPORTED_MODULE_0__InfoAreaComponent__["a"]{constructor(){super();this.towerAttributeUpgradeComponents=[];__WEBPACK_IMPORTED_MODULE_3__game__["default"].registerSelectionChanged(this.onTowerSelectionChanged.bind(this))}isActive(){for(var x=0;x<__WEBPACK_IMPORTED_MODULE_3__game__["default"].tiles.length;x++){for(var y=0;y<__WEBPACK_IMPORTED_MODULE_3__game__["default"].tiles[x].length;y++){var tile=__WEBPACK_IMPORTED_MODULE_3__game__["default"].tiles[x][y];if(tile.selected&&tile.tower!=null){return true}}}return false}init(){var padding=5;var currentX=padding;var currentY=__WEBPACK_IMPORTED_MODULE_3__game__["default"].gameInfo.getHeight()+padding;this.infoSection={x:__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionX+padding,y:currentY,width:__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionWidth-padding*2,height:__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize};currentY+=padding;var upgradeComponentX=__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionX+padding;var upgradeComponentHeight=__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize*1.1;var upgradeComponentWidth=__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionWidth-padding*2-__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize*.7;this.towerAttributeUpgradeComponents.push(new __WEBPACK_IMPORTED_MODULE_1__InfoAreaTowerMenuUpgradeComponent__["a"]("AD",upgradeComponentX,currentY,upgradeComponentWidth,upgradeComponentHeight,"attackPower"));currentY+=padding+upgradeComponentHeight;this.towerAttributeUpgradeComponents.push(new __WEBPACK_IMPORTED_MODULE_1__InfoAreaTowerMenuUpgradeComponent__["a"]("DPS",upgradeComponentX,currentY,upgradeComponentWidth,upgradeComponentHeight,"attacksPerSeconds"));currentY+=padding+upgradeComponentHeight;this.towerAttributeUpgradeComponents.push(new __WEBPACK_IMPORTED_MODULE_1__InfoAreaTowerMenuUpgradeComponent__["a"]("R",upgradeComponentX,currentY,upgradeComponentWidth,upgradeComponentHeight,"attackRange"));currentY+=padding+upgradeComponentHeight;this.enemySelectionComponent=new __WEBPACK_IMPORTED_MODULE_2__infoAreaTowerMenuEnemySelection__["a"](__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionX+padding,currentY,__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionWidth-padding*2,__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize*.7);currentY+=padding+this.enemySelectionComponent.height;this.sellButton=new __WEBPACK_IMPORTED_MODULE_5__Button__["a"](__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionX+padding,currentY,__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionWidth-padding*2,__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize*.7,"Sell","red",this.onSellClick,this)}draw(ctx){for(var i=0;i<this.towerAttributeUpgradeComponents.length;i++){var element=this.towerAttributeUpgradeComponents[i];element.draw(ctx)}this.enemySelectionComponent.draw(ctx);this.sellButton.draw(ctx)}update(){for(var i=0;i<this.towerAttributeUpgradeComponents.length;i++){var element=this.towerAttributeUpgradeComponents[i];element.update()}}onTowerSelectionChanged(){var selectedTowers=[];for(var x=0;x<__WEBPACK_IMPORTED_MODULE_3__game__["default"].tiles.length;x++){for(var y=0;y<__WEBPACK_IMPORTED_MODULE_3__game__["default"].tiles[x].length;y++){var tile=__WEBPACK_IMPORTED_MODULE_3__game__["default"].tiles[x][y];if(tile.selected&&tile.tower!=null){selectedTowers.push(tile.tower)}}}for(var i=0;i<this.towerAttributeUpgradeComponents.length;i++){var element=this.towerAttributeUpgradeComponents[i];element.calculateCurrentData(selectedTowers)}this.enemySelectionComponent.calculateCurrentData(selectedTowers)}onTargetSwitchClick(){console.log("TargetSwitch")}onSellClick(){if(!this.isActive()){return}for(var x=0;x<__WEBPACK_IMPORTED_MODULE_3__game__["default"].tiles.length;x++){for(var y=0;y<__WEBPACK_IMPORTED_MODULE_3__game__["default"].tiles[x].length;y++){var currentTile=__WEBPACK_IMPORTED_MODULE_3__game__["default"].tiles[x][y];if(currentTile.selected&&currentTile.tower!=null){__WEBPACK_IMPORTED_MODULE_3__game__["default"].money+=currentTile.tower.prize;currentTile.tower=null}}}__WEBPACK_IMPORTED_MODULE_3__game__["default"].gameAreaChanged()}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Button__=__webpack_require__(3);var __WEBPACK_IMPORTED_MODULE_1__game__=__webpack_require__(0);__webpack_exports__["a"]=class{constructor(name,x,y,width,height,attributeName){this.name=name;this.x=x;this.y=y;this.width=width;this.height=height;this.attributeName=attributeName;this.currentData=null;this.upgradeButton=new __WEBPACK_IMPORTED_MODULE_0__Button__["a"](x+width,y,height,height,"U","green",this.onUpgrade,this);this.calculateCurrentData([])}isActive(){return this.currentData.towers.length>0}draw(ctx){ctx=__WEBPACK_IMPORTED_MODULE_1__game__["default"].context;ctx.strokeStyle="#777777";ctx.lineWidth=.5;ctx.strokeRect(this.x,this.y,this.width,this.height);ctx.fillStyle="#111111";ctx.font="9px Arial";var previousBaseLine=ctx.textBaseline;ctx.textBaseline="middle";ctx.textAlign="start";ctx.fillText(this.name,this.x+2,this.y+this.height/4);ctx.textAlign="end";ctx.fillText(Math.floor(this.currentData.currentCombined),this.x+this.width-2,this.y+this.height/4);ctx.textAlign="start";ctx.fillText(Math.floor(this.currentData.priceCombined),this.x+2,this.y+this.height/4*3);ctx.textAlign="end";ctx.fillText(Math.floor(this.currentData.nextCombined),this.x+this.width-2,this.y+this.height/4*3);ctx.textBaseline=previousBaseLine;this.upgradeButton.draw(ctx)}calculateCurrentData(selectedTowers){this.selectedTowers=selectedTowers;var currentCombined=null;var nextCombined=null;var priceCombined=null;var minLevel=Number.MAX_VALUE;var towers=[];for(var i=0;i<selectedTowers.length;i++){var tower=selectedTowers[i];var current=tower[this.attributeName].getValue();var next=tower[this.attributeName].getUpgradeValue();var price=tower[this.attributeName].getUpgradePrice();if(tower[this.attributeName].getLevel()<minLevel){minLevel=tower[this.attributeName].getLevel();currentCombined=current;nextCombined=next;priceCombined=price;towers=[tower]}else if(tower[this.attributeName].getLevel()==minLevel){towers.push(tower);currentCombined+=current;nextCombined+=next;priceCombined+=price}}if(towers.length>0){this.currentData={towers,currentCombined,nextCombined,priceCombined}}else{this.currentData={towers:[],currentCombined:0,nextCombined:0,priceCombined:0}}}update(){}onUpgrade(){if(this.currentData.priceCombined<__WEBPACK_IMPORTED_MODULE_1__game__["default"].money){__WEBPACK_IMPORTED_MODULE_1__game__["default"].money-=this.currentData.priceCombined;for(var i=0;i<this.currentData.towers.length;i++){var tower=this.currentData.towers[i];var price=tower[this.attributeName].getUpgradePrice();tower[this.attributeName].increaseLevel()}}this.calculateCurrentData(this.selectedTowers)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__enemySelectors__=__webpack_require__(5);var __WEBPACK_IMPORTED_MODULE_1__Button__=__webpack_require__(3);__webpack_exports__["a"]=class{constructor(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;this.currentSelector=null;this.useableSelectors=[];this.selectedTowers=[];this.enemySelectorSwitchButton=new __WEBPACK_IMPORTED_MODULE_1__Button__["a"](this.x,this.y,this.width,this.height,"N/A","lightblue",this.onTargetSwitchClick,this)}draw(ctx){this.enemySelectorSwitchButton.draw(ctx)}calculateCurrentData(selectedTowers){this.selectedTowers=selectedTowers;this.useableSelectors=[];var mostSelected=new Map;for(let i=0;i<selectedTowers.length;i++){const tower=selectedTowers[i];var count=mostSelected.get(tower.enemySelector);if(count==undefined){count=0}count++;mostSelected.set(tower.enemySelector,count);if(this.useableSelectors.length==0){this.useableSelectors=tower.useableSelectors}for(let j=0;j<this.useableSelectors.length;j++){const selector=this.useableSelectors[j];var contains=false;for(let l=0;l<tower.useableSelectors.length;l++){const towerSelector=tower.useableSelectors[l];if(towerSelector==selector){contains=true;break}}if(!contains){this.useableSelectors.splice(j,1)}}}var mostSelectedSelector=null;var highestValue=0;for(var[key,value]of mostSelected.entries()){if(value>highestValue||mostSelectedSelector==null){mostSelectedSelector=key;highestValue=value}}this.currentSelector=mostSelectedSelector;if(this.currentSelector!=null){this.enemySelectorSwitchButton.text=this.currentSelector.name}if(this.useableSelectors.length>1){this.enemySelectorSwitchButton.color="lightblue"}else{this.enemySelectorSwitchButton.color="lightgray"}}onTargetSwitchClick(){var i=this.useableSelectors.indexOf(this.currentSelector);i++;if(i>=this.useableSelectors.length){i=0}this.currentSelector=this.useableSelectors[i];for(let i=0;i<this.selectedTowers.length;i++){const tower=this.selectedTowers[i];if(tower.useableSelectors.indexOf(this.currentSelector)>=0){tower.enemySelector=this.currentSelector}}this.enemySelectorSwitchButton.text=this.currentSelector.name}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__InfoAreaComponent__=__webpack_require__(9);var __WEBPACK_IMPORTED_MODULE_1__game__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_2__Button__=__webpack_require__(3);var __WEBPACK_IMPORTED_MODULE_3__helper__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_4__Statics__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_5__towerTypes__=__webpack_require__(20);__webpack_exports__["a"]=class extends __WEBPACK_IMPORTED_MODULE_0__InfoAreaComponent__["a"]{constructor(){super();this.towers=[];this.selectedTower;this.enougthMoneyToBuildSelection=false;this.buildButton;this.infoSection;this.buildPrize=0;this.availableTowers=[__WEBPACK_IMPORTED_MODULE_5__towerTypes__["a"],__WEBPACK_IMPORTED_MODULE_5__towerTypes__["b"],__WEBPACK_IMPORTED_MODULE_5__towerTypes__["c"]];__WEBPACK_IMPORTED_MODULE_1__game__["default"].canvas.addEventListener("mousedown",this.handleMouseDown.bind(this),true)}isActive(){return true}init(){var padding=5;var towerSpaceX=__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionWidth-padding;var towersPerRow=Math.floor(towerSpaceX/(__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize+padding));var cleanSpacing=__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionWidth-padding-__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize*towersPerRow-towersPerRow*padding;var currentX=padding;var currentY=__WEBPACK_IMPORTED_MODULE_1__game__["default"].gameInfo.getHeight()+padding;var currentTowersInRow=0;for(var i=0;i<this.availableTowers.length;i++){if(currentTowersInRow>=towersPerRow){currentTowersInRow=0;currentX=padding;currentY+=padding+tileSize}currentTowersInRow+=1;var towerObj={inst:new this.availableTowers[i](currentX+__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionX,currentY+__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionY,__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize),constructor:this.availableTowers[i]};this.towers.push(towerObj);currentX+=__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize+padding+cleanSpacing}currentY+=__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize+padding*4;this.infoSection={x:__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionX+padding,y:currentY,width:__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionWidth-padding*2,height:__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize};currentY+=padding;this.buildButton=new __WEBPACK_IMPORTED_MODULE_2__Button__["a"](__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionX+padding,currentY,__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].infoRegionWidth-padding*2,__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize*.7,"Build","green",this.onBuildClick,this)}draw(ctx){var padding=5;for(var i=0;i<this.towers.length;i++){var tower=this.towers[i];tower.inst.draw(ctx);if(tower==this.selectedTower){ctx.strokeStyle="#000000";ctx.strokeRect(tower.inst.x,tower.inst.y,tower.inst.width,tower.inst.height)}}if(this.selectedTower!=null){ctx.fillStyle="#111111";ctx.font="9px Arial";ctx.textAlign="start";ctx.fillText("Prize: ",this.infoSection.x,this.infoSection.y);ctx.textAlign="end";ctx.fillText(this.buildPrize,this.infoSection.x+this.infoSection.width,this.infoSection.y);this.buildButton.draw(ctx)}}update(){var enoughMoney=this.calculacteEnougthMoneyForSelection();if(enoughMoney){this.buildButton.setColor("green")}else{this.buildButton.setColor("gray")}}calculacteEnougthMoneyForSelection(){if(this.selectedTower==null){return false}var towerPrize=this.selectedTower.inst.prize;var numberOfTowersToBuild=0;for(var x=0;x<__WEBPACK_IMPORTED_MODULE_1__game__["default"].tiles.length;x++){for(var y=0;y<__WEBPACK_IMPORTED_MODULE_1__game__["default"].tiles[x].length;y++){var currentTile=__WEBPACK_IMPORTED_MODULE_1__game__["default"].tiles[x][y];if(currentTile.selected&&currentTile.tower==null){numberOfTowersToBuild+=1}}}this.buildPrize=numberOfTowersToBuild*towerPrize;return this.buildPrize<=__WEBPACK_IMPORTED_MODULE_1__game__["default"].money}onBuildClick(mouse){if(!this.isActive()){return}if(this.calculacteEnougthMoneyForSelection()){var towerPrize=this.selectedTower.inst.prize;for(var x=0;x<__WEBPACK_IMPORTED_MODULE_1__game__["default"].tiles.length;x++){for(var y=0;y<__WEBPACK_IMPORTED_MODULE_1__game__["default"].tiles[x].length;y++){var currentTile=__WEBPACK_IMPORTED_MODULE_1__game__["default"].tiles[x][y];if(currentTile.selected&&currentTile.tower==null){if(__WEBPACK_IMPORTED_MODULE_1__game__["default"].money>=towerPrize){__WEBPACK_IMPORTED_MODULE_1__game__["default"].money-=towerPrize;console.log("Build Tower at "+x+" / "+y);currentTile.tower=new this.selectedTower.constructor(currentTile.x,currentTile.y,__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize,__WEBPACK_IMPORTED_MODULE_4__Statics__["a"].tileSize)}}}}__WEBPACK_IMPORTED_MODULE_1__game__["default"].gameAreaChanged()}}handleMouseDown(e){var mouse=Object(__WEBPACK_IMPORTED_MODULE_3__helper__["a"])(e);for(var i=0;i<this.towers.length;i++){if(mouse.x>this.towers[i].inst.x&&mouse.x<this.towers[i].inst.x+this.towers[i].inst.width&&mouse.y>this.towers[i].inst.y&&mouse.y<this.towers[i].inst.y+this.towers[i].inst.height){this.selectedTower=this.towers[i];return}}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__tower__=__webpack_require__(21);var __WEBPACK_IMPORTED_MODULE_1__enemySelectors__=__webpack_require__(5);var __WEBPACK_IMPORTED_MODULE_2__game__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_3__towerAttribute__=__webpack_require__(4);var __WEBPACK_IMPORTED_MODULE_4__bullets_basicTowerBullet__=__webpack_require__(22);var __WEBPACK_IMPORTED_MODULE_5__bullets_electroTowerBullet__=__webpack_require__(23);var __WEBPACK_IMPORTED_MODULE_6__bullets_mortarTowerBullet__=__webpack_require__(24);var __WEBPACK_IMPORTED_MODULE_7__Statics__=__webpack_require__(1);class BasicTower extends __WEBPACK_IMPORTED_MODULE_0__tower__["a"]{constructor(x,y,width,height){super(x,y,width,height);this.color="#995555";this.prize=10;this.useableSelectors=[__WEBPACK_IMPORTED_MODULE_1__enemySelectors__["c"],__WEBPACK_IMPORTED_MODULE_1__enemySelectors__["a"]];this.enemySelector=this.useableSelectors[0]}doAttack(enemy){__WEBPACK_IMPORTED_MODULE_2__game__["default"].entities.push(new __WEBPACK_IMPORTED_MODULE_4__bullets_basicTowerBullet__["a"](this.x+this.width/2,this.y+this.height/2,2,enemy,this.attackPower.getValue()))}}__webpack_exports__["a"]=BasicTower;class ElectroTower extends __WEBPACK_IMPORTED_MODULE_0__tower__["a"]{constructor(x,y,width,height){super(x,y,width,height);this.color="#555599";this.prize=100;this.useableSelectors=[__WEBPACK_IMPORTED_MODULE_1__enemySelectors__["c"],__WEBPACK_IMPORTED_MODULE_1__enemySelectors__["b"],__WEBPACK_IMPORTED_MODULE_1__enemySelectors__["d"]];this.enemySelector=this.useableSelectors[0]}doAttack(enemy){var secsBetweenAttacks=1e3/this.attacksPerSeconds.getValue();secsBetweenAttacks*=.7;var delayMultiplier=secsBetweenAttacks/10;var delays=[1,3,5,7,9];for(let i=0;i<delays.length;i++){const delay=delays[i];__WEBPACK_IMPORTED_MODULE_2__game__["default"].entities.push(new __WEBPACK_IMPORTED_MODULE_5__bullets_electroTowerBullet__["a"](this.x+this.width/2,this.y+this.height/2,enemy,this.attackPower.getValue()/delays.length,delay*delayMultiplier,100))}}}__webpack_exports__["b"]=ElectroTower;class MortarTower extends __WEBPACK_IMPORTED_MODULE_0__tower__["a"]{constructor(x,y,width,height){super(x,y,width,height);this.color="#559955";this.prize=150;this.useableSelectors=[__WEBPACK_IMPORTED_MODULE_1__enemySelectors__["c"],__WEBPACK_IMPORTED_MODULE_1__enemySelectors__["b"],__WEBPACK_IMPORTED_MODULE_1__enemySelectors__["d"]];this.enemySelector=this.useableSelectors[0];this.damageArea=__WEBPACK_IMPORTED_MODULE_7__Statics__["a"].getTowerAttributeFor(this,"damageArea")}doAttack(enemy){var bulletSize=2;__WEBPACK_IMPORTED_MODULE_2__game__["default"].entities.push(new __WEBPACK_IMPORTED_MODULE_6__bullets_mortarTowerBullet__["a"](this.x+this.width/2,this.y+this.height/2,bulletSize,enemy.x,enemy.y,this.attackPower.getValue(),this.damageArea.getValue()))}}__webpack_exports__["c"]=MortarTower},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__enemySelectors__=__webpack_require__(5);var __WEBPACK_IMPORTED_MODULE_1__towerAttribute__=__webpack_require__(4);var __WEBPACK_IMPORTED_MODULE_2__game__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_3__Statics__=__webpack_require__(1);__webpack_exports__["a"]=class{constructor(x,y,width,height){this.prize=0;this.x=x;this.y=y;this.width=width;this.height=height;this.margin=3;this.color="red";this.lastAttack=999999;this.attacksPerSeconds=__WEBPACK_IMPORTED_MODULE_3__Statics__["a"].getTowerAttributeFor(this,"attacksPerSecond");this.attackPower=__WEBPACK_IMPORTED_MODULE_3__Statics__["a"].getTowerAttributeFor(this,"attackDamage");this.attackRange=__WEBPACK_IMPORTED_MODULE_3__Statics__["a"].getTowerAttributeFor(this,"attackRange");this.maxHealthPoints=__WEBPACK_IMPORTED_MODULE_3__Statics__["a"].getTowerAttributeFor(this,"healthPoints");this.currentHealthPoints=this.maxHealthPoints.getValue();this.upgradeableAttributes=[this.attackPower,this.attacksPerSeconds,this.attackRange]}draw(ctx){ctx.fillStyle=this.color;ctx.fillRect(this.x+this.margin,this.y+this.margin,this.width-this.margin*2,this.height-this.margin*2);if(this.maxHealthPoints>this.currentHealthPoints){ctx.fillStyle="red";ctx.fillRect(this.x,this.y,this.width,this.height/8);ctx.fillStyle="green";var healthWidth=this.width/this.maxHealthPoints*this.currentHealthPoints;ctx.fillRect(this.x,this.y,healthWidth,this.height/8)}}drawSelection(ctx){ctx.globalAlpha=.1;ctx.fillStyle="#AAAAAA";ctx.beginPath();ctx.arc(this.x+this.width/2,this.y+this.height/2,this.attackRange.getValue(),0,2*Math.PI);ctx.closePath();ctx.fill();ctx.strokeStyle="#333333";ctx.lineWidth=3;ctx.globalAlpha=.4;ctx.stroke();ctx.globalAlpha=1}update(delta){this.attack(delta)}calcDistance(x1,y1,x2,y2){var a=x1-x2;var b=y1-y2;return Math.sqrt(a*a+b*b)}attack(delta){this.lastAttack+=delta;var perSec=1e3/this.attacksPerSeconds.getValue();if(this.lastAttack<perSec){return}var enemy=this.enemySelector.find(this);if(enemy!=null){if(this.calcDistance(enemy.x,enemy.y,this.x,this.y)<this.attackRange.getValue()){this.doAttack(enemy);this.lastAttack=0}}}hit(points){this.currentHealthPoints-=points;if(this.currentHealthPoints<=0){this.currentHealthPoints=0}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Statics__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_1__game__=__webpack_require__(0);__webpack_exports__["a"]=class{constructor(x,y,size,enemy,hitValue){this.x=x;this.y=y;this.size=size;this.enemy=enemy;this.active=true;this.speed=2.5;var tx=this.enemy.x-this.x;var ty=this.enemy.y-this.y;var dist=Math.sqrt(tx*tx+ty*ty);this.velX=tx/dist*this.speed;this.velY=ty/dist*this.speed;this.hitValue=hitValue}update(){if(!this.active){return}this.x+=this.velX;this.y+=this.velY;if(this.outOfGameArea()){this.active=false;return}for(let i=0;i<__WEBPACK_IMPORTED_MODULE_1__game__["default"].enemies.length;i++){const enemy=__WEBPACK_IMPORTED_MODULE_1__game__["default"].enemies[i];var a=enemy.x-this.x;var b=enemy.y-this.y;var dist=Math.sqrt(a*a+b*b);if(dist<=this.size+this.enemy.size){enemy.hit(this.hitValue);this.active=false;break}}}outOfGameArea(){return this.x>__WEBPACK_IMPORTED_MODULE_0__Statics__["a"].tileSize*__WEBPACK_IMPORTED_MODULE_0__Statics__["a"].tilesCountWidth||this.y>__WEBPACK_IMPORTED_MODULE_0__Statics__["a"].tileSize*__WEBPACK_IMPORTED_MODULE_0__Statics__["a"].tilesCountHeight||this.x<0||this.y<0}draw(ctx){ctx.beginPath();ctx.fillStyle="black";ctx.arc(this.x,this.y,this.size,0,2*Math.PI);ctx.closePath();ctx.fill()}isActive(){return this.active}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Statics__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_1__game__=__webpack_require__(0);__webpack_exports__["a"]=class{constructor(x,y,enemy,hitValue,delay,afterGlow){this.x=x;this.y=y;this.enemy=enemy;this.active=true;this.hitValue=hitValue;this.delay=delay;this.elapsedTime=0;this.hitTime=null;this.lightningAfterGlowTime=afterGlow;this.lightningPath=null}randomIntFromInterval(min,max){return Math.floor(Math.random()*(max-min+1)+min)}calculateLightningPath(x1,y1,x2,y2){var sectionsCount=this.randomIntFromInterval(3,10);var a=x1-x2;var b=y1-y2;var dist=Math.sqrt(a*a+b*b);var path=[];path.push({x:x1,y:y1});for(let i=1;i<sectionsCount;i++){var percent=i/sectionsCount;var sectionX=x1+(x2-x1)*percent+this.randomIntFromInterval(dist*-.01,dist*.01);var sectionY=y1+(y2-y1)*percent+this.randomIntFromInterval(dist*-.01,dist*.01);path.push({x:sectionX,y:sectionY})}path.push({x:x2,y:y2});return path}update(delta){this.elapsedTime+=delta;if(this.enemy.isDead()&&this.hitTime==null){this.active=false}if(this.hitTime!=null&&this.elapsedTime>this.hitTime+this.lightningAfterGlowTime){this.active=false}if(!this.active){return}if(this.hitTime==null&&this.elapsedTime>this.delay){this.enemy.hit(this.hitValue);this.hitTime=this.elapsedTime;this.lightningPath=this.calculateLightningPath(this.x,this.y,this.enemy.x,this.enemy.y)}}draw(ctx){if(this.hitTime!=null&&this.lightningPath!=null&&this.lightningPath.length>0){ctx.beginPath();ctx.strokeStyle="lightblue";ctx.lineWidth=1;ctx.beginPath();for(let i=0;i<this.lightningPath.length;i++){const segment=this.lightningPath[i];ctx.lineTo(segment.x,segment.y)}ctx.stroke()}}isActive(){return this.active}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Statics__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_1__game__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_2__mortarExplosionEffect__=__webpack_require__(25);__webpack_exports__["a"]=class{constructor(x,y,size,targetX,targetY,hitValue,damageArea){this.x=x;this.y=y;this.size=size;this.targetX=targetX;this.targetY=targetY;this.active=true;this.speed=1;this.hitValue=hitValue;this.damageArea=damageArea}update(){if(!this.active){return}if(this.outOfGameArea()){this.active=false;return}var tx=this.targetX-this.x;var ty=this.targetY-this.y;var dist=Math.sqrt(tx*tx+ty*ty);this.velX=tx/dist*this.speed;this.velY=ty/dist*this.speed;this.x+=this.velX;this.y+=this.velY;if(dist<1){this.active=false;__WEBPACK_IMPORTED_MODULE_1__game__["default"].entities.push(new __WEBPACK_IMPORTED_MODULE_2__mortarExplosionEffect__["a"](this.x,this.y,this.damageArea));for(let i=0;i<__WEBPACK_IMPORTED_MODULE_1__game__["default"].enemies.length;i++){const enemy=__WEBPACK_IMPORTED_MODULE_1__game__["default"].enemies[i];var a=enemy.x-this.x;var b=enemy.y-this.y;var dist=Math.sqrt(a*a+b*b);if(dist<=this.damageArea){enemy.hit(this.hitValue/this.damageArea*dist)}}}}outOfGameArea(){return this.x>__WEBPACK_IMPORTED_MODULE_0__Statics__["a"].tileSize*__WEBPACK_IMPORTED_MODULE_0__Statics__["a"].tilesCountWidth||this.y>__WEBPACK_IMPORTED_MODULE_0__Statics__["a"].tileSize*__WEBPACK_IMPORTED_MODULE_0__Statics__["a"].tilesCountHeight||this.x<0||this.y<0}draw(ctx){ctx.beginPath();ctx.fillStyle="black";ctx.arc(this.x,this.y,this.size,0,2*Math.PI);ctx.closePath();ctx.fill()}isActive(){return this.active}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__["a"]=class{constructor(x,y,size){this.x=x;this.y=y;this.size=size;this.effectTime=600;this.elapsedTime=0;this.active=true}update(delta){this.elapsedTime+=delta;if(this.elapsedTime>this.effectTime){this.active=false}}draw(ctx){ctx.beginPath();ctx.fillStyle="red";ctx.globalAlpha=.1;var size=Math.min(this.effectTime/3,this.elapsedTime)/(this.effectTime/3)*this.size;ctx.arc(this.x,this.y,size,0,2*Math.PI);ctx.closePath();ctx.fill();ctx.globalAlpha=1}isActive(){return this.active}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Tile__=__webpack_require__(10);var __WEBPACK_IMPORTED_MODULE_1__game__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_2__Statics__=__webpack_require__(1);__webpack_exports__["a"]=class extends __WEBPACK_IMPORTED_MODULE_0__Tile__["a"]{constructor(x,y,width,height){super(x,y,width,height);this.color="#000000";this.coordsX=this.x/__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize;this.coordsY=this.y/__WEBPACK_IMPORTED_MODULE_2__Statics__["a"].tileSize;this.currentHealth=1e3;this.maxHealth=this.currentHealth}isDead(){return this.currentHealth<=0}isWalkable(){return false}draw(ctx){super.draw(ctx);ctx.fillStyle=this.color;ctx.fillRect(this.x,this.y,this.width,this.height);ctx.fillStyle="#CCCCCC";for(var cx=this.x;cx<this.x+this.width;cx+=4){for(var cy=this.y;cy<this.y+this.height;cy+=4){if((cx+cy)%8==4){ctx.fillRect(cx,cy,4,4)}}}}hit(points){this.currentHealth-=points;if(this.currentHealth<=0){this.currentHealth=0}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZDg1MjczZDIzYzJiMGI5NTRiZjQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N0YXRpY3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQnV0dG9uLmpzIiwid2VicGFjazovLy8uL3NyYy90b3dlckF0dHJpYnV0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5lbXlTZWxlY3RvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZW15QXR0cmlidXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9FbmVteVdhdmVHZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BhdGhGaW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0luZm9BcmVhQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9UaWxlLmpzIiwid2VicGFjazovLy8uL3NyYy9HYW1lSW5mb0NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRW5lbXlUcHllcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRW5lbXkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0RlYnVnT3B0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV4dEdvVXBFZmZlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0luZm9BcmVhVG93ZXJNZW51Q29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9JbmZvQXJlYVRvd2VyTWVudVVwZ3JhZGVDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZm9BcmVhVG93ZXJNZW51RW5lbXlTZWxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0luZm9BcmVhQnVpbGRDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rvd2VyVHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rvd2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9idWxsZXRzL2Jhc2ljVG93ZXJCdWxsZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2J1bGxldHMvZWxlY3Ryb1Rvd2VyQnVsbGV0LmpzIiwid2VicGFjazovLy8uL3NyYy9idWxsZXRzL21vcnRhclRvd2VyQnVsbGV0LmpzIiwid2VicGFjazovLy8uL3NyYy9idWxsZXRzL21vcnRhckV4cGxvc2lvbkVmZmVjdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRW5kVGlsZS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwiZ2V0RGVmYXVsdCIsImdldE1vZHVsZUV4cG9ydHMiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJpbnN0YW5jZSIsIkdhbWUiLCJbb2JqZWN0IE9iamVjdF0iLCJjb25zb2xlIiwibG9nIiwidGhpcyIsImdhbWVTdGF0ZSIsImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ3aWR0aCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fU3RhdGljc19fIiwiZ2FtZVdpZHRoIiwiaGVpZ2h0IiwiZ2FtZUhlaWdodCIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwidG93ZXJNZW51IiwiaW5mb0FyZWFDb21wb25lbnRzIiwiZ2FtZUluZm8iLCJtb25leSIsImxhc3RGcmFtZVRpbWVNcyIsIm1heEZQUyIsInRpbWVzdGVwIiwic3BlZWRNdWx0aXBsaWVyIiwidGlsZXMiLCJvcGVuTGlzdCIsImNsb3NlZExpc3QiLCJlbmRUaWxlIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19FbmRUaWxlX18iLCJlbmRYIiwidGlsZVNpemUiLCJlbmRZIiwiZW5lbWllcyIsImVudGl0aWVzIiwidG93ZXJTZWxlY3Rpb25DaGFuZ2VkQ2FsbGJhY2tzIiwicGF0aCIsImFkZEV2ZW50TGlzdGVuZXIiLCJnYW1lIiwic3RhcnQiLCJ0aW1lc3RhbXAiLCJkZWx0YSIsInVwZGF0ZUdhbWVBcmVhIiwiY2xlYXJSZWN0IiwiZHJhdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInVwZGF0ZSIsImRlZmF1bHRWaWV3IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInN0eWxlUGFkZGluZ0xlZnQiLCJwYXJzZUludCIsInN0eWxlUGFkZGluZ1RvcCIsInN0eWxlQm9yZGVyTGVmdCIsInN0eWxlQm9yZGVyVG9wIiwiaHRtbCIsImJvZHkiLCJwYXJlbnROb2RlIiwiaHRtbFRvcCIsIm9mZnNldFRvcCIsImh0bWxMZWZ0Iiwib2Zmc2V0TGVmdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRyYWNlIiwibW91c2VDYXB0dXJlU2V0dXAiLCJsb2FkVGlsZXMiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX0dhbWVJbmZvQ29tcG9uZW50X18iLCJwdXNoIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19JbmZvQXJlYVRvd2VyTWVudUNvbXBvbmVudF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19JbmZvQXJlYUJ1aWxkQ29tcG9uZW50X18iLCJmb3JFYWNoIiwiZWxlbWVudCIsImluaXQiLCJmcmFtZU5vIiwiaGFuZGxlTW91c2VEb3duIiwiYmluZCIsImVuZW15IiwibGVuZ3RoIiwiY2FsbGJhY2siLCJtb3VzZSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9faGVscGVyX18iLCJ4UG9zIiwiTWF0aCIsImZsb29yIiwieCIsInlQb3MiLCJ5IiwidGlsZXNDb3VudFdpZHRoIiwidGlsZXNDb3VudEhlaWdodCIsInNlbGVjdGVkIiwidGlsZSIsImdldFRpbGVBdCIsImN0cmxLZXkiLCJ0b3dlclNlbGVjdGlvbkNoYW5nZWQiLCJjb2wiLCJjb29yZHNYIiwiY29vcmRzWSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fVGlsZV9fIiwiZGVidWdQYXRoRmluZGluZyIsImZpbGxXaXRoUmFuZG9tVG93ZXJzIiwicmFuZG9tIiwic3RhcnRYIiwic3RhcnRZIiwidG93ZXIiLCJCYXNpY1Rvd2VyIiwiRWxlY3Ryb1Rvd2VyIiwiTW9ydGFyVG93ZXIiLCJnYW1lQXJlYUNoYW5nZWQiLCJjdHgiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1BhdGhGaW5kZXJfXyIsImRyYXdTZWxlY3Rpb24iLCJmaWxsU3R5bGUiLCJnbG9iYWxBbHBoYSIsImZpbGxSZWN0IiwiaW5mb0FyZWFDb21wb25lbnQiLCJhY3RpdmUiLCJpc0FjdGl2ZSIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJmaWxsVGV4dCIsImlzRGVhZCIsInNwbGljZSIsInJlYWNoZWRHb2FsIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19FbmVteVdhdmVHZW5lcmF0b3JfXyIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiZmluZFBhdGhBc3luYyIsInRoZW4iLCJlbmRUaW1lIiwiY3VzdG9tUGF0aCIsIm11bHRpcGxpZXIiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiU3RhdGljcyIsImluZm9SZWdpb25YIiwiaW5mb1JlZ2lvblkiLCJpbmZvUmVnaW9uV2lkdGgiLCJlbmVteVN0YXRzIiwiZGVmYXVsdCIsImF0dGFja0RhbWFnZSIsImJhc2VWYWx1ZSIsIm11bHRpIiwiYXR0YWNrc1BlclNlY29uZCIsImhlYWx0aFBvaW50cyIsIkJhc2ljRW5lbXkiLCJTbG93RW5lbXkiLCJHcm91cEVuZW15IiwiQm9zc0VuZW15IiwidG93ZXJTdGF0cyIsInByaWNlQmFzZVZhbHVlIiwicHJpY2VNdWx0aSIsImF0dGFja1JhbmdlIiwiZGFtYWdlQXJlYSIsIndhdmVQYXR0ZXJuIiwidHlwZSIsImJhc2VBbW91bnQiLCJzcGF3blBhdXNlVGltZSIsIndhdmVCcmVhayIsIm9iamVjdDEiLCJvYmplY3REZWZhdWx0IiwiZmllbGQiLCJzdWJGaWVsZCIsInVuZGVmaW5lZCIsInRvd2VyQ2xhc3MiLCJzdGF0TmFtZSIsInRvd2VyTmFtZSIsImNvbnN0cnVjdG9yIiwic3RhdFNvdXJjZSIsInNwZWNpZmljU3RhdFNvdXJjZSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdG93ZXJBdHRyaWJ1dGVfXyIsImdldE9yRWxzZSIsImVuZW15Q2xhc3MiLCJsZXZlbCIsImVuZW15TmFtZSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZW5lbXlBdHRyaWJ1dGVfXyIsInN0YXRpY3MiLCJnZXRNb3VzZSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZ2FtZV9fIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJteCIsIm15Iiwib2Zmc2V0UGFyZW50IiwicGFnZVgiLCJwYWdlWSIsImluaGVyaXRQc2V1ZG9DbGFzcyIsIlN1cGVyIiwiU3ViIiwiY3JlYXRlIiwidGV4dCIsImNvbG9yIiwiY2xpY2tFdmVudCIsImNsaWNrQ29udGV4dCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faGVscGVyX18iLCJhcHBseSIsIlRvd2VyQXR0cmlidXRlIiwic2hvcnREZXNjIiwiYmFzZVByaWNlIiwicHJpY2VNdWx0aXBsaWVyIiwiYmFzZSIsImNhbGMiLCJQcm9jZW50dWFsVG93ZXJBdHRyaWJ1dGUiLCJzdXBlciIsInBvdyIsImNhbGNEaXN0YW5jZSIsIngxIiwieTEiLCJ4MiIsInkyIiwiYSIsImIiLCJzcXJ0IiwiZW5lbXlTZWxlY3Rvck5lYXJlc3RPbmUiLCJmaW5kIiwibmVhcmVzdEVuZW15IiwiYmVzdERpc3RhbmNlIiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwiZGlzdGFuY2UiLCJnZXRWYWx1ZSIsImhhcmRTZWxlY3Rvck5lYXJlc3RPbmUiLCJoYXJkZXN0RW5lbXkiLCJtb3N0TGl2ZSIsIk1JTl9WQUxVRSIsImtleSIsImN1cnJlbnRIZWFsdGhQb2ludHMiLCJ3ZWFrU2VsZWN0b3JOZWFyZXN0T25lIiwibG93ZXN0RW5lbXkiLCJsZWFzdExpdmUiLCJmYXN0ZXN0U2VsZWN0b3JOZWFyZXN0T25lIiwiZmFzdGVzdEVuZW15IiwiZmFzdGVzdCIsInNwZWVkIiwiRW5lbXlXYXZlR2VuZXJhdG9yIiwiY3VycmVudFdhdmUiLCJzdGF0ZSIsIndhdmVTcGF3bldhaXRUaW1lIiwid2F2ZVBvd2VyIiwiZWxhcHNlZFRpbWUiLCJ1cGRhdGVkU3RhdHNGb3JXYXZlIiwicHJpbnRFbmVtaWVzIiwid2F2ZU51bWJlciIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fU3RhdGljc19fIiwid2F2ZUluZm8iLCJnZXRXYXZlSW5mbyIsImN1cnJlbnRXYXZlRW5lbXlMZWZ0IiwiYnVpbGRFbmVteSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZ2FtZV9fIiwiYWRkRW5lbXkiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX0VuZW15VHB5ZXNfXyIsImxhc3RFbmVtaWVzVGFibGVCb2R5IiwiY3VycmVudFdhdmVSb3ciLCJjcmVhdGVFbGVtZW50IiwidHlwZUNvbHVtbiIsImFwcGVuZENoaWxkIiwiaW5uZXJUZXh0IiwiaHBDb2x1bW4iLCJjbGFzc05hbWUiLCJtYXhIZWFsdGhQb2ludHMiLCJwcmVwZW5kIiwiZW5lbXlXYXZlR2VuZXJhdG9yIiwiUGF0aEZpbmRlciIsImZhY3RvciIsInBhdGhMZW5ndGgiLCJncmlkIiwiY3VycmVudCIsImlzV2Fsa2FibGUiLCJlbGVtZW50SW5PcGVuTGlzdCIsIm9wZW5MaXN0SW5kZXgiLCJwcmV2aW91cyIsImVuZCIsImN1cnJlbnRFbGVtZW50IiwiZmluZFBhdGgiLCJjaGVja2VkVGlsZXMiLCJzb3J0Iiwic2hpZnQiLCJmb3JtYXRQYXRoIiwic2xlZXAiLCJleHBhbmRUaWxlIiwibmVhcmVzdEVsZW1lbnRUb0VuZCIsIm1hcmdpbiIsImN1cnJlbnRUaWxlIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19EZWJ1Z09wdGlvbnNfXyIsImlzTmFOIiwibXMiLCJQcm9taXNlIiwiciIsInNldFRpbWVvdXQiLCJwYXRoRmluZGVyIiwiYXR0YWNrUG93ZXIiLCJoaXQiLCJwYWRkaW5nIiwiaW5mb1NlY3Rpb24iLCJydW5Db250cm9sIiwic3BlZWRDb250cm9sIiwiZHJhd0NvbnRyb2xzIiwiZHJhd0luZm9PYmplY3QiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX0VuZW15V2F2ZUdlbmVyYXRvcl9fIiwiY3VycmVudEhlYWx0aCIsIm1heEhlYWx0aCIsInZhbHVlIiwicG9zIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiY2xvc2VQYXRoIiwiZmlsbCIsImdldFNwZWVkTXVsdGlwbGllciIsImFycm93V2lkdGgiLCJzZXRTcGVlZE11bHRpcGxpZXIiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX0VuZW15X18iLCJGYXN0RW5lbXkiLCJFbmVteSIsInNpemUiLCJsYXN0QXR0YWNrIiwiYXR0YWNrc1BlclNlY29uZHMiLCJnZXRFbmVteUF0dHJpYnV0ZUZvciIsIm5leHRXYWxrUG9pbnQiLCJhcmMiLCJQSSIsImhlYWx0aFdpZHRoIiwiY3VycmVudFBhdGgiLCJpbmRleE9uUGF0aCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fUGF0aEZpbmRlcl9fIiwiY2FsY3VsYXRlV2Fsa1BvaW50IiwicGVyU2VjIiwiZGlmZlgiLCJkaWZmWSIsImF0dGFja0F0IiwicG9pbnRzIiwibW9uZXlFYXJuZWQiLCJyb3VuZCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fVGV4dEdvVXBFZmZlY3RfXyIsInR4IiwidHkiLCJkaXN0IiwidmVsWCIsInZlbFkiLCJhdHRhY2siLCJvcGFjaXR5IiwiZWZmZWN0VGltZSIsInByZXZpb3VzQmFzZUxpbmUiLCJ0ZXh0QmFzZWxpbmUiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX0luZm9BcmVhQ29tcG9uZW50X18iLCJ0b3dlckF0dHJpYnV0ZVVwZ3JhZGVDb21wb25lbnRzIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19nYW1lX18iLCJyZWdpc3RlclNlbGVjdGlvbkNoYW5nZWQiLCJvblRvd2VyU2VsZWN0aW9uQ2hhbmdlZCIsImN1cnJlbnRYIiwiY3VycmVudFkiLCJnZXRIZWlnaHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1N0YXRpY3NfXyIsInVwZ3JhZGVDb21wb25lbnRYIiwidXBncmFkZUNvbXBvbmVudEhlaWdodCIsInVwZ3JhZGVDb21wb25lbnRXaWR0aCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fSW5mb0FyZWFUb3dlck1lbnVVcGdyYWRlQ29tcG9uZW50X18iLCJlbmVteVNlbGVjdGlvbkNvbXBvbmVudCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9faW5mb0FyZWFUb3dlck1lbnVFbmVteVNlbGVjdGlvbl9fIiwic2VsbEJ1dHRvbiIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fQnV0dG9uX18iLCJvblNlbGxDbGljayIsInNlbGVjdGVkVG93ZXJzIiwiY2FsY3VsYXRlQ3VycmVudERhdGEiLCJwcml6ZSIsImF0dHJpYnV0ZU5hbWUiLCJjdXJyZW50RGF0YSIsInVwZ3JhZGVCdXR0b24iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX0J1dHRvbl9fIiwib25VcGdyYWRlIiwidG93ZXJzIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2VSZWN0IiwiY3VycmVudENvbWJpbmVkIiwicHJpY2VDb21iaW5lZCIsIm5leHRDb21iaW5lZCIsIm1pbkxldmVsIiwibmV4dCIsImdldFVwZ3JhZGVWYWx1ZSIsInByaWNlIiwiZ2V0VXBncmFkZVByaWNlIiwiZ2V0TGV2ZWwiLCJpbmNyZWFzZUxldmVsIiwiY3VycmVudFNlbGVjdG9yIiwidXNlYWJsZVNlbGVjdG9ycyIsImVuZW15U2VsZWN0b3JTd2l0Y2hCdXR0b24iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX0J1dHRvbl9fIiwib25UYXJnZXRTd2l0Y2hDbGljayIsIm1vc3RTZWxlY3RlZCIsIk1hcCIsImNvdW50IiwiZW5lbXlTZWxlY3RvciIsInNldCIsImoiLCJzZWxlY3RvciIsImNvbnRhaW5zIiwidG93ZXJTZWxlY3RvciIsIm1vc3RTZWxlY3RlZFNlbGVjdG9yIiwiaGlnaGVzdFZhbHVlIiwiZW50cmllcyIsImluZGV4T2YiLCJzZWxlY3RlZFRvd2VyIiwiZW5vdWd0aE1vbmV5VG9CdWlsZFNlbGVjdGlvbiIsImJ1aWxkQnV0dG9uIiwiYnVpbGRQcml6ZSIsImF2YWlsYWJsZVRvd2VycyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fdG93ZXJUeXBlc19fIiwidG93ZXJTcGFjZVgiLCJ0b3dlcnNQZXJSb3ciLCJjbGVhblNwYWNpbmciLCJjdXJyZW50VG93ZXJzSW5Sb3ciLCJ0b3dlck9iaiIsImluc3QiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX0J1dHRvbl9fIiwib25CdWlsZENsaWNrIiwiZW5vdWdoTW9uZXkiLCJjYWxjdWxhY3RlRW5vdWd0aE1vbmV5Rm9yU2VsZWN0aW9uIiwic2V0Q29sb3IiLCJ0b3dlclByaXplIiwibnVtYmVyT2ZUb3dlcnNUb0J1aWxkIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19oZWxwZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdG93ZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZW5lbXlTZWxlY3RvcnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fZ2FtZV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19idWxsZXRzX2Jhc2ljVG93ZXJCdWxsZXRfXyIsInNlY3NCZXR3ZWVuQXR0YWNrcyIsImRlbGF5TXVsdGlwbGllciIsImRlbGF5cyIsImRlbGF5IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19idWxsZXRzX2VsZWN0cm9Ub3dlckJ1bGxldF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19TdGF0aWNzX18iLCJnZXRUb3dlckF0dHJpYnV0ZUZvciIsImJ1bGxldFNpemUiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX2J1bGxldHNfbW9ydGFyVG93ZXJCdWxsZXRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fU3RhdGljc19fIiwidXBncmFkZWFibGVBdHRyaWJ1dGVzIiwic3Ryb2tlIiwiZG9BdHRhY2siLCJoaXRWYWx1ZSIsIm91dE9mR2FtZUFyZWEiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1N0YXRpY3NfXyIsImFmdGVyR2xvdyIsImhpdFRpbWUiLCJsaWdodG5pbmdBZnRlckdsb3dUaW1lIiwibGlnaHRuaW5nUGF0aCIsIm1pbiIsIm1heCIsInNlY3Rpb25zQ291bnQiLCJyYW5kb21JbnRGcm9tSW50ZXJ2YWwiLCJwZXJjZW50Iiwic2VjdGlvblgiLCJzZWN0aW9uWSIsImNhbGN1bGF0ZUxpZ2h0bmluZ1BhdGgiLCJzZWdtZW50IiwidGFyZ2V0WCIsInRhcmdldFkiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX21vcnRhckV4cGxvc2lvbkVmZmVjdF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19UaWxlX18iLCJjeCIsImN5Il0sIm1hcHBpbmdzIjoibUJBQ0EsSUFBQUEsb0JBR0EsU0FBQUMsb0JBQUFDLFVBR0EsR0FBQUYsaUJBQUFFLFVBQUEsQ0FDQSxPQUFBRixpQkFBQUUsVUFBQUMsUUFHQSxJQUFBQyxPQUFBSixpQkFBQUUsV0FDQUcsRUFBQUgsU0FDQUksRUFBQSxNQUNBSCxZQUlBSSxRQUFBTCxVQUFBTSxLQUFBSixPQUFBRCxRQUFBQyxjQUFBRCxRQUFBRixxQkFHQUcsT0FBQUUsRUFBQSxLQUdBLE9BQUFGLE9BQUFELFFBS0FGLG9CQUFBUSxFQUFBRixRQUdBTixvQkFBQVMsRUFBQVYsaUJBR0FDLG9CQUFB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LE9BQXlCOGIsSUFBQSxHQUMxRCxJQUFBRCxHQUFBQyxJQUFBLE1BQ0EvVixJQUFBSyxTQUFBeVYsR0FBQUMsR0FBQSxRQU1BemMsSUFBQXVVLFFBQ0FwVSxLQUFBcVMsZUFBQStCLE9BQ0EsR0FBQXBVLEtBQUFxUyxlQUFBLEdBQ0FyUyxLQUFBcVMsY0FBQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBkODUyNzNkMjNjMmIwYjk1NGJmNCIsImltcG9ydCBHYW1lSW5mb0NvbXBvbmVudCBmcm9tICcuL0dhbWVJbmZvQ29tcG9uZW50JztcclxuaW1wb3J0IEluZm9BcmVhVG93ZXJNZW51Q29tcG9uZW50IGZyb20gJy4vSW5mb0FyZWFUb3dlck1lbnVDb21wb25lbnQnO1xyXG5pbXBvcnQgSW5mb0FyZWFCdWlsZENvbXBvbmVudCBmcm9tICcuL0luZm9BcmVhQnVpbGRDb21wb25lbnQnO1xyXG5pbXBvcnQgcGF0aEZpbmRlciBmcm9tICcuL1BhdGhGaW5kZXInO1xyXG5pbXBvcnQgRW5kVGlsZSBmcm9tICcuL0VuZFRpbGUnO1xyXG5pbXBvcnQgc3RhdGljcyBmcm9tICcuL1N0YXRpY3MnO1xyXG5pbXBvcnQgVGlsZSBmcm9tICcuL1RpbGUnO1xyXG5pbXBvcnQgeyBFbmVteVdhdmVHZW5lcmF0b3IsIGVuZW15V2F2ZUdlbmVyYXRvciB9IGZyb20gJy4vRW5lbXlXYXZlR2VuZXJhdG9yJztcclxuaW1wb3J0IHsgZ2V0TW91c2UgfSBmcm9tICcuL2hlbHBlcic7XHJcblxyXG5sZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5cclxuY2xhc3MgR2FtZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHYW1lIENvbnN0cnVjdG9yXCIpO1xyXG4gICAgICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluc3RhbmNlID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBcIk5PVCBTVEFSVEVEXCI7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lQ2FudmFzXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHN0YXRpY3MuZ2FtZVdpZHRoO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHN0YXRpY3MuZ2FtZUhlaWdodDtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnRvd2VyTWVudSA9IFtdO1xyXG4gICAgICAgIHRoaXMuaW5mb0FyZWFDb21wb25lbnRzID0gW107XHJcbiAgICAgICAgdGhpcy5nYW1lSW5mbztcclxuXHJcbiAgICAgICAgdGhpcy5tb25leSA9IDEwMDtcclxuXHJcbiAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lTXMgPSAwO1xyXG4gICAgICAgIHRoaXMubWF4RlBTID0gNjA7XHJcbiAgICAgICAgdGhpcy50aW1lc3RlcCA9IDEwMDAgLyA2MDtcclxuICAgICAgICB0aGlzLnNwZWVkTXVsdGlwbGllciA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMudGlsZXMgPSBbXTtcclxuICAgICAgICB0aGlzLm9wZW5MaXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5jbG9zZWRMaXN0ID0gW107XHJcblxyXG4gICAgICAgIHRoaXMuZW5kVGlsZSA9IG5ldyBFbmRUaWxlKHN0YXRpY3MuZW5kWCAqIHN0YXRpY3MudGlsZVNpemUsIHN0YXRpY3MuZW5kWSAqIHN0YXRpY3MudGlsZVNpemUsIHN0YXRpY3MudGlsZVNpemUsIHN0YXRpY3MudGlsZVNpemUpO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW1pZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzID0gW107XHJcbiAgICAgICAgdGhpcy50b3dlclNlbGVjdGlvbkNoYW5nZWRDYWxsYmFja3MgPSBbXTtcclxuICAgICAgICB0aGlzLnBhdGggPSBudWxsO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7IGdhbWUuc3RhcnQoKSB9KTtcclxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZSh0aW1lc3RhbXApIHtcclxuICAgICAgICAvLyBUaHJvdHRsZSB0aGUgZnJhbWUgcmF0ZS4gICAgXHJcbiAgICAgICAvKiBpZiAodGltZXN0YW1wIDwgZ2FtZS5sYXN0RnJhbWVUaW1lTXMgKyAoMTAwMCAvIGdhbWUubWF4RlBTKSkge1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZS51cGRhdGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSovXHJcblxyXG4gICAgICAgIHZhciBkZWx0YSA9IHRpbWVzdGFtcCAtIGdhbWUubGFzdEZyYW1lVGltZU1zXHJcbiAgICAgICAgLy8gVHJhY2sgdGhlIGFjY3VtdWxhdGVkIHRpbWUgdGhhdCBoYXNuJ3QgYmVlbiBzaW11bGF0ZWQgeWV0XHJcbiAgICAgICAgZGVsdGEgKz0gdGltZXN0YW1wIC0gZ2FtZS5sYXN0RnJhbWVUaW1lTXM7IFxyXG4gICAgICAgIGRlbHRhICo9IGdhbWUuc3BlZWRNdWx0aXBsaWVyO1xyXG4gICAgICAgIGdhbWUubGFzdEZyYW1lVGltZU1zID0gdGltZXN0YW1wO1xyXG5cclxuICAgICAgICAvLyBTaW11bGF0ZSB0aGUgdG90YWwgZWxhcHNlZCB0aW1lIGluIGZpeGVkLXNpemUgY2h1bmtzXHJcbiAgICAgICAgd2hpbGUgKGRlbHRhID49IGdhbWUudGltZXN0ZXApIHtcclxuICAgICAgICAgICAgZ2FtZS51cGRhdGVHYW1lQXJlYShnYW1lLnRpbWVzdGVwKTtcclxuICAgICAgICAgICAgZGVsdGEgLT0gZ2FtZS50aW1lc3RlcDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdhbWUuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgZ2FtZS5jYW52YXMud2lkdGgsIGdhbWUuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgZ2FtZS5kcmF3KGdhbWUuY29udGV4dCk7XHJcblxyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lLnVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbW91c2VDYXB0dXJlU2V0dXAoKSB7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3ICYmIGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zdHlsZVBhZGRpbmdMZWZ0ID0gcGFyc2VJbnQoZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmNhbnZhcywgbnVsbClbJ3BhZGRpbmdMZWZ0J10sIDEwKSB8fCAwO1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlUGFkZGluZ1RvcCA9IHBhcnNlSW50KGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodGhpcy5jYW52YXMsIG51bGwpWydwYWRkaW5nVG9wJ10sIDEwKSB8fCAwO1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlQm9yZGVyTGVmdCA9IHBhcnNlSW50KGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodGhpcy5jYW52YXMsIG51bGwpWydib3JkZXJMZWZ0V2lkdGgnXSwgMTApIHx8IDA7XHJcbiAgICAgICAgICAgIHRoaXMuc3R5bGVCb3JkZXJUb3AgPSBwYXJzZUludChkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuY2FudmFzLCBudWxsKVsnYm9yZGVyVG9wV2lkdGgnXSwgMTApIHx8IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBodG1sID0gZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlO1xyXG4gICAgICAgIHRoaXMuaHRtbFRvcCA9IGh0bWwub2Zmc2V0VG9wO1xyXG4gICAgICAgIHRoaXMuaHRtbExlZnQgPSBodG1sLm9mZnNldExlZnQ7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ2FtZVN0YXRlKTtcclxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YXRlICE9IFwiTk9UIFNUQVJURURcIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0YXJ0aW5nIGFnYWluXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic3RhcnRpbmdcIik7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBcIlJVTk5JTkdcIjtcclxuICAgICAgICB0aGlzLm1vdXNlQ2FwdHVyZVNldHVwKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkVGlsZXMoKTtcclxuICAgICAgICB0aGlzLmdhbWVJbmZvID0gbmV3IEdhbWVJbmZvQ29tcG9uZW50KCk7XHJcbiAgICAgICAgdGhpcy5pbmZvQXJlYUNvbXBvbmVudHMucHVzaChuZXcgSW5mb0FyZWFUb3dlck1lbnVDb21wb25lbnQoKSk7XHJcbiAgICAgICAgdGhpcy5pbmZvQXJlYUNvbXBvbmVudHMucHVzaChuZXcgSW5mb0FyZWFCdWlsZENvbXBvbmVudCgpKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuaW5mb0FyZWFDb21wb25lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5pbml0KCk7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmZyYW1lTm8gPSAwO1xyXG4gICAgICAgIGdhbWUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlTW91c2VEb3duLmJpbmQodGhpcyksIHRydWUpO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lLnVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGFkZEVuZW15KGVuZW15KSB7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLnB1c2goZW5lbXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvd2VyU2VsZWN0aW9uQ2hhbmdlZCgpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudG93ZXJTZWxlY3Rpb25DaGFuZ2VkQ2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IHRoaXMudG93ZXJTZWxlY3Rpb25DaGFuZ2VkQ2FsbGJhY2tzW2ldO1xyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlZ2lzdGVyU2VsZWN0aW9uQ2hhbmdlZChjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMudG93ZXJTZWxlY3Rpb25DaGFuZ2VkQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZU1vdXNlRG93bihlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YXRlID09IFwiR0FNRU9WRVJcIikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtb3VzZSA9IGdldE1vdXNlKGUpO1xyXG4gICAgICAgIHZhciB4UG9zID0gTWF0aC5mbG9vcihtb3VzZS54IC8gc3RhdGljcy50aWxlU2l6ZSk7XHJcbiAgICAgICAgdmFyIHlQb3MgPSBNYXRoLmZsb29yKG1vdXNlLnkgLyBzdGF0aWNzLnRpbGVTaXplKTtcclxuICAgICAgICBpZiAobW91c2UueCA8PSBzdGF0aWNzLnRpbGVTaXplICogc3RhdGljcy50aWxlc0NvdW50V2lkdGggJiYgbW91c2UueSA8PSBzdGF0aWNzLnRpbGVTaXplICogc3RhdGljcy50aWxlc0NvdW50SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIGlmICh4UG9zIDwgc3RhdGljcy50aWxlc0NvdW50V2lkdGggJiYgeVBvcyA8IHN0YXRpY3MudGlsZXNDb3VudEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5kVGlsZS5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlsZSA9IHRoaXMuZ2V0VGlsZUF0KHhQb3MsIHlQb3MpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aWxlLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGlsZS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aWxlLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGlsZSA9PSB0aGlzLmVuZFRpbGUgfHwgIWUuY3RybEtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHRoaXMudGlsZXMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgdGhpcy50aWxlc1t4XS5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGlsZXNbeF1beV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aWxlLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVzW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50b3dlclNlbGVjdGlvbkNoYW5nZWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGlsZUF0KHgsIHkpIHtcclxuICAgICAgICBpZiAoeCA8IHRoaXMudGlsZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2wgPSB0aGlzLnRpbGVzW3hdO1xyXG4gICAgICAgICAgICBpZiAoeSA8IGNvbC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xbeV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZFRpbGVzKCkge1xyXG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgc3RhdGljcy50aWxlc0NvdW50V2lkdGg7IHggKz0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbGVzW3hdID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3RhdGljcy50aWxlc0NvdW50SGVpZ2h0OyB5ICs9IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4ID09IHRoaXMuZW5kVGlsZS5jb29yZHNYICYmIHkgPT0gdGhpcy5lbmRUaWxlLmNvb3Jkc1kpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVzW3hdW3ldID0gdGhpcy5lbmRUaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudGlsZXNbeF1beV0gPSBuZXcgVGlsZSh4ICogc3RhdGljcy50aWxlU2l6ZSwgeSAqIHN0YXRpY3MudGlsZVNpemUsIHN0YXRpY3MudGlsZVNpemUsIHN0YXRpY3MudGlsZVNpemUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLmRlYnVnUGF0aEZpbmRpbmcgfHwgdGhpcy5maWxsV2l0aFJhbmRvbVRvd2VycykgJiYgTWF0aC5yYW5kb20oMSkgPiAwLjcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeCA9PSB0aGlzLnN0YXJ0WCAmJiB5ID09IHRoaXMuc3RhcnRZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoeCA9PSB0aGlzLmVuZFRpbGUuY29vcmRzWCAmJiB5ID09IHRoaXMuZW5kVGlsZS5jb29yZHNZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oMSkgPiAxIC8gMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVzW3hdW3ldLnRvd2VyID0gbmV3IEJhc2ljVG93ZXIoeCAqIHN0YXRpY3MudGlsZVNpemUsIHkgKiBzdGF0aWNzLnRpbGVTaXplLCBzdGF0aWNzLnRpbGVTaXplLCBzdGF0aWNzLnRpbGVTaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE1hdGgucmFuZG9tKDEpID4gMC41KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGlsZXNbeF1beV0udG93ZXIgPSBuZXcgRWxlY3Ryb1Rvd2VyKHggKiBzdGF0aWNzLnRpbGVTaXplLCB5ICogc3RhdGljcy50aWxlU2l6ZSwgc3RhdGljcy50aWxlU2l6ZSwgc3RhdGljcy50aWxlU2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aWxlc1t4XVt5XS50b3dlciA9IG5ldyBNb3J0YXJUb3dlcih4ICogc3RhdGljcy50aWxlU2l6ZSwgeSAqIHN0YXRpY3MudGlsZVNpemUsIHN0YXRpY3MudGlsZVNpemUsIHN0YXRpY3MudGlsZVNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVBcmVhQ2hhbmdlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoY3R4KSB7XHJcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdGF0aWNzLnRpbGVzQ291bnRXaWR0aDsgeCArPSAxKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3RhdGljcy50aWxlc0NvdW50SGVpZ2h0OyB5ICs9IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGlsZXNbeF1beV0uZHJhdyhjdHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZW5kVGlsZS5kcmF3KGN0eCk7XHJcblxyXG4gICAgICAgIHBhdGhGaW5kZXIuZHJhdyhjdHgpO1xyXG5cclxuICAgICAgICBmb3IgKHggPSAwOyB4IDwgc3RhdGljcy50aWxlc0NvdW50V2lkdGg7IHggKz0gMSkge1xyXG4gICAgICAgICAgICBmb3IgKHkgPSAwOyB5IDwgc3RhdGljcy50aWxlc0NvdW50SGVpZ2h0OyB5ICs9IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGlsZXNbeF1beV0uZHJhd1NlbGVjdGlvbihjdHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LmRyYXcoY3R4KTtcclxuICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiIzg3Q0VGQVwiO1xyXG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuNjtcclxuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG5cclxuICAgICAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5kcmF3KGN0eCk7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcblxyXG5cclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjQzlDOUM5XCI7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KHN0YXRpY3MudGlsZXNDb3VudFdpZHRoICogc3RhdGljcy50aWxlU2l6ZSxcclxuICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgc3RhdGljcy5nYW1lV2lkdGggLSBzdGF0aWNzLnRpbGVzQ291bnRXaWR0aCAqIHN0YXRpY3MudGlsZVNpemUsXHJcbiAgICAgICAgICAgIHN0YXRpY3MudGlsZXNDb3VudEhlaWdodCAqIHN0YXRpY3MudGlsZVNpemUpO1xyXG4gICAgICAgIHRoaXMuZ2FtZUluZm8uZHJhdyhjdHgpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pbmZvQXJlYUNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGluZm9BcmVhQ29tcG9uZW50ID0gdGhpcy5pbmZvQXJlYUNvbXBvbmVudHNbaV07XHJcbiAgICAgICAgICAgIHZhciBhY3RpdmUgPSBpbmZvQXJlYUNvbXBvbmVudC5pc0FjdGl2ZSgpO1xyXG4gICAgICAgICAgICBpZiAoYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZvQXJlYUNvbXBvbmVudC5kcmF3KGN0eCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YXRlID09IFwiR0FNRU9WRVJcIikge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjMTExMTExXCI7XHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gXCJib2xkIDYwcHggQXJpYWwgXCI7XHJcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQoXCJHQU1FIE9WRVJcIiwgc3RhdGljcy5nYW1lV2lkdGggLyAyLCBzdGF0aWNzLmdhbWVIZWlnaHQgLyAyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlR2FtZUFyZWEoZGVsdGEpIHtcclxuICAgICAgICBpZiAodGhpcy5lbmRUaWxlLmlzRGVhZCgpKSB7XHJcbiAgICAgICAgICAgIGdhbWUuZ2FtZVN0YXRlID0gXCJHQU1FT1ZFUlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGdhbWUuZ2FtZVN0YXRlID09IFwiUlVOTklOR1wiKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lbmVtaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZW5lbWllc1tpXTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQudXBkYXRlKGRlbHRhKTtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmlzRGVhZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVtaWVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnJlYWNoZWRHb2FsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVtaWVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdGF0aWNzLnRpbGVzQ291bnRXaWR0aDsgeCArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHN0YXRpY3MudGlsZXNDb3VudEhlaWdodDsgeSArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aWxlc1t4XVt5XS51cGRhdGUoZGVsdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVuZW15V2F2ZUdlbmVyYXRvci51cGRhdGUoZGVsdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbnRpdGllc1tpXTtcclxuICAgICAgICAgICAgZWxlbWVudC51cGRhdGUoZGVsdGEpO1xyXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQuaXNBY3RpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2FtZS5pbmZvQXJlYUNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGluZm9BcmVhQ29tcG9uZW50ID0gZ2FtZS5pbmZvQXJlYUNvbXBvbmVudHNbaV07XHJcbiAgICAgICAgICAgIGlmIChpbmZvQXJlYUNvbXBvbmVudC5pc0FjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZvQXJlYUNvbXBvbmVudC51cGRhdGUoZGVsdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2FtZUFyZWFDaGFuZ2VkKCkge1xyXG4gICAgICAgIHRoaXMudG93ZXJTZWxlY3Rpb25DaGFuZ2VkKCk7XHJcbiAgICAgICAgdmFyIHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgIHBhdGhGaW5kZXIuZmluZFBhdGhBc3luYyhzdGF0aWNzLnN0YXJ0WCwgc3RhdGljcy5zdGFydFksIHRoaXMuZW5kVGlsZS5jb29yZHNYLCB0aGlzLmVuZFRpbGUuY29vcmRzWSxcclxuICAgICAgICAgICAgdGhpcy50aWxlcyxcclxuICAgICAgICAgICAgc3RhdGljcy50aWxlc0NvdW50V2lkdGgsXHJcbiAgICAgICAgICAgIHN0YXRpY3MudGlsZXNDb3VudEhlaWdodCkudGhlbihwYXRoID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGb3VuZCBOTyBQYXRoIGluIFwiICsgKGVuZFRpbWUgLSBzdGFydFRpbWUpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGb3VuZCBQYXRoIGluIFwiICsgKGVuZFRpbWUgLSBzdGFydFRpbWUpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZW5lbWllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbmVtaWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3VzdG9tUGF0aCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFNwZWVkTXVsdGlwbGllcihtdWx0aXBsaWVyKSB7XHJcbiAgICAgICAgdGhpcy5zcGVlZE11bHRpcGxpZXIgPSBtdWx0aXBsaWVyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNwZWVkTXVsdGlwbGllcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zcGVlZE11bHRpcGxpZXI7XHJcbiAgICB9XHJcbn1cclxuY29uc29sZS5sb2coXCJHYW1lIENyZWF0ZWRcIik7XHJcbmNvbnN0IGdhbWUgPSBuZXcgR2FtZSgpO1xyXG5leHBvcnQgZGVmYXVsdCBnYW1lO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2dhbWUuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IEVuZW15QXR0cmlidXRlIGZyb20gJy4vZW5lbXlBdHRyaWJ1dGUnO1xyXG5pbXBvcnQge1Rvd2VyQXR0cmlidXRlLCBQcm9jZW50dWFsVG93ZXJBdHRyaWJ1dGV9IGZyb20gJy4vdG93ZXJBdHRyaWJ1dGUnO1xyXG5cclxubGV0IGluc3RhbmNlID0gbnVsbDtcclxuY2xhc3MgU3RhdGljcyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNyZWF0ZWQgU3RhdGljc1wiKTtcclxuICAgICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5nYW1lV2lkdGggPSA0ODA7XHJcbiAgICAgICAgdGhpcy5nYW1lSGVpZ2h0ID0gMjYwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudGlsZXNDb3VudFdpZHRoID0gMjA7XHJcbiAgICAgICAgdGhpcy50aWxlc0NvdW50SGVpZ2h0ID0gMTM7XHJcbiAgICAgICAgdGhpcy50aWxlU2l6ZSA9IDIwO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXJ0WCA9IDA7XHJcbiAgICAgICAgdGhpcy5zdGFydFkgPSAwO1xyXG4gICAgICAgIHRoaXMuZW5kWCA9ICh0aGlzLnRpbGVzQ291bnRXaWR0aCAtIDEpO1xyXG4gICAgICAgIHRoaXMuZW5kWSA9ICh0aGlzLnRpbGVzQ291bnRIZWlnaHQgLSAxKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbmZvUmVnaW9uWCA9IHRoaXMudGlsZXNDb3VudFdpZHRoICogdGhpcy50aWxlU2l6ZTtcclxuICAgICAgICB0aGlzLmluZm9SZWdpb25ZID0gMDtcclxuICAgICAgICB0aGlzLmluZm9SZWdpb25XaWR0aCA9IHRoaXMuZ2FtZVdpZHRoIC0gdGhpcy5pbmZvUmVnaW9uWDtcclxuXHJcbiAgICAgICAgdGhpcy5zdHlsZVBhZGRpbmdMZWZ0ID0gMDtcclxuICAgICAgICB0aGlzLnN0eWxlUGFkZGluZ1RvcCA9IDA7XHJcbiAgICAgICAgdGhpcy5zdHlsZUJvcmRlckxlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMuc3R5bGVCb3JkZXJUb3AgPSAwO1xyXG4gICAgICAgIHRoaXMuaHRtbFRvcCA9IDA7XHJcbiAgICAgICAgdGhpcy5odG1sTGVmdCA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuZW5lbXlTdGF0cyA9IHtcclxuICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgYXR0YWNrRGFtYWdlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVZhbHVlOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpOiAwLjNcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tzUGVyU2Vjb25kOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVZhbHVlOiAwLjMsXHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGk6IDBcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBoZWFsdGhQb2ludHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVmFsdWU6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpOiAyNVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBCYXNpY0VuZW15OiB7XHJcbiAgICAgICAgICAgICAgICBoZWFsdGhQb2ludHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVmFsdWU6IDEwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFNsb3dFbmVteToge1xyXG4gICAgICAgICAgICAgICAgaGVhbHRoUG9pbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVZhbHVlOiAyMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBHcm91cEVuZW15OiB7XHJcbiAgICAgICAgICAgICAgICBoZWFsdGhQb2ludHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVmFsdWU6IDNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgQm9zc0VuZW15OiB7XHJcbiAgICAgICAgICAgICAgICBoZWFsdGhQb2ludHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVmFsdWU6IDgwLFxyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpOiAzMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRvd2VyU3RhdHMgPSB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgICAgIGF0dGFja0RhbWFnZToge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQURcIixcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVmFsdWU6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpOiA1LFxyXG4gICAgICAgICAgICAgICAgICAgIHByaWNlQmFzZVZhbHVlOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICBwcmljZU11bHRpOiA1LjVcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tzUGVyU2Vjb25kOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJBUFNcIixcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVmFsdWU6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGk6IDAuMixcclxuICAgICAgICAgICAgICAgICAgICBwcmljZUJhc2VWYWx1ZTogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJpY2VNdWx0aTogNS41XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaGVhbHRoUG9pbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJIUFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VWYWx1ZTogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGk6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgIHByaWNlQmFzZVZhbHVlOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICBwcmljZU11bHRpOiAxNVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGF0dGFja1JhbmdlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJBUlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VWYWx1ZTogNDUsXHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGk6IDcsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJpY2VCYXNlVmFsdWU6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgIHByaWNlTXVsdGk6IDhcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgTW9ydGFyVG93ZXI6IHtcclxuICAgICAgICAgICAgICAgIGF0dGFja1JhbmdlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVZhbHVlOiA2MFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGhlYWx0aFBvaW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VWYWx1ZTogMjAwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrRGFtYWdlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVZhbHVlOiAyMFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGF0dGFja3NQZXJTZWNvbmQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVmFsdWU6IDAuMlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRhbWFnZUFyZWE6IHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkRBXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVZhbHVlOiAyNSxcclxuICAgICAgICAgICAgICAgICAgICBtdWx0aTogMS41LFxyXG4gICAgICAgICAgICAgICAgICAgIHByaWNlQmFzZVZhbHVlOiAyMCxcclxuICAgICAgICAgICAgICAgICAgICBwcmljZU11bHRpOiAxLjVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgRWxlY3Ryb1Rvd2VyOiB7XHJcbiAgICAgICAgICAgICAgICBhdHRhY2tSYW5nZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VWYWx1ZTogMjVcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tEYW1hZ2U6IHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVmFsdWU6IDhcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tzUGVyU2Vjb25kOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJBUFNcIixcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVmFsdWU6IDAuNSxcclxuICAgICAgICAgICAgICAgICAgICBtdWx0aTogMC4wOFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGhlYWx0aFBvaW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VWYWx1ZTogMTAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMud2F2ZVBhdHRlcm4gPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IDEsXHJcbiAgICAgICAgICAgICAgICBiYXNlQW1vdW50OiAxMCxcclxuICAgICAgICAgICAgICAgIHNwYXduUGF1c2VUaW1lOiAxLFxyXG4gICAgICAgICAgICAgICAgd2F2ZUJyZWFrOiAyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IDEsXHJcbiAgICAgICAgICAgICAgICBiYXNlQW1vdW50OiAxNSxcclxuICAgICAgICAgICAgICAgIHNwYXduUGF1c2VUaW1lOiAxLjUsXHJcbiAgICAgICAgICAgICAgICB3YXZlQnJlYWs6IDEwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IDIsXHJcbiAgICAgICAgICAgICAgICBiYXNlQW1vdW50OiAxMCxcclxuICAgICAgICAgICAgICAgIHNwYXduUGF1c2VUaW1lOiAxLFxyXG4gICAgICAgICAgICAgICAgd2F2ZUJyZWFrOiA1XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IDEsXHJcbiAgICAgICAgICAgICAgICBiYXNlQW1vdW50OiAxMCxcclxuICAgICAgICAgICAgICAgIHNwYXduUGF1c2VUaW1lOiAxLFxyXG4gICAgICAgICAgICAgICAgd2F2ZUJyZWFrOiA1XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IDMsXHJcbiAgICAgICAgICAgICAgICBiYXNlQW1vdW50OiAxMCxcclxuICAgICAgICAgICAgICAgIHNwYXduUGF1c2VUaW1lOiAxLFxyXG4gICAgICAgICAgICAgICAgd2F2ZUJyZWFrOiA1XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IDQsXHJcbiAgICAgICAgICAgICAgICBiYXNlQW1vdW50OiAxMCxcclxuICAgICAgICAgICAgICAgIHNwYXduUGF1c2VUaW1lOiAxLFxyXG4gICAgICAgICAgICAgICAgd2F2ZUJyZWFrOiA1XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IDEsXHJcbiAgICAgICAgICAgICAgICBiYXNlQW1vdW50OiAxMCxcclxuICAgICAgICAgICAgICAgIHNwYXduUGF1c2VUaW1lOiAxLFxyXG4gICAgICAgICAgICAgICAgd2F2ZUJyZWFrOiA1XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IDIsXHJcbiAgICAgICAgICAgICAgICBiYXNlQW1vdW50OiAxMCxcclxuICAgICAgICAgICAgICAgIHNwYXduUGF1c2VUaW1lOiAxLFxyXG4gICAgICAgICAgICAgICAgd2F2ZUJyZWFrOiA1XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IDQsXHJcbiAgICAgICAgICAgICAgICBiYXNlQW1vdW50OiAxMCxcclxuICAgICAgICAgICAgICAgIHNwYXduUGF1c2VUaW1lOiAxLFxyXG4gICAgICAgICAgICAgICAgd2F2ZUJyZWFrOiAyMFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiA1LFxyXG4gICAgICAgICAgICAgICAgYmFzZUFtb3VudDogMSxcclxuICAgICAgICAgICAgICAgIHNwYXduUGF1c2VUaW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgd2F2ZUJyZWFrOiAyMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG5cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0T3JFbHNlKG9iamVjdDEsIG9iamVjdERlZmF1bHQsIGZpZWxkLCBzdWJGaWVsZCkgeyAgICAgXHJcbiAgICAgICAgaWYgKG9iamVjdDEgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QxLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xyXG4gICAgICAgICAgICBpZiAob2JqZWN0MVtmaWVsZF0uaGFzT3duUHJvcGVydHkoc3ViRmllbGQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0MVtmaWVsZF1bc3ViRmllbGRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBcclxuICAgICAgICByZXR1cm4gb2JqZWN0RGVmYXVsdFtmaWVsZF1bc3ViRmllbGRdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRvd2VyQXR0cmlidXRlRm9yKHRvd2VyQ2xhc3MsIHN0YXROYW1lKSB7XHJcbiAgICAgICAgdmFyIHRvd2VyTmFtZSA9IHRvd2VyQ2xhc3MuY29uc3RydWN0b3IubmFtZTtcclxuICAgICAgICB2YXIgc3RhdFNvdXJjZSA9IHRoaXMudG93ZXJTdGF0cy5kZWZhdWx0O1xyXG4gICAgICAgIHZhciBzcGVjaWZpY1N0YXRTb3VyY2UgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHRoaXMudG93ZXJTdGF0cy5oYXNPd25Qcm9wZXJ0eSh0b3dlck5hbWUpKSB7XHJcbiAgICAgICAgICAgIHNwZWNpZmljU3RhdFNvdXJjZSA9IHRoaXMudG93ZXJTdGF0c1t0b3dlck5hbWVdO1xyXG4gICAgICAgIH0gICAgICAgIFxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFRvd2VyQXR0cmlidXRlKFxyXG4gICAgICAgICAgICB0aGlzLmdldE9yRWxzZShzcGVjaWZpY1N0YXRTb3VyY2UsIHN0YXRTb3VyY2UsIHN0YXROYW1lLCBcIm5hbWVcIiksXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0T3JFbHNlKHNwZWNpZmljU3RhdFNvdXJjZSwgc3RhdFNvdXJjZSwgc3RhdE5hbWUsIFwiYmFzZVZhbHVlXCIpLFxyXG4gICAgICAgICAgICB0aGlzLmdldE9yRWxzZShzcGVjaWZpY1N0YXRTb3VyY2UsIHN0YXRTb3VyY2UsIHN0YXROYW1lLCBcInByaWNlQmFzZVZhbHVlXCIpLFxyXG4gICAgICAgICAgICB0aGlzLmdldE9yRWxzZShzcGVjaWZpY1N0YXRTb3VyY2UsIHN0YXRTb3VyY2UsIHN0YXROYW1lLCBcIm11bHRpXCIpLFxyXG4gICAgICAgICAgICB0aGlzLmdldE9yRWxzZShzcGVjaWZpY1N0YXRTb3VyY2UsIHN0YXRTb3VyY2UsIHN0YXROYW1lLCBcInByaWNlTXVsdGlcIilcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVuZW15QXR0cmlidXRlRm9yKGVuZW15Q2xhc3MsIHN0YXROYW1lLCBsZXZlbCkge1xyXG4gICAgICAgIHZhciBlbmVteU5hbWUgPSBlbmVteUNsYXNzLmNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgICAgICAgdmFyIHN0YXRTb3VyY2UgPSB0aGlzLmVuZW15U3RhdHMuZGVmYXVsdDtcclxuICAgICAgICB2YXIgc3BlY2lmaWNTdGF0U291cmNlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmICh0aGlzLmVuZW15U3RhdHMuaGFzT3duUHJvcGVydHkoZW5lbXlOYW1lKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lbmVteVN0YXRzW2VuZW15TmFtZV0uaGFzT3duUHJvcGVydHkoc3RhdE5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBzcGVjaWZpY1N0YXRTb3VyY2UgPSB0aGlzLmVuZW15U3RhdHNbZW5lbXlOYW1lXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gICAgICAgIFxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEVuZW15QXR0cmlidXRlKFxyXG4gICAgICAgICAgICB0aGlzLmdldE9yRWxzZShzcGVjaWZpY1N0YXRTb3VyY2UsIHN0YXRTb3VyY2UsIHN0YXROYW1lLCBcImJhc2VWYWx1ZVwiKSwgXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0T3JFbHNlKHNwZWNpZmljU3RhdFNvdXJjZSwgc3RhdFNvdXJjZSwgc3RhdE5hbWUsIFwibXVsdGlcIiksXHJcbiAgICAgICAgICAgIGxldmVsKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBzdGF0aWNzID0gbmV3IFN0YXRpY3MoKTtcclxuZXhwb3J0IGRlZmF1bHQgc3RhdGljcztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9TdGF0aWNzLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBnYW1lIGZyb20gJy4vZ2FtZSc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW91c2UoZSkge1xyXG4gICAgdmFyIGVsZW1lbnQgPSBnYW1lLmNhbnZhcyxcclxuICAgICAgICBvZmZzZXRYID0gMCxcclxuICAgICAgICBvZmZzZXRZID0gMCxcclxuICAgICAgICBteCwgbXk7XHJcblxyXG4gICAgaWYgKGVsZW1lbnQub2Zmc2V0UGFyZW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIG9mZnNldFggKz0gZWxlbWVudC5vZmZzZXRMZWZ0O1xyXG4gICAgICAgICAgICBvZmZzZXRZICs9IGVsZW1lbnQub2Zmc2V0VG9wO1xyXG4gICAgICAgIH0gd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQpKTtcclxuICAgIH1cclxuXHJcbiAgICBvZmZzZXRYICs9IGdhbWUuc3R5bGVQYWRkaW5nTGVmdCArIGdhbWUuc3R5bGVCb3JkZXJMZWZ0ICsgZ2FtZS5odG1sTGVmdDtcclxuICAgIG9mZnNldFkgKz0gZ2FtZS5zdHlsZVBhZGRpbmdUb3AgKyBnYW1lLnN0eWxlQm9yZGVyVG9wICsgZ2FtZS5odG1sVG9wO1xyXG5cclxuICAgIG14ID0gZS5wYWdlWCAtIG9mZnNldFg7XHJcbiAgICBteSA9IGUucGFnZVkgLSBvZmZzZXRZO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgeDogbXgsXHJcbiAgICAgICAgeTogbXlcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaGVyaXRQc2V1ZG9DbGFzcyhTdXBlciwgU3ViKSB7XHJcbiAgICBTdWIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdXBlci5wcm90b3R5cGUpO1xyXG4gICAgU3ViLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN1YjtcclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2hlbHBlci5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgZ2FtZSBmcm9tICcuL2dhbWUnO1xyXG5pbXBvcnQge2dldE1vdXNlfSBmcm9tICcuL2hlbHBlcic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzc3tcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHdpZHRoLCBoZWlnaHQsIHRleHQsIGNvbG9yLCBjbGlja0V2ZW50LCBjbGlja0NvbnRleHQpIHtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG4gICAgICAgIHRoaXMuY2xpY2tFdmVudCA9IGNsaWNrRXZlbnQ7XHJcbiAgICAgICAgdGhpcy5jbGlja0NvbnRleHQgPSBjbGlja0NvbnRleHQ7XHJcbiAgICAgICAgZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVNb3VzZURvd24uYmluZCh0aGlzKSwgdHJ1ZSk7IFxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZU1vdXNlRG93bihlKSB7XHJcbiAgICAgICAgaWYgKGdhbWUuZ2FtZVN0YXRlID09IFwiR0FNRU9WRVJcIikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtb3VzZSA9IGdldE1vdXNlKGUpO1xyXG5cclxuICAgICAgICBpZiAobW91c2UueCA+IHRoaXMueCAmJiBtb3VzZS55ID4gdGhpcy55XHJcbiAgICAgICAgICAgICYmIG1vdXNlLnggPCB0aGlzLnggKyB0aGlzLndpZHRoXHJcbiAgICAgICAgICAgICYmIG1vdXNlLnkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlja0V2ZW50LmFwcGx5KHRoaXMuY2xpY2tDb250ZXh0LCBtb3VzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSAgXHJcblxyXG4gICAgZHJhdyhjdHgpIHtcclxuICAgICAgICBjdHguZm9udCA9IFwiMTBweCBBcmlhbFwiO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMudGV4dCwgdGhpcy54ICsgdGhpcy53aWR0aCAvIDIsIHRoaXMueSArIHRoaXMuaGVpZ2h0IC8gMiArIDQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldENvbG9yKGNvbG9yKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgfVxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvQnV0dG9uLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydCBjbGFzcyBUb3dlckF0dHJpYnV0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzaG9ydERlc2MsIGJhc2VWYWx1ZSwgYmFzZVByaWNlLCBtdWx0aXBsaWVyLCBwcmljZU11bHRpcGxpZXIpIHtcclxuICAgICAgICB0aGlzLnNob3J0RGVzYyA9IHNob3J0RGVzYztcclxuICAgICAgICB0aGlzLmJhc2VWYWx1ZSA9IGJhc2VWYWx1ZTtcclxuICAgICAgICB0aGlzLmJhc2VQcmljZSA9IGJhc2VQcmljZTtcclxuICAgICAgICB0aGlzLm11bHRpcGxpZXIgPSBtdWx0aXBsaWVyO1xyXG4gICAgICAgIHRoaXMucHJpY2VNdWx0aXBsaWVyID0gcHJpY2VNdWx0aXBsaWVyO1xyXG4gICAgICAgIHRoaXMubGV2ZWwgPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGMoYmFzZSwgbXVsdGksIGxldmVsKSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2UgKyAobXVsdGkgKiBsZXZlbCk7IFxyXG4gICAgfVxyXG5cclxuICAgIGdldFZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbGModGhpcy5iYXNlVmFsdWUsIHRoaXMubXVsdGlwbGllciwgdGhpcy5sZXZlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXBncmFkZVZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbGModGhpcy5iYXNlVmFsdWUsIHRoaXMubXVsdGlwbGllciwgdGhpcy5sZXZlbCsxKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRVcGdyYWRlUHJpY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsYyh0aGlzLmJhc2VQcmljZSwgdGhpcy5wcmljZU11bHRpcGxpZXIsIHRoaXMubGV2ZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldExldmVsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxldmVsO1xyXG4gICAgfVxyXG5cclxuICAgIGluY3JlYXNlTGV2ZWwoKSB7XHJcbiAgICAgICAgdGhpcy5sZXZlbCArPSAxO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvY2VudHVhbFRvd2VyQXR0cmlidXRlIGV4dGVuZHMgVG93ZXJBdHRyaWJ1dGUge1xyXG4gICAgY29uc3RydWN0b3Ioc2hvcnREZXNjLCBiYXNlVmFsdWUsIGJhc2VQcmljZSwgbXVsdGlwbGllciwgcHJpY2VNdWx0aXBsaWVyKSB7XHJcbiAgICAgICAgc3VwZXIoc2hvcnREZXNjLCBiYXNlVmFsdWUsIGJhc2VQcmljZSwgbXVsdGlwbGllciwgcHJpY2VNdWx0aXBsaWVyKTtcclxuICAgIH1cclxuXHJcbiAgICBjYWxjKGJhc2UsIG11bHRpLCBsZXZlbCkge1xyXG4gICAgICAgIHJldHVybiBiYXNlICogTWF0aC5wb3coKDEgKyBtdWx0aSAvIDEwMCksIGxldmVsKTsgXHJcbiAgICB9XHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy90b3dlckF0dHJpYnV0ZS5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgZ2FtZSBmcm9tICcuL2dhbWUnO1xyXG5cclxudmFyIGNhbGNEaXN0YW5jZSA9IGZ1bmN0aW9uICh4MSwgeTEsIHgyLCB5Mikge1xyXG4gICAgdmFyIGEgPSB4MSAtIHgyO1xyXG4gICAgdmFyIGIgPSB5MSAtIHkyO1xyXG4gICAgcmV0dXJuIE1hdGguc3FydChhICogYSArIGIgKiBiKTtcclxufVxyXG5cclxudmFyIGVuZW15U2VsZWN0b3JOZWFyZXN0T25lID0ge1xyXG4gICAgbmFtZTogXCJOZWFyZXN0XCIsXHJcbiAgICBmaW5kOiBmdW5jdGlvbih0b3dlcikge1xyXG4gICAgICAgIHZhciBuZWFyZXN0RW5lbXkgPSBudWxsO1xyXG4gICAgICAgIHZhciBiZXN0RGlzdGFuY2UgPSBOdW1iZXIuTUFYX1ZBTFVFO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZS5lbmVtaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlbmVteSA9IGdhbWUuZW5lbWllc1tpXTtcclxuICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gY2FsY0Rpc3RhbmNlKHRvd2VyLngrdG93ZXIud2lkdGgvMiwgdG93ZXIueSt0b3dlci5oZWlnaHQvMiwgZW5lbXkueCwgZW5lbXkueSk7XHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA+IHRvd2VyLmF0dGFja1JhbmdlLmdldFZhbHVlKCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBiZXN0RGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIG5lYXJlc3RFbmVteSA9IGVuZW15O1xyXG4gICAgICAgICAgICAgICAgYmVzdERpc3RhbmNlID0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZWFyZXN0RW5lbXk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBoYXJkU2VsZWN0b3JOZWFyZXN0T25lID0ge1xyXG4gICAgbmFtZTogXCJIYXJkXCIsXHJcbiAgICBmaW5kOiBmdW5jdGlvbih0b3dlcikge1xyXG4gICAgICAgIHZhciBoYXJkZXN0RW5lbXkgPSBudWxsO1xyXG4gICAgICAgIHZhciBiZXN0RGlzdGFuY2UgPSBOdW1iZXIuTUFYX1ZBTFVFO1xyXG4gICAgICAgIHZhciBtb3N0TGl2ZSA9IE51bWJlci5NSU5fVkFMVUU7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGdhbWUuZW5lbWllcykge1xyXG4gICAgICAgICAgICB2YXIgZW5lbXkgPSBnYW1lLmVuZW1pZXNba2V5XTtcclxuICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gY2FsY0Rpc3RhbmNlKHRvd2VyLngrdG93ZXIud2lkdGgvMiwgdG93ZXIueSt0b3dlci5oZWlnaHQvMiwgZW5lbXkueCwgZW5lbXkueSk7XHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA+IHRvd2VyLmF0dGFja1JhbmdlLmdldFZhbHVlKCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZW5lbXkuY3VycmVudEhlYWx0aFBvaW50cyA+IG1vc3RMaXZlKSB7XHJcbiAgICAgICAgICAgICAgICBoYXJkZXN0RW5lbXkgPSBlbmVteTtcclxuICAgICAgICAgICAgICAgIG1vc3RMaXZlID0gZW5lbXkuY3VycmVudEhlYWx0aFBvaW50cztcclxuICAgICAgICAgICAgICAgIGJlc3REaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbmVteS5jdXJyZW50SGVhbHRoUG9pbnRzID09IG1vc3RMaXZlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBiZXN0RGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXJkZXN0RW5lbXkgPSBlbmVteTtcclxuICAgICAgICAgICAgICAgICAgICBtb3N0TGl2ZSA9IGVuZW15LmN1cnJlbnRIZWFsdGhQb2ludHM7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVzdERpc3RhbmNlID0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgYmVzdERpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCB0b3dlci5hdHRhY2tSYW5nZS5nZXRWYWx1ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFyZGVzdEVuZW15ID0gZW5lbXk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVzdERpc3RhbmNlID0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBoYXJkZXN0RW5lbXk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciB3ZWFrU2VsZWN0b3JOZWFyZXN0T25lID0ge1xyXG4gICAgbmFtZTogXCJXZWFrXCIsXHJcbiAgICBmaW5kOiBmdW5jdGlvbih0b3dlcikge1xyXG4gICAgICAgIHZhciBsb3dlc3RFbmVteSA9IG51bGw7XHJcbiAgICAgICAgdmFyIGJlc3REaXN0YW5jZSA9IE51bWJlci5NQVhfVkFMVUU7XHJcbiAgICAgICAgdmFyIGxlYXN0TGl2ZSA9IE51bWJlci5NQVhfVkFMVUU7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGdhbWUuZW5lbWllcykge1xyXG4gICAgICAgICAgICB2YXIgZW5lbXkgPSBnYW1lLmVuZW1pZXNba2V5XTtcclxuICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gY2FsY0Rpc3RhbmNlKHRvd2VyLngrdG93ZXIud2lkdGgvMiwgdG93ZXIueSt0b3dlci5oZWlnaHQvMiwgZW5lbXkueCwgZW5lbXkueSk7XHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA+IHRvd2VyLmF0dGFja1JhbmdlLmdldFZhbHVlKCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZW5lbXkuY3VycmVudEhlYWx0aFBvaW50cyA+IGxlYXN0TGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgbG93ZXN0RW5lbXkgPSBlbmVteTtcclxuICAgICAgICAgICAgICAgIGxlYXN0TGl2ZSA9IGVuZW15LmN1cnJlbnRIZWFsdGhQb2ludHM7XHJcbiAgICAgICAgICAgICAgICBiZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZW5lbXkuY3VycmVudEhlYWx0aFBvaW50cyA9PSBsZWFzdExpdmUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IGJlc3REaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvd2VzdEVuZW15ID0gZW5lbXk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVhc3RMaXZlID0gZW5lbXkuY3VycmVudEhlYWx0aFBvaW50cztcclxuICAgICAgICAgICAgICAgICAgICBiZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBiZXN0RGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IHRvd2VyLmF0dGFja1JhbmdlLmdldFZhbHVlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb3dlc3RFbmVteSA9IGVuZW15O1xyXG4gICAgICAgICAgICAgICAgICAgIGJlc3REaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbG93ZXN0RW5lbXk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBmYXN0ZXN0U2VsZWN0b3JOZWFyZXN0T25lID0ge1xyXG4gICAgbmFtZTogXCJGYXN0ZXN0XCIsXHJcbiAgICBmaW5kOiBmdW5jdGlvbih0b3dlcikge1xyXG4gICAgICAgIHZhciBmYXN0ZXN0RW5lbXkgPSBudWxsO1xyXG4gICAgICAgIHZhciBiZXN0RGlzdGFuY2UgPSBOdW1iZXIuTUFYX1ZBTFVFO1xyXG4gICAgICAgIHZhciBmYXN0ZXN0ID0gTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZ2FtZS5lbmVtaWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBlbmVteSA9IGdhbWUuZW5lbWllc1trZXldO1xyXG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBjYWxjRGlzdGFuY2UodG93ZXIueCt0b3dlci53aWR0aC8yLCB0b3dlci55K3Rvd2VyLmhlaWdodC8yLCBlbmVteS54LCBlbmVteS55KTtcclxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlID4gdG93ZXIuYXR0YWNrUmFuZ2UuZ2V0VmFsdWUoKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChlbmVteS5zcGVlZCA8IGZhc3Rlc3QpIHtcclxuICAgICAgICAgICAgICAgIGZhc3Rlc3RFbmVteSA9IGVuZW15O1xyXG4gICAgICAgICAgICAgICAgZmFzdGVzdCA9IGVuZW15LnNwZWVkO1xyXG4gICAgICAgICAgICAgICAgYmVzdERpc3RhbmNlID0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVuZW15LnNwZWVkID09IGZhc3Rlc3QpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IGJlc3REaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZhc3Rlc3RFbmVteSA9IGVuZW15O1xyXG4gICAgICAgICAgICAgICAgICAgIGZhc3Rlc3QgPSBlbmVteS5zcGVlZDtcclxuICAgICAgICAgICAgICAgICAgICBiZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBiZXN0RGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IHRvd2VyLmF0dGFja1JhbmdlLmdldFZhbHVlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmYXN0ZXN0RW5lbXkgPSBlbmVteTtcclxuICAgICAgICAgICAgICAgICAgICBiZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhc3Rlc3RFbmVteTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgXHJcbiAgICB3ZWFrU2VsZWN0b3JOZWFyZXN0T25lIGFzIFdlYWtlc3QsXHJcbiAgICBoYXJkU2VsZWN0b3JOZWFyZXN0T25lIGFzIEhhcmRlc3QsXHJcbiAgICBmYXN0ZXN0U2VsZWN0b3JOZWFyZXN0T25lIGFzIEZhc3Rlc3QsXHJcbiAgICBlbmVteVNlbGVjdG9yTmVhcmVzdE9uZSBhcyBOZWFyZXN0fTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9lbmVteVNlbGVjdG9ycy5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyB7XHJcbiAgICBjb25zdHJ1Y3RvcihiYXNlVmFsdWUsIG11bHRpcGxpZXIsIGxldmVsKSB7XHJcbiAgICAgICAgdGhpcy5iYXNlVmFsdWUgPSBiYXNlVmFsdWU7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBsaWVyID0gbXVsdGlwbGllcjtcclxuICAgICAgICB0aGlzLmxldmVsID0gbGV2ZWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmFsdWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVZhbHVlICsgKHRoaXMubXVsdGlwbGllciAqIHRoaXMubGV2ZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldExldmVsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxldmVsO1xyXG4gICAgfVxyXG5cclxuICAgIGluY3JlYXNlTGV2ZWwoKSB7XHJcbiAgICAgICAgdGhpcy5sZXZlbCArPSAxO1xyXG4gICAgfVxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZW5lbXlBdHRyaWJ1dGUuanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgQmFzaWNFbmVteSwgQm9zc0VuZW15LCBGYXN0RW5lbXksIEdyb3VwRW5lbXksIFNsb3dFbmVteSB9IGZyb20gJy4vRW5lbXlUcHllcyc7XHJcbmltcG9ydCBnYW1lIGZyb20gJy4vZ2FtZSc7XHJcbmltcG9ydCBzdGF0aWNzIGZyb20gJy4vU3RhdGljcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRW5lbXlXYXZlR2VuZXJhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFdhdmUgPSAxO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImJyZWFrXCI7XHJcbiAgICAgICAgdGhpcy53YXZlU3Bhd25XYWl0VGltZSA9IDEwMDA7XHJcbiAgICAgICAgdGhpcy53YXZlUG93ZXIgPSAxMDA7XHJcbiAgICAgICAgdGhpcy5lbGFwc2VkVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy51cGRhdGVkU3RhdHNGb3JXYXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy53YXZlQnJlYWsgPSAxNTAwMDtcclxuICAgICAgICB0aGlzLnByaW50RW5lbWllcyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0V2F2ZUluZm8od2F2ZU51bWJlcikge1xyXG4gICAgICAgIHdhdmVOdW1iZXIgPSB3YXZlTnVtYmVyICUgc3RhdGljcy53YXZlUGF0dGVybi5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIHN0YXRpY3Mud2F2ZVBhdHRlcm5bd2F2ZU51bWJlcl07XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGRlbHRhKSB7XHJcbiAgICAgICAgdGhpcy5lbGFwc2VkVGltZSArPSBkZWx0YTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gXCJicmVha1wiICYmIHRoaXMuZWxhcHNlZFRpbWUgPj0gdGhpcy53YXZlQnJlYWspIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFwid2F2ZVwiO1xyXG4gICAgICAgICAgICB0aGlzLmVsYXBzZWRUaW1lID0gMDtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50V2F2ZSsrO1xyXG5cclxuICAgICAgICAgICAgdmFyIHdhdmVJbmZvID0gdGhpcy5nZXRXYXZlSW5mbyh0aGlzLmN1cnJlbnRXYXZlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFdhdmVFbmVteUxlZnQgPSB3YXZlSW5mby5iYXNlQW1vdW50O1xyXG4gICAgICAgICAgICB0aGlzLndhdmVTcGF3bldhaXRUaW1lID0gd2F2ZUluZm8uc3Bhd25QYXVzZVRpbWUgKiAxMDAwO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZWRTdGF0c0ZvcldhdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gXCJ3YXZlXCIgJiYgdGhpcy5lbGFwc2VkVGltZSA+PSB0aGlzLndhdmVTcGF3bldhaXRUaW1lKSB7XHJcbiAgICAgICAgICAgIHZhciB3YXZlSW5mbyA9IHRoaXMuZ2V0V2F2ZUluZm8odGhpcy5jdXJyZW50V2F2ZSk7XHJcbiAgICAgICAgICAgIHZhciBlbmVteSA9IHRoaXMuYnVpbGRFbmVteSh3YXZlSW5mbyk7XHJcblxyXG5cclxuICAgICAgICAgICAgZ2FtZS5hZGRFbmVteShlbmVteSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFdhdmVFbmVteUxlZnQtLTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRXYXZlRW5lbXlMZWZ0ID09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBcImJyZWFrXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndhdmVCcmVhayA9IHdhdmVJbmZvLndhdmVCcmVhayAqIDEwMDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5lbGFwc2VkVGltZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGJ1aWxkRW5lbXkod2F2ZUluZm8pIHtcclxuICAgICAgICB2YXIgc3RhcnRYID0gc3RhdGljcy5zdGFydFggKiBzdGF0aWNzLnRpbGVTaXplICsgKHN0YXRpY3MudGlsZVNpemUgLyAyKTtcclxuICAgICAgICB2YXIgc3RhcnRZID0gc3RhdGljcy5zdGFydFkgKiBzdGF0aWNzLnRpbGVTaXplICsgKHN0YXRpY3MudGlsZVNpemUgLyAyKTtcclxuXHJcbiAgICAgICAgc3dpdGNoICh3YXZlSW5mby50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMToge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVuZW15ID0gbmV3IEJhc2ljRW5lbXkoc3RhcnRYLCBzdGFydFksIHRoaXMuY3VycmVudFdhdmUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAyOiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5lbXkgPSBuZXcgRmFzdEVuZW15KHN0YXJ0WCwgc3RhcnRZLCB0aGlzLmN1cnJlbnRXYXZlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgMzoge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVuZW15ID0gbmV3IFNsb3dFbmVteShzdGFydFgsIHN0YXJ0WSwgdGhpcy5jdXJyZW50V2F2ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIDQ6IHtcclxuICAgICAgICAgICAgICAgIHZhciBlbmVteSA9IG5ldyBHcm91cEVuZW15KHN0YXJ0WCwgc3RhcnRZLCB0aGlzLmN1cnJlbnRXYXZlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgNToge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVuZW15ID0gbmV3IEJvc3NFbmVteShzdGFydFgsIHN0YXJ0WSwgdGhpcy5jdXJyZW50V2F2ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlZFN0YXRzRm9yV2F2ZSAmJiB0aGlzLnByaW50RW5lbWllcykge1xyXG4gICAgICAgICAgICB2YXIgbGFzdEVuZW1pZXNUYWJsZUJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxhc3RFbmVteVRhYmxlQm9keVwiKTtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRXYXZlUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0eXBlQ29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgICAgY3VycmVudFdhdmVSb3cuYXBwZW5kQ2hpbGQodHlwZUNvbHVtbik7XHJcbiAgICAgICAgICAgIHR5cGVDb2x1bW4uaW5uZXJUZXh0ID0gZW5lbXkuY29uc3RydWN0b3IubmFtZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciBocENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgICAgIGhwQ29sdW1uLmNsYXNzTmFtZSA9ICdocENvbCc7XHJcbiAgICAgICAgICAgIGN1cnJlbnRXYXZlUm93LmFwcGVuZENoaWxkKGhwQ29sdW1uKTtcclxuICAgICAgICAgICAgaHBDb2x1bW4uaW5uZXJUZXh0ID0gTWF0aC5mbG9vcihlbmVteS5tYXhIZWFsdGhQb2ludHMgKiAxMDApIC8gMTAwO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGFzdEVuZW1pZXNUYWJsZUJvZHkucHJlcGVuZChjdXJyZW50V2F2ZVJvdyk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlZFN0YXRzRm9yV2F2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGVuZW15O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgbGV0IGVuZW15V2F2ZUdlbmVyYXRvciA9IG5ldyBFbmVteVdhdmVHZW5lcmF0b3IoKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9FbmVteVdhdmVHZW5lcmF0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IERlYnVnT3B0aW9ucyBmcm9tICcuL0RlYnVnT3B0aW9ucyc7XHJcbmltcG9ydCBnYW1lIGZyb20gJy4vZ2FtZSc7XHJcbmltcG9ydCBzdGF0aWNzIGZyb20gJy4vU3RhdGljcyc7XHJcblxyXG5jbGFzcyBQYXRoRmluZGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMub3Blbkxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLmNsb3NlZExpc3QgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBzb3J0KGEsIGIpIHtcclxuICAgICAgICB2YXIgZmFjdG9yID0gMS40O1xyXG4gICAgICAgIGlmICgoYi5kaXN0YW5jZSAqIGZhY3RvciArIGIucGF0aExlbmd0aCkgPiAoYS5kaXN0YW5jZSAqIGZhY3RvciArIGEucGF0aExlbmd0aCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKGIuZGlzdGFuY2UgKiBmYWN0b3IgKyBiLnBhdGhMZW5ndGgpIDwgKGEuZGlzdGFuY2UgKiBmYWN0b3IgKyBhLnBhdGhMZW5ndGgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICBjYWxjRGlzdGFuY2UoeDEsIHkxLCB4MiwgeTIpIHtcclxuICAgICAgICB2YXIgYSA9IHgxIC0geDI7XHJcbiAgICAgICAgdmFyIGIgPSB5MSAtIHkyO1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwYW5kVGlsZShjbG9zZWRMaXN0LCBvcGVuTGlzdCwgZ3JpZCwgZWxlbWVudCwgeCwgeSwgZW5kWCwgZW5kWSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xvc2VkTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IGNsb3NlZExpc3RbaV07XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50LnggPT0geCAmJiBjdXJyZW50LnkgPT0geSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgdGlsZSA9IGdyaWRbeF1beV07XHJcbiAgICAgICAgaWYgKHRpbGUuaXNXYWxrYWJsZSgpKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcGF0aExlbmd0aCA9IGVsZW1lbnQucGF0aExlbmd0aCArIHRoaXMuY2FsY0Rpc3RhbmNlKGVsZW1lbnQueCwgZWxlbWVudC55LCB4LCB5KVxyXG5cclxuICAgICAgICAgICAgdmFyIGVsZW1lbnRJbk9wZW5MaXN0ID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIG9wZW5MaXN0SW5kZXggPSAwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBvcGVuTGlzdEluZGV4ID0gMDsgb3Blbkxpc3RJbmRleCA8IG9wZW5MaXN0Lmxlbmd0aDsgb3Blbkxpc3RJbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IG9wZW5MaXN0W29wZW5MaXN0SW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQueCA9PSB4ICYmIGN1cnJlbnQueSA9PSB5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEluT3Blbkxpc3QgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50SW5PcGVuTGlzdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudEluT3Blbkxpc3QucGF0aExlbmd0aCA+IHBhdGhMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcGVuTGlzdC5zcGxpY2Uob3Blbkxpc3RJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3Blbkxpc3QucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB4OiB4LFxyXG4gICAgICAgICAgICAgICAgeTogeSxcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiB0aGlzLmNhbGNEaXN0YW5jZSh4LCB5LCBlbmRYLCBlbmRZKSxcclxuICAgICAgICAgICAgICAgIHBhdGhMZW5ndGg6IHBhdGhMZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBwcmV2aW91czogZWxlbWVudCxcclxuICAgICAgICAgICAgICAgIGxlbmd0aDogZWxlbWVudC5sZW5ndGggKyAxXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3JtYXRQYXRoKGVuZCkge1xyXG4gICAgICAgIHZhciBwYXRoID0gW107XHJcbiAgICAgICAgcGF0aC5wdXNoKClcclxuICAgICAgICB2YXIgY3VycmVudEVsZW1lbnQgPSBlbmQ7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICBwYXRoLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgeDogY3VycmVudEVsZW1lbnQueCxcclxuICAgICAgICAgICAgICAgIHk6IGN1cnJlbnRFbGVtZW50LnlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY3VycmVudEVsZW1lbnQucHJldmlvdXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlIChjdXJyZW50RWxlbWVudCAhPSBudWxsKTtcclxuICAgICAgICByZXR1cm4gcGF0aDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBmaW5kUGF0aEFzeW5jKHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZLCBncmlkLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZFBhdGgoc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFksIGdyaWQsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRQYXRoKHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZLCBncmlkLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5vcGVuTGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2xvc2VkTGlzdCA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLm9wZW5MaXN0LnB1c2goe1xyXG4gICAgICAgICAgICB4OiBzdGFydFgsXHJcbiAgICAgICAgICAgIHk6IHN0YXJ0WSxcclxuICAgICAgICAgICAgZGlzdGFuY2U6IHRoaXMuY2FsY0Rpc3RhbmNlKHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZKSxcclxuICAgICAgICAgICAgcGF0aExlbmd0aDogMCxcclxuICAgICAgICAgICAgcHJldmlvdXM6IG51bGwsXHJcbiAgICAgICAgICAgIGxlbmd0aDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgY2hlY2tlZFRpbGVzID0gMDtcclxuICAgICAgICB3aGlsZSAodGhpcy5vcGVuTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3Blbkxpc3Quc29ydCh0aGlzLnNvcnQpO1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMub3Blbkxpc3Quc2hpZnQoKTtcclxuICAgICAgICAgICAgY2hlY2tlZFRpbGVzKys7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnggPT0gZW5kWCAmJiBlbGVtZW50LnkgPT0gZW5kWSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJUb29rIFwiICsgY2hlY2tlZFRpbGVzICsgXCIgY2hlY2tzIHRvIGZpbmQgUGF0aFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXRQYXRoKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnUGF0aEZpbmRpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2xlZXAoMjApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsb3NlZExpc3QucHVzaChlbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgIC8vVVBcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQueSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciB4ID0gZWxlbWVudC54O1xyXG4gICAgICAgICAgICAgICAgdmFyIHkgPSBlbGVtZW50LnkgLSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5leHBhbmRUaWxlKHRoaXMuY2xvc2VkTGlzdCwgdGhpcy5vcGVuTGlzdCwgZ3JpZCwgZWxlbWVudCwgeCwgeSwgZW5kWCwgZW5kWSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vRE9XTlxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC55IDwgaGVpZ2h0IC0gMSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBlbGVtZW50Lng7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9IGVsZW1lbnQueSArIDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZFRpbGUodGhpcy5jbG9zZWRMaXN0LCB0aGlzLm9wZW5MaXN0LCBncmlkLCBlbGVtZW50LCB4LCB5LCBlbmRYLCBlbmRZKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9SSUdIVFxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC54IDwgd2lkdGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IGVsZW1lbnQueCArIDE7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9IGVsZW1lbnQueTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kVGlsZSh0aGlzLmNsb3NlZExpc3QsIHRoaXMub3Blbkxpc3QsIGdyaWQsIGVsZW1lbnQsIHgsIHksIGVuZFgsIGVuZFkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL0xFRlRcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQueCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciB4ID0gZWxlbWVudC54IC0gMTtcclxuICAgICAgICAgICAgICAgIHZhciB5ID0gZWxlbWVudC55O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5leHBhbmRUaWxlKHRoaXMuY2xvc2VkTGlzdCwgdGhpcy5vcGVuTGlzdCwgZ3JpZCwgZWxlbWVudCwgeCwgeSwgZW5kWCwgZW5kWSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJUb29rIFwiICsgY2hlY2tlZFRpbGVzICsgXCIgY2hlY2tzIHRvIGZpbmQgbm8gUGF0aFwiKTtcclxuICAgICAgICB2YXIgbmVhcmVzdEVsZW1lbnRUb0VuZCA9IHtcclxuICAgICAgICAgICAgZGlzdGFuY2U6IE51bWJlci5NQVhfVkFMVUVcclxuICAgICAgICB9O1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jbG9zZWRMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5jbG9zZWRMaXN0W2ldO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5kaXN0YW5jZSA8IG5lYXJlc3RFbGVtZW50VG9FbmQuZGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIG5lYXJlc3RFbGVtZW50VG9FbmQgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdFBhdGgobmVhcmVzdEVsZW1lbnRUb0VuZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhjdHgpIHtcclxuICAgICAgICAvLyBkcmF3IFBhdGhcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjQzlDOUM5XCI7XHJcbiAgICAgICAgdmFyIG1hcmdpbiA9IHN0YXRpY3MudGlsZVNpemUgLyA0O1xyXG4gICAgICAgIGlmIChnYW1lLnBhdGggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdhbWUucGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaWxlID0gZ2FtZS50aWxlc1tnYW1lLnBhdGhbaV0ueF1bZ2FtZS5wYXRoW2ldLnldO1xyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGN1cnJlbnRUaWxlLnggKyBtYXJnaW4sIGN1cnJlbnRUaWxlLnkgKyBtYXJnaW4sIGN1cnJlbnRUaWxlLndpZHRoIC0gbWFyZ2luICogMiwgY3VycmVudFRpbGUuaGVpZ2h0IC0gbWFyZ2luICogMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghRGVidWdPcHRpb25zLmRlYnVnUGF0aEZpbmRpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMub3Blbkxpc3QgfHwgIXRoaXMuY2xvc2VkTGlzdCB8fCAhZ2FtZS50aWxlcykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImdyZWVuXCI7XHJcbiAgICAgICAgdmFyIG1hcmdpbiA9IHN0YXRpY3MudGlsZVNpemUgLyA1O1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLm9wZW5MaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRUaWxlID0gZ2FtZS50aWxlc1t0aGlzLm9wZW5MaXN0W2ldLnhdW3RoaXMub3Blbkxpc3RbaV0ueV07XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChjdXJyZW50VGlsZS54ICsgbWFyZ2luLCBjdXJyZW50VGlsZS55ICsgbWFyZ2luLCBjdXJyZW50VGlsZS53aWR0aCAtIG1hcmdpbiAqIDIsIGN1cnJlbnRUaWxlLmhlaWdodCAtIG1hcmdpbiAqIDIpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJlZFwiO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jbG9zZWRMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpc05hTih0aGlzLmNsb3NlZExpc3RbaV0ueCkgfHwgaXNOYU4odGhpcy5jbG9zZWRMaXN0W2ldLnkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyZW50VGlsZSA9IGdhbWUudGlsZXNbdGhpcy5jbG9zZWRMaXN0W2ldLnhdW3RoaXMuY2xvc2VkTGlzdFtpXS55XTtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGN1cnJlbnRUaWxlLnggKyBtYXJnaW4sIGN1cnJlbnRUaWxlLnkgKyBtYXJnaW4sIGN1cnJlbnRUaWxlLndpZHRoIC0gbWFyZ2luICogMiwgY3VycmVudFRpbGUuaGVpZ2h0IC0gbWFyZ2luICogMik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNsZWVwKG1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCBtcykpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBwYXRoRmluZGVyID0gbmV3IFBhdGhGaW5kZXIoKTtcclxuZXhwb3J0IGRlZmF1bHQgcGF0aEZpbmRlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9QYXRoRmluZGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIH1cclxuICAgIGlzQWN0aXZlKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQmFzZUNsYXNzIEFjdGl2ZSBjYWxsZWQhXCIpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvSW5mb0FyZWFDb21wb25lbnQuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IGdhbWUgZnJvbSAnLi9nYW1lJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLm1hcmdpbiA9IDAuMjtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRvd2VyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpc1dhbGthYmxlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvd2VyID09IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhjdHgpIHtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjYmJiYmJiXCI7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMueCArIHRoaXMubWFyZ2luLCB0aGlzLnkgKyB0aGlzLm1hcmdpbiwgdGhpcy53aWR0aCAtIHRoaXMubWFyZ2luICogMiwgdGhpcy5oZWlnaHQgLSB0aGlzLm1hcmdpbiAqIDIpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50b3dlciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG93ZXIuZHJhdyhjdHgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3U2VsZWN0aW9uKGN0eCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiM4N0NFRkFcIjtcclxuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC42O1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy54ICsgdGhpcy5tYXJnaW4sIHRoaXMueSArIHRoaXMubWFyZ2luLCB0aGlzLndpZHRoIC0gdGhpcy5tYXJnaW4gKiAyLCB0aGlzLmhlaWdodCAtIHRoaXMubWFyZ2luICogMik7XHJcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRvd2VyICE9IG51bGwgJiYgdGhpcy5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRvd2VyLmRyYXdTZWxlY3Rpb24oY3R4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGRlbHRhKSB7XHJcbiAgICAgICBcclxuICAgICAgICBpZiAodGhpcy50b3dlciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG93ZXIudXBkYXRlKGRlbHRhKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMudG93ZXIuY3VycmVudEhlYWx0aFBvaW50cyA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvd2VyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGdhbWUuZ2FtZUFyZWFDaGFuZ2VkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGl0KGF0dGFja1Bvd2VyKSB7XHJcbiAgICAgICAgdmFyIHRvd2VyID0gdGhpcy50b3dlcjtcclxuICAgICAgICBpZiAodG93ZXIgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIFRvd2VyIGhlcmUgXCIgKyB0aGlzLnggKyBcIiAvIFwiICsgdGhpcy55KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0b3dlci5oaXQoYXR0YWNrUG93ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL1RpbGUuanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBnYW1lIGZyb20gJy4vZ2FtZSc7XHJcbmltcG9ydCB7IGdldE1vdXNlIH0gZnJvbSAnLi9oZWxwZXInO1xyXG5pbXBvcnQgc3RhdGljcyBmcm9tICcuL1N0YXRpY3MnO1xyXG5pbXBvcnQgeyBlbmVteVdhdmVHZW5lcmF0b3IgfSBmcm9tICcuL0VuZW15V2F2ZUdlbmVyYXRvcic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IDcwO1xyXG4gICAgICAgIGxldCBwYWRkaW5nID0gNTtcclxuXHJcbiAgICAgICAgdGhpcy5pbmZvU2VjdGlvbiA9IHtcclxuICAgICAgICAgICAgeDogc3RhdGljcy5pbmZvUmVnaW9uWCArIHBhZGRpbmcsXHJcbiAgICAgICAgICAgIHk6IHN0YXRpY3MuaW5mb1JlZ2lvblkgKyBwYWRkaW5nLFxyXG4gICAgICAgICAgICB3aWR0aDogc3RhdGljcy5pbmZvUmVnaW9uV2lkdGggLSAocGFkZGluZyAqIDIpLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgaW5mb1NlY3Rpb24gPSB0aGlzLmluZm9TZWN0aW9uO1xyXG5cclxuICAgICAgICB0aGlzLnJ1bkNvbnRyb2wgPSB7XHJcbiAgICAgICAgICAgIHg6IGluZm9TZWN0aW9uLnggKyBpbmZvU2VjdGlvbi53aWR0aCAtIGluZm9TZWN0aW9uLmhlaWdodCxcclxuICAgICAgICAgICAgeTogaW5mb1NlY3Rpb24ueSxcclxuICAgICAgICAgICAgd2lkdGg6IGluZm9TZWN0aW9uLmhlaWdodCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBpbmZvU2VjdGlvbi5oZWlnaHQsXHJcbiAgICAgICAgICAgIGhpdChteCwgbXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBteCA+IHRoaXMueFxyXG4gICAgICAgICAgICAgICAgICAgICYmIG15ID4gdGhpcy55XHJcbiAgICAgICAgICAgICAgICAgICAgJiYgbXggPCB0aGlzLnggKyB0aGlzLndpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgbXkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc3BlZWRDb250cm9sID0ge1xyXG4gICAgICAgICAgICB4OiBpbmZvU2VjdGlvbi54ICsgaW5mb1NlY3Rpb24ud2lkdGggLSBpbmZvU2VjdGlvbi5oZWlnaHQgKiAzLFxyXG4gICAgICAgICAgICB5OiBpbmZvU2VjdGlvbi55LFxyXG4gICAgICAgICAgICB3aWR0aDogaW5mb1NlY3Rpb24uaGVpZ2h0LFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGluZm9TZWN0aW9uLmhlaWdodCxcclxuICAgICAgICAgICAgaGl0KG14LCBteSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG14ID4gdGhpcy54XHJcbiAgICAgICAgICAgICAgICAgICAgJiYgbXkgPiB0aGlzLnlcclxuICAgICAgICAgICAgICAgICAgICAmJiBteCA8IHRoaXMueCArIHRoaXMud2lkdGhcclxuICAgICAgICAgICAgICAgICAgICAmJiBteSA8IHRoaXMueSArIHRoaXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdhbWUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlTW91c2VEb3duLmJpbmQodGhpcyksIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoY3R4KSB7XHJcbiAgICAgICAgdGhpcy5kcmF3Q29udHJvbHMoY3R4KTtcclxuICAgICAgICB0aGlzLmRyYXdJbmZvT2JqZWN0KGN0eCwgXCJNb25leVwiLCBNYXRoLmZsb29yKGdhbWUubW9uZXkpLCAyKTtcclxuICAgICAgICB0aGlzLmRyYXdJbmZvT2JqZWN0KGN0eCwgXCJXYXZlXCIsIGVuZW15V2F2ZUdlbmVyYXRvci5jdXJyZW50V2F2ZSwgMyk7XHJcbiAgICAgICAgdGhpcy5kcmF3SW5mb09iamVjdChjdHgsIFwiSGVhbHRoXCIsIE1hdGguZmxvb3IoZ2FtZS5lbmRUaWxlLmN1cnJlbnRIZWFsdGgpICsgXCIvXCIgKyBnYW1lLmVuZFRpbGUubWF4SGVhbHRoLCA0KTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3SW5mb09iamVjdChjdHgsIG5hbWUsIHZhbHVlLCBwb3MpIHtcclxuICAgICAgICB2YXIgaW5mb1NlY3Rpb24gPSB0aGlzLmluZm9TZWN0aW9uO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiMxMTExMTFcIjtcclxuICAgICAgICBjdHguZm9udCA9IFwiOXB4IEFyaWFsXCI7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwic3RhcnRcIjtcclxuICAgICAgICBjdHguZmlsbFRleHQobmFtZSwgaW5mb1NlY3Rpb24ueCwgKGluZm9TZWN0aW9uLnkgKyA5KSAqIHBvcyk7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwiZW5kXCI7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KHZhbHVlLCBpbmZvU2VjdGlvbi54ICsgaW5mb1NlY3Rpb24ud2lkdGgsIChpbmZvU2VjdGlvbi55ICsgOSkgKiBwb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdDb250cm9scyhjdHgpIHtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjMTExMTExXCI7XHJcbiAgICAgICAgdmFyIHJ1bkNvbnRyb2wgPSB0aGlzLnJ1bkNvbnRyb2w7XHJcbiAgICAgICAgaWYgKGdhbWUuZ2FtZVN0YXRlID09IFwiUlVOTklOR1wiKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChydW5Db250cm9sLngsXHJcbiAgICAgICAgICAgICAgICBydW5Db250cm9sLnksXHJcbiAgICAgICAgICAgICAgICBydW5Db250cm9sLmhlaWdodCAvIDEwICogNCxcclxuICAgICAgICAgICAgICAgIHJ1bkNvbnRyb2wuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChydW5Db250cm9sLnggKyBydW5Db250cm9sLmhlaWdodCAvIDEwICogNixcclxuICAgICAgICAgICAgICAgIHJ1bkNvbnRyb2wueSxcclxuICAgICAgICAgICAgICAgIHJ1bkNvbnRyb2wuaGVpZ2h0IC8gMTAgKiA0LFxyXG4gICAgICAgICAgICAgICAgcnVuQ29udHJvbC5oZWlnaHQpO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGdhbWUuZ2FtZVN0YXRlID09IFwiUEFVU0VEXCIpIHtcclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHgubW92ZVRvKHJ1bkNvbnRyb2wueCwgcnVuQ29udHJvbC55KTtcclxuICAgICAgICAgICAgY3R4LmxpbmVUbyhydW5Db250cm9sLnggKyBydW5Db250cm9sLndpZHRoLCBydW5Db250cm9sLnkgKyBydW5Db250cm9sLmhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICBjdHgubGluZVRvKHJ1bkNvbnRyb2wueCwgcnVuQ29udHJvbC55ICsgcnVuQ29udHJvbC5oZWlnaHQpO1xyXG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgc3BlZWQgPSBnYW1lLmdldFNwZWVkTXVsdGlwbGllcigpO1xyXG4gICAgICAgIHZhciBzcGVlZENvbnRyb2wgPSB0aGlzLnNwZWVkQ29udHJvbDtcclxuICAgICAgICB2YXIgYXJyb3dXaWR0aCA9IHNwZWVkQ29udHJvbC53aWR0aCAvIHNwZWVkO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BlZWQ7IGkrKykge1xyXG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oYXJyb3dXaWR0aCAqIGkgKyBzcGVlZENvbnRyb2wueCwgc3BlZWRDb250cm9sLnkpO1xyXG4gICAgICAgICAgICBjdHgubGluZVRvKGFycm93V2lkdGggKiBpICsgc3BlZWRDb250cm9sLnggKyBhcnJvd1dpZHRoLCBzcGVlZENvbnRyb2wueSArIHNwZWVkQ29udHJvbC5oZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgY3R4LmxpbmVUbyhhcnJvd1dpZHRoICogaSArIHNwZWVkQ29udHJvbC54LCBzcGVlZENvbnRyb2wueSArIHNwZWVkQ29udHJvbC5oZWlnaHQpO1xyXG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZU1vdXNlRG93bihlKSB7XHJcbiAgICAgICAgaWYgKGdhbWUuZ2FtZVN0YXRlID09IFwiR0FNRU9WRVJcIikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtb3VzZSA9IGdldE1vdXNlKGUpO1xyXG4gICAgICAgIHZhciBydW5Db250cm9sID0gdGhpcy5ydW5Db250cm9sO1xyXG4gICAgICAgIGlmIChydW5Db250cm9sLmhpdChtb3VzZS54LCBtb3VzZS55KSkge1xyXG4gICAgICAgICAgICBpZiAoZ2FtZS5nYW1lU3RhdGUgPT0gXCJQQVVTRURcIikge1xyXG4gICAgICAgICAgICAgICAgZ2FtZS5nYW1lU3RhdGUgPSBcIlJVTk5JTkdcIjtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChnYW1lLmdhbWVTdGF0ZSA9PSBcIlJVTk5JTkdcIikge1xyXG4gICAgICAgICAgICAgICAgZ2FtZS5nYW1lU3RhdGUgPSBcIlBBVVNFRFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zcGVlZENvbnRyb2wuaGl0KG1vdXNlLngsIG1vdXNlLnkpKSB7XHJcbiAgICAgICAgICAgIHZhciBzcGVlZCA9IGdhbWUuZ2V0U3BlZWRNdWx0aXBsaWVyKCk7XHJcbiAgICAgICAgICAgIHNwZWVkKys7XHJcbiAgICAgICAgICAgIGlmIChzcGVlZCA+IDQpIHtcclxuICAgICAgICAgICAgICAgIHNwZWVkID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5ldyBTcGVlZE11bHRpcGxpZXI6IFwiICsgc3BlZWQpO1xyXG4gICAgICAgICAgICBnYW1lLnNldFNwZWVkTXVsdGlwbGllcihzcGVlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhlaWdodDtcclxuICAgIH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL0dhbWVJbmZvQ29tcG9uZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBFbmVteSB9IGZyb20gXCIuL0VuZW15XCI7XHJcbmltcG9ydCBzdGF0aWNzIGZyb20gJy4vU3RhdGljcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQmFzaWNFbmVteSBleHRlbmRzIEVuZW15IHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIGxldmVsKSB7XHJcbiAgICAgICAgdmFyIGNvbG9yID0gXCJibHVlXCI7XHJcbiAgICAgICAgdmFyIHNwZWVkID0gMC44O1xyXG4gICAgICAgIHN1cGVyKHgsIHksIGNvbG9yLCBzcGVlZCwgbGV2ZWwpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmFzdEVuZW15IGV4dGVuZHMgRW5lbXkge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgbGV2ZWwpIHtcclxuICAgICAgICB2YXIgY29sb3IgPSBcImdyZWVuXCI7XHJcbiAgICAgICAgdmFyIHNwZWVkID0gMS4zO1xyXG4gICAgICAgIHN1cGVyKHgsIHksIGNvbG9yLCBzcGVlZCwgbGV2ZWwpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU2xvd0VuZW15IGV4dGVuZHMgRW5lbXkge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgbGV2ZWwpIHtcclxuICAgICAgICB2YXIgY29sb3IgPSBcInllbGxvd1wiO1xyXG4gICAgICAgIHZhciBzcGVlZCA9IDAuNjtcclxuICAgICAgICBzdXBlcih4LCB5LCBjb2xvciwgc3BlZWQsIGxldmVsKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEdyb3VwRW5lbXkgZXh0ZW5kcyBFbmVteSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBsZXZlbCkge1xyXG4gICAgICAgIHZhciBjb2xvciA9IFwiYmxhY2tcIjtcclxuICAgICAgICB2YXIgc3BlZWQgPSAwLjg7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgY29sb3IsIHNwZWVkLCBsZXZlbCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCb3NzRW5lbXkgZXh0ZW5kcyBFbmVteSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBsZXZlbCkge1xyXG4gICAgICAgIHZhciBjb2xvciA9IFwicmVkXCI7XHJcbiAgICAgICAgdmFyIHNwZWVkID0gMC4xO1xyXG4gICAgICAgIHN1cGVyKHgsIHksIGNvbG9yLCBzcGVlZCwgbGV2ZWwpO1xyXG4gICAgfVxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvRW5lbXlUcHllcy5qc1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IGdhbWUgZnJvbSAnLi9nYW1lJztcclxuaW1wb3J0IHBhdGhGaW5kZXIgZnJvbSAnLi9QYXRoRmluZGVyJztcclxuaW1wb3J0IHN0YXRpY3MgZnJvbSAnLi9TdGF0aWNzJztcclxuaW1wb3J0IFRleHRHb1VwRWZmZWN0IGZyb20gJy4vVGV4dEdvVXBFZmZlY3QnO1xyXG5pbXBvcnQgRW5lbXlBdHRyaWJ1dGUgZnJvbSAnLi9lbmVteUF0dHJpYnV0ZSc7XHJcbmltcG9ydCBzdGF0aWNzIGZyb20gJy4vU3RhdGljcyc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEVuZW15IHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIGNvbG9yLCBzcGVlZCwgbGV2ZWwpIHtcclxuICAgICAgICB0aGlzLmxldmVsID0gbGV2ZWw7IFxyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLnNpemUgPSBzdGF0aWNzLnRpbGVTaXplIC8gMy41O1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XHJcbiAgICAgICAgdGhpcy5sYXN0QXR0YWNrID0gTnVtYmVyLk1BWF9WQUxVRTtcclxuXHJcbiAgICAgICAgdGhpcy5hdHRhY2tzUGVyU2Vjb25kcyA9IHN0YXRpY3MuZ2V0RW5lbXlBdHRyaWJ1dGVGb3IodGhpcywgXCJhdHRhY2tzUGVyU2Vjb25kXCIsIGxldmVsKTtcclxuICAgICAgICB0aGlzLmF0dGFja1Bvd2VyID0gc3RhdGljcy5nZXRFbmVteUF0dHJpYnV0ZUZvcih0aGlzLCBcImF0dGFja0RhbWFnZVwiLCBsZXZlbCk7XHJcbiAgICAgICAgdGhpcy5tYXhIZWFsdGhQb2ludHMgPSBzdGF0aWNzLmdldEVuZW15QXR0cmlidXRlRm9yKHRoaXMsIFwiaGVhbHRoUG9pbnRzXCIsIGxldmVsKS5nZXRWYWx1ZSgpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEhlYWx0aFBvaW50cyA9IHRoaXMubWF4SGVhbHRoUG9pbnRzO1xyXG5cclxuICAgICAgICB0aGlzLm5leHRXYWxrUG9pbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVhY2hlZEdvYWwgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1c3RvbVBhdGggPSBudWxsO1xyXG4gICAgfSAgIFxyXG5cclxuICAgIGRyYXcoY3R4KSB7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIGN0eC5hcmModGhpcy54LCB0aGlzLnksIHRoaXMuc2l6ZSwgMCwgMipNYXRoLlBJKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWF4SGVhbHRoUG9pbnRzID4gdGhpcy5jdXJyZW50SGVhbHRoUG9pbnRzKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJlZFwiO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy54IC0gdGhpcy5zaXplLCB0aGlzLnkgLSB0aGlzLnNpemUqMS43LCB0aGlzLnNpemUqMiwgdGhpcy5zaXplKjIgLyA4KTtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiZ3JlZW5cIjtcclxuICAgICAgICAgICAgdmFyIGhlYWx0aFdpZHRoID0gdGhpcy5zaXplKjIgLyB0aGlzLm1heEhlYWx0aFBvaW50cyAqIHRoaXMuY3VycmVudEhlYWx0aFBvaW50cztcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMueCAtIHRoaXMuc2l6ZSwgdGhpcy55IC0gdGhpcy5zaXplKjEuNywgaGVhbHRoV2lkdGgsIHRoaXMuc2l6ZSoyIC8gOCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNhbGN1bGF0ZVdhbGtQb2ludCgpIHtcclxuICAgICAgICB2YXIgY3VycmVudFBhdGggPSBnYW1lLnBhdGg7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VzdG9tUGF0aCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoID0gdGhpcy5jdXN0b21QYXRoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHhQb3MgPSBNYXRoLmZsb29yKHRoaXMueCAvIHN0YXRpY3MudGlsZVNpemUpO1xyXG4gICAgICAgIHZhciB5UG9zID0gTWF0aC5mbG9vcih0aGlzLnkgLyBzdGF0aWNzLnRpbGVTaXplKTtcclxuXHJcblxyXG4gICAgICAgIHZhciBpbmRleE9uUGF0aCA9IG51bGw7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyZW50UGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGN1cnJlbnRQYXRoW2ldO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC54ID09IHhQb3MgJiYgZWxlbWVudC55ID09IHlQb3MpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4T25QYXRoID0gaTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW5kZXhPblBhdGggPT0gMCkge1xyXG4gICAgICAgICAgICBpZiAoeFBvcyA9PSBnYW1lLmVuZFRpbGUuY29vcmRzWCAmJiB5UG9zID09IGdhbWUuZW5kVGlsZS5jb29yZHNZKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWNoZWRHb2FsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFjaGVkR29hbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpbmRleE9uUGF0aCA9PSBudWxsICYmIHRoaXMuY3VzdG9tUGF0aCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tUGF0aCA9IHBhdGhGaW5kZXIuZmluZFBhdGgoeFBvcywgeVBvcywgZ2FtZS5lbmRUaWxlLmNvb3Jkc1gsIGdhbWUuZW5kVGlsZS5jb29yZHNZLFxyXG4gICAgICAgICAgICAgICAgZ2FtZS50aWxlcyxcclxuICAgICAgICAgICAgICAgIHN0YXRpY3MudGlsZXNDb3VudFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgc3RhdGljcy50aWxlc0NvdW50SGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZVdhbGtQb2ludCgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXhPblBhdGggPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBjYWxjIG5ldyBQYXRoLi5cclxuICAgICAgICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgICAgICAgICB4OiBnYW1lLmVuZFRpbGUueCArIChzdGF0aWNzLnRpbGVTaXplLyAyKSxcclxuICAgICAgICAgICAgICAgIHk6IGdhbWUuZW5kVGlsZS55ICsgKHN0YXRpY3MudGlsZVNpemUvIDIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7IFxyXG4gICAgICAgICAgICB4OiBjdXJyZW50UGF0aFtpbmRleE9uUGF0aC0xXS54ICogc3RhdGljcy50aWxlU2l6ZSArIChzdGF0aWNzLnRpbGVTaXplLyAyKSxcclxuICAgICAgICAgICAgeTogY3VycmVudFBhdGhbaW5kZXhPblBhdGgtMV0ueSAqIHN0YXRpY3MudGlsZVNpemUgKyAoc3RhdGljcy50aWxlU2l6ZS8gMilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGF0dGFjayhkZWx0YSkge1xyXG4gICAgICAgIHRoaXMubGFzdEF0dGFjayArPSBkZWx0YTtcclxuXHJcbiAgICAgICAgdmFyIHBlclNlYyA9IDEwMDAgLyB0aGlzLmF0dGFja3NQZXJTZWNvbmRzLmdldFZhbHVlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMubGFzdEF0dGFjayA8IHBlclNlYykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgeFBvcyA9IE1hdGguZmxvb3IodGhpcy54IC8gc3RhdGljcy50aWxlU2l6ZSk7XHJcbiAgICAgICAgdmFyIHlQb3MgPSBNYXRoLmZsb29yKHRoaXMueSAvIHN0YXRpY3MudGlsZVNpemUpO1xyXG5cclxuICAgICAgICB2YXIgZGlmZlggPSB4UG9zIC0gZ2FtZS5lbmRUaWxlLmNvb3Jkc1g7XHJcbiAgICAgICAgdmFyIGRpZmZZID0geVBvcyAtIGdhbWUuZW5kVGlsZS5jb29yZHNZO1xyXG5cclxuICAgICAgICBpZiAoZGlmZlggPCBkaWZmWSkge1xyXG4gICAgICAgICAgICBpZiAoZGlmZlggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2tBdCh4UG9zICsgMSwgeVBvcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFja0F0KHhQb3MgLSAxLCB5UG9zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChkaWZmWSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFja0F0KHhQb3MsIHlQb3MgKyAxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNrQXQoeFBvcywgeVBvcyAtIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGF0dGFja0F0KHgsIHkpIHtcclxuICAgICAgICB2YXIgdGlsZSA9IGdhbWUudGlsZXNbeF1beV07XHJcbiAgICAgICAgdGlsZS5oaXQodGhpcy5hdHRhY2tQb3dlci5nZXRWYWx1ZSgpKTsgXHJcbiAgICAgICAgdGhpcy5oaXQodGhpcy5hdHRhY2tQb3dlci5nZXRWYWx1ZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBoaXQocG9pbnRzKSB7IFxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRIZWFsdGhQb2ludHMgPiAwICYmIHRoaXMuY3VycmVudEhlYWx0aFBvaW50cyAtIHBvaW50cyA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEhlYWx0aFBvaW50cyA9IDA7XHJcblxyXG4gICAgICAgICAgICB2YXIgbW9uZXlFYXJuZWQgPSBNYXRoLnJvdW5kKHRoaXMubGV2ZWwgLyAzKTtcclxuICAgICAgICAgICAgZ2FtZS5tb25leSArPSBtb25leUVhcm5lZDtcclxuICAgICAgICAgICAgZ2FtZS5lbnRpdGllcy5wdXNoKG5ldyBUZXh0R29VcEVmZmVjdCh0aGlzLngsIHRoaXMueSwgbW9uZXlFYXJuZWQsIFwiIzIyOTkyMlwiKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SGVhbHRoUG9pbnRzIC09IHBvaW50cztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHVwZGF0ZShkZWx0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLm5leHRXYWxrUG9pbnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLm5leHRXYWxrUG9pbnQgPSB0aGlzLmNhbGN1bGF0ZVdhbGtQb2ludCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMucmVhY2hlZEdvYWwpIHsgICAgIFxyXG4gICAgICAgICAgICBpZiAodGhpcy5uZXh0V2Fsa1BvaW50ID09IG51bGwgJiYgIXRoaXMucmVhY2hlZEdvYWwpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHhQb3MgPSBNYXRoLmZsb29yKHRoaXMueCAvIHN0YXRpY3MudGlsZVNpemUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHlQb3MgPSBNYXRoLmZsb29yKHRoaXMueSAvIHN0YXRpY3MudGlsZVNpemUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0eCA9IHhQb3MgKiBzdGF0aWNzLnRpbGVTaXplICsgc3RhdGljcy50aWxlU2l6ZSAvIDIgLSB0aGlzLng7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHkgPSB5UG9zICogc3RhdGljcy50aWxlU2l6ZSArIHN0YXRpY3MudGlsZVNpemUgLyAyIC0gdGhpcy55O1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQodHgqdHgrdHkqdHkpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBub3QgYWxyZWFkeSBvbiBwbGFjZS5cclxuICAgICAgICAgICAgICAgIGlmIChkaXN0ICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmVsWCA9ICh0eC9kaXN0KSp0aGlzLnNwZWVkKjAuNzU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZlbFkgPSAodHkvZGlzdCkqdGhpcy5zcGVlZCowLjc1O1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueCArPSB2ZWxYO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueSArPSB2ZWxZO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNrKGRlbHRhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB0eCA9IHRoaXMubmV4dFdhbGtQb2ludC54IC0gdGhpcy54O1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5ID0gIHRoaXMubmV4dFdhbGtQb2ludC55IC0gdGhpcy55O1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQodHgqdHgrdHkqdHkpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzdCA8PSB0aGlzLnNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRXYWxrUG9pbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmVsWCA9ICh0eC9kaXN0KSp0aGlzLnNwZWVkKjAuNzU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZlbFkgPSAodHkvZGlzdCkqdGhpcy5zcGVlZCowLjc1O1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueCArPSB2ZWxYO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueSArPSB2ZWxZO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlzRGVhZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50SGVhbHRoUG9pbnRzIDw9IDA7XHJcbiAgICB9XHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9FbmVteS5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xyXG4gICAgZ2V0IGRlYnVnUGF0aEZpbmRpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvRGVidWdPcHRpb25zLmpzXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgZ2FtZSBmcm9tICcuL2dhbWUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgdGV4dCwgY29sb3IpIHtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcblxyXG4gICAgICAgIHRoaXMudmVsWSA9IDAuMDE7XHJcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMTtcclxuICAgICAgICB0aGlzLmVmZmVjdFRpbWUgPSAzMDAwO1xyXG4gICAgICAgIHRoaXMuZWxhcHNlZFRpbWUgPSAwO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGRlbHRhKSB7XHJcbiAgICAgICAgdGhpcy5lbGFwc2VkVGltZSArPSBkZWx0YTtcclxuICAgICAgICB0aGlzLm9wYWNpdHkgPSAxIC0gdGhpcy5lbGFwc2VkVGltZSAvIHRoaXMuZWZmZWN0VGltZTtcclxuICAgICAgICB0aGlzLnkgLT0gIHRoaXMudmVsWSAqIGRlbHRhO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgdmFyIGN0eCA9IGdhbWUuY29udGV4dDtcclxuXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgY3R4LmZvbnQgPSBcIjhweCBBcmlhbFwiO1xyXG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHRoaXMub3BhY2l0eTtcclxuICAgICAgICB2YXIgcHJldmlvdXNCYXNlTGluZSA9IGN0eC50ZXh0QmFzZWxpbmU7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7IFxyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dCggdGhpcy50ZXh0LCAgdGhpcy54LCAgdGhpcy55KTtcclxuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAgdGhpcy5wcmV2aW91c0Jhc2VMaW5lO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQWN0aXZlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9wYWNpdHkgPj0gMDtcclxuICAgIH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL1RleHRHb1VwRWZmZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgSW5mb0FyZWFDb21wb25lbnQgZnJvbSAnLi9JbmZvQXJlYUNvbXBvbmVudCc7XHJcbmltcG9ydCBJbmZvQXJlYVRvd2VyTWVudVVwZ3JhZGVDb21wb25lbnQgZnJvbSAnLi9JbmZvQXJlYVRvd2VyTWVudVVwZ3JhZGVDb21wb25lbnQnO1xyXG5pbXBvcnQgSW5mb0FyZWFUb3dlck1lbnVFbmVteVNlbGVjdGlvbiBmcm9tICcuL2luZm9BcmVhVG93ZXJNZW51RW5lbXlTZWxlY3Rpb24nO1xyXG5pbXBvcnQgZ2FtZSBmcm9tICcuL2dhbWUnO1xyXG5pbXBvcnQgc3RhdGljcyBmcm9tICcuL1N0YXRpY3MnO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4vQnV0dG9uJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgSW5mb0FyZWFDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy50b3dlckF0dHJpYnV0ZVVwZ3JhZGVDb21wb25lbnRzID0gW107XHJcbiAgICAgICAgZ2FtZS5yZWdpc3RlclNlbGVjdGlvbkNoYW5nZWQodGhpcy5vblRvd2VyU2VsZWN0aW9uQ2hhbmdlZC5iaW5kKHRoaXMpKTtcclxuICAgIH0gICAgXHJcblxyXG4gICAgaXNBY3RpdmUoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBnYW1lLnRpbGVzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgZ2FtZS50aWxlc1t4XS5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpbGUgPSBnYW1lLnRpbGVzW3hdW3ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbGUuc2VsZWN0ZWQgJiYgdGlsZS50b3dlciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdmFyIHBhZGRpbmcgPSA1O1xyXG5cclxuICAgICAgICB2YXIgY3VycmVudFggPSBwYWRkaW5nO1xyXG4gICAgICAgIHZhciBjdXJyZW50WSA9IGdhbWUuZ2FtZUluZm8uZ2V0SGVpZ2h0KCkgKyBwYWRkaW5nO1xyXG5cclxuICAgICAgICB0aGlzLmluZm9TZWN0aW9uID0ge1xyXG4gICAgICAgICAgICB4OiBzdGF0aWNzLmluZm9SZWdpb25YICsgcGFkZGluZyxcclxuICAgICAgICAgICAgeTogY3VycmVudFksXHJcbiAgICAgICAgICAgIHdpZHRoOiBzdGF0aWNzLmluZm9SZWdpb25XaWR0aCAtIChwYWRkaW5nICogMiksXHJcbiAgICAgICAgICAgIGhlaWdodDogc3RhdGljcy50aWxlU2l6ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3VycmVudFkgKz0gcGFkZGluZztcclxuXHJcbiAgICAgICAgdmFyIHVwZ3JhZGVDb21wb25lbnRYID0gc3RhdGljcy5pbmZvUmVnaW9uWCArIHBhZGRpbmc7XHJcbiAgICAgICAgdmFyIHVwZ3JhZGVDb21wb25lbnRIZWlnaHQgPSBzdGF0aWNzLnRpbGVTaXplICogMS4xO1xyXG4gICAgICAgIHZhciB1cGdyYWRlQ29tcG9uZW50V2lkdGggPSBzdGF0aWNzLmluZm9SZWdpb25XaWR0aCAtIChwYWRkaW5nICogMikgLSBzdGF0aWNzLnRpbGVTaXplICogMC43O1xyXG5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICB0aGlzLnRvd2VyQXR0cmlidXRlVXBncmFkZUNvbXBvbmVudHMucHVzaChuZXcgSW5mb0FyZWFUb3dlck1lbnVVcGdyYWRlQ29tcG9uZW50KFxyXG4gICAgICAgICAgICBcIkFEXCIsXHJcbiAgICAgICAgICAgIHVwZ3JhZGVDb21wb25lbnRYLFxyXG4gICAgICAgICAgICBjdXJyZW50WSxcclxuICAgICAgICAgICAgdXBncmFkZUNvbXBvbmVudFdpZHRoLFxyXG4gICAgICAgICAgICB1cGdyYWRlQ29tcG9uZW50SGVpZ2h0LFxyXG4gICAgICAgICAgICBcImF0dGFja1Bvd2VyXCIpKTtcclxuXHJcbiAgICAgICAgY3VycmVudFkgKz0gcGFkZGluZyArIHVwZ3JhZGVDb21wb25lbnRIZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMudG93ZXJBdHRyaWJ1dGVVcGdyYWRlQ29tcG9uZW50cy5wdXNoKG5ldyBJbmZvQXJlYVRvd2VyTWVudVVwZ3JhZGVDb21wb25lbnQoXHJcbiAgICAgICAgICAgIFwiRFBTXCIsXHJcbiAgICAgICAgICAgIHVwZ3JhZGVDb21wb25lbnRYLFxyXG4gICAgICAgICAgICBjdXJyZW50WSxcclxuICAgICAgICAgICAgdXBncmFkZUNvbXBvbmVudFdpZHRoLFxyXG4gICAgICAgICAgICB1cGdyYWRlQ29tcG9uZW50SGVpZ2h0LFxyXG4gICAgICAgICAgICBcImF0dGFja3NQZXJTZWNvbmRzXCIpKTtcclxuICAgICAgICBcclxuICAgICAgICBjdXJyZW50WSArPSBwYWRkaW5nICsgdXBncmFkZUNvbXBvbmVudEhlaWdodDtcclxuXHJcblxyXG4gICAgICAgIHRoaXMudG93ZXJBdHRyaWJ1dGVVcGdyYWRlQ29tcG9uZW50cy5wdXNoKG5ldyBJbmZvQXJlYVRvd2VyTWVudVVwZ3JhZGVDb21wb25lbnQoXHJcbiAgICAgICAgICAgIFwiUlwiLFxyXG4gICAgICAgICAgICB1cGdyYWRlQ29tcG9uZW50WCxcclxuICAgICAgICAgICAgY3VycmVudFksXHJcbiAgICAgICAgICAgIHVwZ3JhZGVDb21wb25lbnRXaWR0aCxcclxuICAgICAgICAgICAgdXBncmFkZUNvbXBvbmVudEhlaWdodCxcclxuICAgICAgICAgICAgXCJhdHRhY2tSYW5nZVwiKSk7XHJcbiAgICBcclxuICAgICAgICBjdXJyZW50WSArPSBwYWRkaW5nICsgdXBncmFkZUNvbXBvbmVudEhlaWdodDtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVteVNlbGVjdGlvbkNvbXBvbmVudCA9IG5ldyBJbmZvQXJlYVRvd2VyTWVudUVuZW15U2VsZWN0aW9uKFxyXG4gICAgICAgICAgICBzdGF0aWNzLmluZm9SZWdpb25YICsgcGFkZGluZyxcclxuICAgICAgICAgICAgY3VycmVudFksXHJcbiAgICAgICAgICAgIHN0YXRpY3MuaW5mb1JlZ2lvbldpZHRoIC0gKHBhZGRpbmcgKiAyKSxcclxuICAgICAgICAgICAgc3RhdGljcy50aWxlU2l6ZSAqIDAuN1xyXG4gICAgICAgICk7ICAgIFxyXG5cclxuICAgICAgICBjdXJyZW50WSArPSBwYWRkaW5nICsgdGhpcy5lbmVteVNlbGVjdGlvbkNvbXBvbmVudC5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMuc2VsbEJ1dHRvbiA9IG5ldyBCdXR0b24oc3RhdGljcy5pbmZvUmVnaW9uWCArIHBhZGRpbmcsXHJcbiAgICAgICAgICAgIGN1cnJlbnRZLFxyXG4gICAgICAgICAgICBzdGF0aWNzLmluZm9SZWdpb25XaWR0aCAtIChwYWRkaW5nICogMiksXHJcbiAgICAgICAgICAgIHN0YXRpY3MudGlsZVNpemUgKiAwLjcsXHJcbiAgICAgICAgICAgIFwiU2VsbFwiLFxyXG4gICAgICAgICAgICBcInJlZFwiLFxyXG4gICAgICAgICAgICB0aGlzLm9uU2VsbENsaWNrLFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTsgICAgXHJcbiAgICB9XHJcbiAgICBkcmF3KGN0eCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50b3dlckF0dHJpYnV0ZVVwZ3JhZGVDb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy50b3dlckF0dHJpYnV0ZVVwZ3JhZGVDb21wb25lbnRzW2ldO1xyXG4gICAgICAgICAgICBlbGVtZW50LmRyYXcoY3R4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbmVteVNlbGVjdGlvbkNvbXBvbmVudC5kcmF3KGN0eCk7XHJcbiAgICAgICAgdGhpcy5zZWxsQnV0dG9uLmRyYXcoY3R4KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRvd2VyQXR0cmlidXRlVXBncmFkZUNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnRvd2VyQXR0cmlidXRlVXBncmFkZUNvbXBvbmVudHNbaV07XHJcbiAgICAgICAgICAgIGVsZW1lbnQudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVG93ZXJTZWxlY3Rpb25DaGFuZ2VkKCkge1xyXG4gICAgICAgIHZhciBzZWxlY3RlZFRvd2VycyA9IFtdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgZ2FtZS50aWxlcy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGdhbWUudGlsZXNbeF0ubGVuZ3RoOyB5KyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aWxlID0gZ2FtZS50aWxlc1t4XVt5XTtcclxuICAgICAgICAgICAgICAgIGlmICh0aWxlLnNlbGVjdGVkICYmIHRpbGUudG93ZXIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVG93ZXJzLnB1c2godGlsZS50b3dlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50b3dlckF0dHJpYnV0ZVVwZ3JhZGVDb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy50b3dlckF0dHJpYnV0ZVVwZ3JhZGVDb21wb25lbnRzW2ldO1xyXG4gICAgICAgICAgICBlbGVtZW50LmNhbGN1bGF0ZUN1cnJlbnREYXRhKHNlbGVjdGVkVG93ZXJzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW5lbXlTZWxlY3Rpb25Db21wb25lbnQuY2FsY3VsYXRlQ3VycmVudERhdGEoc2VsZWN0ZWRUb3dlcnMpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBvblRhcmdldFN3aXRjaENsaWNrKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVGFyZ2V0U3dpdGNoXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU2VsbENsaWNrKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgZ2FtZS50aWxlcy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciB5PSAwOyB5IDwgZ2FtZS50aWxlc1t4XS5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaWxlID0gZ2FtZS50aWxlc1t4XVt5XTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGlsZS5zZWxlY3RlZCAmJiBjdXJyZW50VGlsZS50b3dlciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZS5tb25leSArPSBjdXJyZW50VGlsZS50b3dlci5wcml6ZTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGlsZS50b3dlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZ2FtZS5nYW1lQXJlYUNoYW5nZWQoKTtcclxuICAgIH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL0luZm9BcmVhVG93ZXJNZW51Q29tcG9uZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgQnV0dG9uIGZyb20gJy4vQnV0dG9uJztcclxuaW1wb3J0IGdhbWUgZnJvbSAnLi9nYW1lJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHgsIHksIHdpZHRoLCBoZWlnaHQsIGF0dHJpYnV0ZU5hbWUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnREYXRhID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy51cGdyYWRlQnV0dG9uID0gbmV3IEJ1dHRvbih4ICsgd2lkdGgsXHJcbiAgICAgICAgICAgIHksXHJcbiAgICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgICAgaGVpZ2h0LFxyXG4gICAgICAgICAgICBcIlVcIixcclxuICAgICAgICAgICAgXCJncmVlblwiLFxyXG4gICAgICAgICAgICB0aGlzLm9uVXBncmFkZSxcclxuICAgICAgICAgICAgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQ3VycmVudERhdGEoW10pO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQWN0aXZlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnREYXRhLnRvd2Vycy5sZW5ndGggPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoY3R4KSB7XHJcbiAgICAgICAgY3R4ID0gZ2FtZS5jb250ZXh0O1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiIzc3Nzc3N1wiO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAwLjU7XHJcbiAgICAgICAgY3R4LnN0cm9rZVJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiIzExMTExMVwiO1xyXG4gICAgICAgIGN0eC5mb250ID0gXCI5cHggQXJpYWxcIjtcclxuICAgICAgICB2YXIgcHJldmlvdXNCYXNlTGluZSA9IGN0eC50ZXh0QmFzZWxpbmU7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcInN0YXJ0XCI7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMubmFtZSwgdGhpcy54KzIsIHRoaXMueSArIHRoaXMuaGVpZ2h0LzQpO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImVuZFwiO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dChNYXRoLmZsb29yKHRoaXMuY3VycmVudERhdGEuY3VycmVudENvbWJpbmVkKSwgdGhpcy54KyB0aGlzLndpZHRoLTIsIHRoaXMueSArIHRoaXMuaGVpZ2h0LzQpO1xyXG5cclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJzdGFydFwiO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dChNYXRoLmZsb29yKHRoaXMuY3VycmVudERhdGEucHJpY2VDb21iaW5lZCksIHRoaXMueCsyLCB0aGlzLnkgKyB0aGlzLmhlaWdodC80KjMpO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImVuZFwiO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dChNYXRoLmZsb29yKHRoaXMuY3VycmVudERhdGEubmV4dENvbWJpbmVkKSwgdGhpcy54KyB0aGlzLndpZHRoLTIsIHRoaXMueSArIHRoaXMuaGVpZ2h0LzQqMyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IHByZXZpb3VzQmFzZUxpbmU7XHJcblxyXG4gICAgICAgIHRoaXMudXBncmFkZUJ1dHRvbi5kcmF3KGN0eCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsY3VsYXRlQ3VycmVudERhdGEoc2VsZWN0ZWRUb3dlcnMpIHsgICBcclxuICAgICAgICB0aGlzLnNlbGVjdGVkVG93ZXJzID0gc2VsZWN0ZWRUb3dlcnM7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRDb21iaW5lZCA9IG51bGw7XHJcbiAgICAgICAgdmFyIG5leHRDb21iaW5lZCA9IG51bGw7XHJcbiAgICAgICAgdmFyIHByaWNlQ29tYmluZWQgPSBudWxsO1xyXG4gICAgICAgIHZhciBtaW5MZXZlbCA9IE51bWJlci5NQVhfVkFMVUU7XHJcbiAgICAgICAgdmFyIHRvd2VycyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWRUb3dlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHRvd2VyID0gc2VsZWN0ZWRUb3dlcnNbaV07XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdG93ZXJbdGhpcy5hdHRyaWJ1dGVOYW1lXS5nZXRWYWx1ZSgpO1xyXG4gICAgICAgICAgICB2YXIgbmV4dCA9IHRvd2VyW3RoaXMuYXR0cmlidXRlTmFtZV0uZ2V0VXBncmFkZVZhbHVlKCk7XHJcbiAgICAgICAgICAgIHZhciBwcmljZSA9IHRvd2VyW3RoaXMuYXR0cmlidXRlTmFtZV0uZ2V0VXBncmFkZVByaWNlKCk7XHJcbiAgICAgICAgICAgIGlmICh0b3dlclt0aGlzLmF0dHJpYnV0ZU5hbWVdLmdldExldmVsKCkgPCBtaW5MZXZlbCkge1xyXG4gICAgICAgICAgICAgICAgbWluTGV2ZWwgPSB0b3dlclt0aGlzLmF0dHJpYnV0ZU5hbWVdLmdldExldmVsKCk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Q29tYmluZWQgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgbmV4dENvbWJpbmVkID0gbmV4dDtcclxuICAgICAgICAgICAgICAgIHByaWNlQ29tYmluZWQgPSBwcmljZTtcclxuICAgICAgICAgICAgICAgIHRvd2VycyA9IFt0b3dlcl07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG93ZXJbdGhpcy5hdHRyaWJ1dGVOYW1lXS5nZXRMZXZlbCgpID09IG1pbkxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICB0b3dlcnMucHVzaCh0b3dlcik7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Q29tYmluZWQgKz0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgIG5leHRDb21iaW5lZCArPSBuZXh0O1xyXG4gICAgICAgICAgICAgICAgcHJpY2VDb21iaW5lZCArPSBwcmljZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodG93ZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIHRvd2VyczogdG93ZXJzLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudENvbWJpbmVkOiBjdXJyZW50Q29tYmluZWQsXHJcbiAgICAgICAgICAgICAgICBuZXh0Q29tYmluZWQ6IG5leHRDb21iaW5lZCxcclxuICAgICAgICAgICAgICAgIHByaWNlQ29tYmluZWQ6IHByaWNlQ29tYmluZWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB0b3dlcnM6IFtdLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudENvbWJpbmVkOiAwLFxyXG4gICAgICAgICAgICAgICAgbmV4dENvbWJpbmVkOiAwLFxyXG4gICAgICAgICAgICAgICAgcHJpY2VDb21iaW5lZDogMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIG9uVXBncmFkZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50RGF0YS5wcmljZUNvbWJpbmVkIDwgZ2FtZS5tb25leSkge1xyXG4gICAgICAgICAgICBnYW1lLm1vbmV5IC09IHRoaXMuY3VycmVudERhdGEucHJpY2VDb21iaW5lZDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmN1cnJlbnREYXRhLnRvd2Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvd2VyID0gdGhpcy5jdXJyZW50RGF0YS50b3dlcnNbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJpY2UgPSB0b3dlclt0aGlzLmF0dHJpYnV0ZU5hbWVdLmdldFVwZ3JhZGVQcmljZSgpO1xyXG4gICAgICAgICAgICAgICAgdG93ZXJbdGhpcy5hdHRyaWJ1dGVOYW1lXS5pbmNyZWFzZUxldmVsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVDdXJyZW50RGF0YSh0aGlzLnNlbGVjdGVkVG93ZXJzKTtcclxuICAgIH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL0luZm9BcmVhVG93ZXJNZW51VXBncmFkZUNvbXBvbmVudC5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0ICogYXMgU2VsZWN0b3JzIGZyb20gJy4vZW5lbXlTZWxlY3RvcnMnO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4vQnV0dG9uJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY3VycmVudFNlbGVjdG9yID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy51c2VhYmxlU2VsZWN0b3JzID0gW107XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFRvd2VycyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW15U2VsZWN0b3JTd2l0Y2hCdXR0b24gPSBuZXcgQnV0dG9uKHRoaXMueCxcclxuICAgICAgICAgICAgdGhpcy55LFxyXG4gICAgICAgICAgICB0aGlzLndpZHRoLFxyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCxcclxuICAgICAgICAgICAgXCJOL0FcIixcclxuICAgICAgICAgICAgXCJsaWdodGJsdWVcIixcclxuICAgICAgICAgICAgdGhpcy5vblRhcmdldFN3aXRjaENsaWNrLFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTsgXHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhjdHgpIHtcclxuICAgICAgICB0aGlzLmVuZW15U2VsZWN0b3JTd2l0Y2hCdXR0b24uZHJhdyhjdHgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGN1bGF0ZUN1cnJlbnREYXRhKHNlbGVjdGVkVG93ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFRvd2VycyA9IHNlbGVjdGVkVG93ZXJzO1xyXG4gICAgICAgIHRoaXMudXNlYWJsZVNlbGVjdG9ycyA9IFtdO1xyXG4gICAgICAgIHZhciBtb3N0U2VsZWN0ZWQgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZFRvd2Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB0b3dlciA9IHNlbGVjdGVkVG93ZXJzW2ldO1xyXG4gICAgICAgICAgICB2YXIgY291bnQgPSBtb3N0U2VsZWN0ZWQuZ2V0KHRvd2VyLmVuZW15U2VsZWN0b3IpO1xyXG4gICAgICAgICAgICBpZiAoY291bnQgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb3VudCA9IDA7XHJcbiAgICAgICAgICAgIH0gICAgICAgIFxyXG4gICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICBtb3N0U2VsZWN0ZWQuc2V0KHRvd2VyLmVuZW15U2VsZWN0b3IsIGNvdW50KTtcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHRoaXMudXNlYWJsZVNlbGVjdG9ycy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51c2VhYmxlU2VsZWN0b3JzID0gdG93ZXIudXNlYWJsZVNlbGVjdG9ycztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMudXNlYWJsZVNlbGVjdG9ycy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLnVzZWFibGVTZWxlY3RvcnNbal07XHJcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGwgPSAwOyBsIDwgdG93ZXIudXNlYWJsZVNlbGVjdG9ycy5sZW5ndGg7IGwrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvd2VyU2VsZWN0b3IgPSB0b3dlci51c2VhYmxlU2VsZWN0b3JzW2xdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3dlclNlbGVjdG9yID09IHNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFjb250YWlucykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXNlYWJsZVNlbGVjdG9ycy5zcGxpY2UoaiwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBtb3N0U2VsZWN0ZWRTZWxlY3RvciA9IG51bGw7XHJcbiAgICAgICAgdmFyIGhpZ2hlc3RWYWx1ZSA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgW2tleSwgdmFsdWVdIG9mIG1vc3RTZWxlY3RlZC5lbnRyaWVzKCkpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID4gaGlnaGVzdFZhbHVlIHx8IG1vc3RTZWxlY3RlZFNlbGVjdG9yID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIG1vc3RTZWxlY3RlZFNlbGVjdG9yID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgaGlnaGVzdFZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0b3IgPSBtb3N0U2VsZWN0ZWRTZWxlY3RvcjtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50U2VsZWN0b3IgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmVuZW15U2VsZWN0b3JTd2l0Y2hCdXR0b24udGV4dCA9IHRoaXMuY3VycmVudFNlbGVjdG9yLm5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnVzZWFibGVTZWxlY3RvcnMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmVuZW15U2VsZWN0b3JTd2l0Y2hCdXR0b24uY29sb3IgPSBcImxpZ2h0Ymx1ZVwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5lbXlTZWxlY3RvclN3aXRjaEJ1dHRvbi5jb2xvciA9IFwibGlnaHRncmF5XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVGFyZ2V0U3dpdGNoQ2xpY2soKSB7XHJcbiAgICAgICAgdmFyIGkgPSB0aGlzLnVzZWFibGVTZWxlY3RvcnMuaW5kZXhPZih0aGlzLmN1cnJlbnRTZWxlY3Rvcik7XHJcbiAgICAgICAgaSsrO1xyXG4gICAgICAgIGlmIChpID49IHRoaXMudXNlYWJsZVNlbGVjdG9ycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFNlbGVjdG9yID0gdGhpcy51c2VhYmxlU2VsZWN0b3JzW2ldO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VsZWN0ZWRUb3dlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdG93ZXIgPSB0aGlzLnNlbGVjdGVkVG93ZXJzW2ldO1xyXG4gICAgICAgICAgICBpZiAodG93ZXIudXNlYWJsZVNlbGVjdG9ycy5pbmRleE9mKHRoaXMuY3VycmVudFNlbGVjdG9yKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0b3dlci5lbmVteVNlbGVjdG9yID0gdGhpcy5jdXJyZW50U2VsZWN0b3I7XHJcbiAgICAgICAgICAgIH0gICAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW5lbXlTZWxlY3RvclN3aXRjaEJ1dHRvbi50ZXh0ID0gdGhpcy5jdXJyZW50U2VsZWN0b3IubmFtZTtcclxuICAgIH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2luZm9BcmVhVG93ZXJNZW51RW5lbXlTZWxlY3Rpb24uanNcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBJbmZvQXJlYUNvbXBvbmVudCBmcm9tICcuL0luZm9BcmVhQ29tcG9uZW50JztcclxuaW1wb3J0IGdhbWUgZnJvbSAnLi9nYW1lJztcclxuaW1wb3J0IEJ1dHRvbiBmcm9tICcuL0J1dHRvbic7XHJcbmltcG9ydCB7Z2V0TW91c2V9IGZyb20gJy4vaGVscGVyJztcclxuaW1wb3J0IHN0YXRpY3MgZnJvbSAnLi9TdGF0aWNzJztcclxuaW1wb3J0ICogYXMgVG93ZXJzIGZyb20gJy4vdG93ZXJUeXBlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEluZm9BcmVhQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy50b3dlcnMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFRvd2VyO1xyXG4gICAgICAgIHRoaXMuZW5vdWd0aE1vbmV5VG9CdWlsZFNlbGVjdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYnVpbGRCdXR0b247XHJcbiAgICAgICAgdGhpcy5pbmZvU2VjdGlvbjtcclxuICAgICAgICB0aGlzLmJ1aWxkUHJpemUgPSAwO1xyXG4gICAgICAgIHRoaXMuYXZhaWxhYmxlVG93ZXJzID0gWyBUb3dlcnMuQmFzaWNUb3dlciwgVG93ZXJzLkVsZWN0cm9Ub3dlciwgVG93ZXJzLk1vcnRhclRvd2VyXTtcclxuXHJcbiAgICAgICAgZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVNb3VzZURvd24uYmluZCh0aGlzKSwgdHJ1ZSk7ICAgXHJcbiAgICB9XHJcblxyXG4gICAgaXNBY3RpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIGFsbHdheXMgYWN0aXZlLCBsYXN0IG9wdGlvbiBpbiBxdWV1ZVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdmFyIHBhZGRpbmcgPSA1O1xyXG5cclxuICAgICAgICB2YXIgdG93ZXJTcGFjZVggPSBzdGF0aWNzLmluZm9SZWdpb25XaWR0aCAtIChwYWRkaW5nKTtcclxuICAgICAgICB2YXIgdG93ZXJzUGVyUm93ID0gTWF0aC5mbG9vcih0b3dlclNwYWNlWCAvIChzdGF0aWNzLnRpbGVTaXplICsgcGFkZGluZykpO1xyXG4gICAgICAgIHZhciBjbGVhblNwYWNpbmcgPSBzdGF0aWNzLmluZm9SZWdpb25XaWR0aCAtIChwYWRkaW5nKSAtIChzdGF0aWNzLnRpbGVTaXplICogdG93ZXJzUGVyUm93KSAtICh0b3dlcnNQZXJSb3cgKiBwYWRkaW5nKTtcclxuICAgICAgICB2YXIgY3VycmVudFggPSBwYWRkaW5nO1xyXG4gICAgICAgIHZhciBjdXJyZW50WSA9IGdhbWUuZ2FtZUluZm8uZ2V0SGVpZ2h0KCkgKyBwYWRkaW5nO1xyXG5cclxuICAgICAgICB2YXIgY3VycmVudFRvd2Vyc0luUm93ID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXZhaWxhYmxlVG93ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50VG93ZXJzSW5Sb3cgPj0gdG93ZXJzUGVyUm93KSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VG93ZXJzSW5Sb3cgPSAwO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFggPSBwYWRkaW5nO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFkgKz0gcGFkZGluZyArIHRpbGVTaXplO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjdXJyZW50VG93ZXJzSW5Sb3cgKz0gMTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0b3dlck9iaiA9IHtcclxuICAgICAgICAgICAgICAgIGluc3Q6IG5ldyB0aGlzLmF2YWlsYWJsZVRvd2Vyc1tpXShjdXJyZW50WCArIHN0YXRpY3MuaW5mb1JlZ2lvblgsIGN1cnJlbnRZICsgc3RhdGljcy5pbmZvUmVnaW9uWSwgc3RhdGljcy50aWxlU2l6ZSwgc3RhdGljcy50aWxlU2l6ZSksXHJcbiAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvcjogdGhpcy5hdmFpbGFibGVUb3dlcnNbaV1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy50b3dlcnMucHVzaCh0b3dlck9iaik7XHJcblxyXG4gICAgICAgICAgICBjdXJyZW50WCArPSBzdGF0aWNzLnRpbGVTaXplICsgcGFkZGluZyArIGNsZWFuU3BhY2luZztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN1cnJlbnRZICs9IHN0YXRpY3MudGlsZVNpemUgKyAocGFkZGluZyAqIDQpO1xyXG5cclxuICAgICAgICB0aGlzLmluZm9TZWN0aW9uID0ge1xyXG4gICAgICAgICAgICB4OiBzdGF0aWNzLmluZm9SZWdpb25YICsgcGFkZGluZyxcclxuICAgICAgICAgICAgeTogY3VycmVudFksXHJcbiAgICAgICAgICAgIHdpZHRoOiBzdGF0aWNzLmluZm9SZWdpb25XaWR0aCAtIChwYWRkaW5nICogMiksXHJcbiAgICAgICAgICAgIGhlaWdodDogc3RhdGljcy50aWxlU2l6ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3VycmVudFkgKz0gcGFkZGluZztcclxuXHJcbiAgICAgICAgdGhpcy5idWlsZEJ1dHRvbiA9IG5ldyBCdXR0b24oc3RhdGljcy5pbmZvUmVnaW9uWCArIHBhZGRpbmcsXHJcbiAgICAgICAgICAgIGN1cnJlbnRZLFxyXG4gICAgICAgICAgICBzdGF0aWNzLmluZm9SZWdpb25XaWR0aCAtIChwYWRkaW5nICogMiksXHJcbiAgICAgICAgICAgIHN0YXRpY3MudGlsZVNpemUgKiAwLjcsXHJcbiAgICAgICAgICAgIFwiQnVpbGRcIixcclxuICAgICAgICAgICAgXCJncmVlblwiLFxyXG4gICAgICAgICAgICB0aGlzLm9uQnVpbGRDbGljayxcclxuICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vY3VycmVudFkgKz0gdGhpcy5idWlsZEJ1dHRvbi5oZWlnaHQ7XHJcblxyXG4gICAgfVxyXG4gICAgZHJhdyhjdHgpIHtcclxuICAgICAgICB2YXIgcGFkZGluZyA9IDU7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50b3dlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHRvd2VyID0gdGhpcy50b3dlcnNbaV07XHJcbiAgICAgICAgICAgIHRvd2VyLmluc3QuZHJhdyhjdHgpO1xyXG4gICAgICAgICAgICBpZiAodG93ZXIgPT0gdGhpcy5zZWxlY3RlZFRvd2VyKSB7XHJcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiMwMDAwMDBcIjtcclxuICAgICAgICAgICAgICAgIGN0eC5zdHJva2VSZWN0KHRvd2VyLmluc3QueCwgXHJcbiAgICAgICAgICAgICAgICAgICAgdG93ZXIuaW5zdC55LCBcclxuICAgICAgICAgICAgICAgICAgICB0b3dlci5pbnN0LndpZHRoLCBcclxuICAgICAgICAgICAgICAgICAgICB0b3dlci5pbnN0LmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkVG93ZXIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjMTExMTExXCI7XHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gXCI5cHggQXJpYWxcIjtcclxuICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwic3RhcnRcIjtcclxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KFwiUHJpemU6IFwiLCB0aGlzLmluZm9TZWN0aW9uLngsIHRoaXMuaW5mb1NlY3Rpb24ueSk7XHJcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImVuZFwiO1xyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQodGhpcy5idWlsZFByaXplLCB0aGlzLmluZm9TZWN0aW9uLnggKyB0aGlzLmluZm9TZWN0aW9uLndpZHRoLCB0aGlzLmluZm9TZWN0aW9uLnkpO1xyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkQnV0dG9uLmRyYXcoY3R4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHZhciBlbm91Z2hNb25leSA9IHRoaXMuY2FsY3VsYWN0ZUVub3VndGhNb25leUZvclNlbGVjdGlvbigpO1xyXG4gICAgICAgIGlmIChlbm91Z2hNb25leSkge1xyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkQnV0dG9uLnNldENvbG9yKFwiZ3JlZW5cIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5idWlsZEJ1dHRvbi5zZXRDb2xvcihcImdyYXlcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNhbGN1bGFjdGVFbm91Z3RoTW9uZXlGb3JTZWxlY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRUb3dlciA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0b3dlclByaXplID0gdGhpcy5zZWxlY3RlZFRvd2VyLmluc3QucHJpemU7XHJcbiAgICAgICAgdmFyIG51bWJlck9mVG93ZXJzVG9CdWlsZCA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBnYW1lLnRpbGVzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgZ2FtZS50aWxlc1t4XS5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaWxlID0gZ2FtZS50aWxlc1t4XVt5XTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGlsZS5zZWxlY3RlZCAmJiBjdXJyZW50VGlsZS50b3dlciA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZUb3dlcnNUb0J1aWxkICs9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5idWlsZFByaXplID0gbnVtYmVyT2ZUb3dlcnNUb0J1aWxkICogdG93ZXJQcml6ZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5idWlsZFByaXplIDw9IGdhbWUubW9uZXk7XHJcbiAgICB9XHJcblxyXG4gICAgb25CdWlsZENsaWNrKG1vdXNlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY2FsY3VsYWN0ZUVub3VndGhNb25leUZvclNlbGVjdGlvbigpKSB7XHJcbiAgICAgICAgICAgIHZhciB0b3dlclByaXplID0gdGhpcy5zZWxlY3RlZFRvd2VyLmluc3QucHJpemU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgZ2FtZS50aWxlcy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBnYW1lLnRpbGVzW3hdLmxlbmd0aDsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaWxlID0gZ2FtZS50aWxlc1t4XVt5XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbGUuc2VsZWN0ZWQgJiYgY3VycmVudFRpbGUudG93ZXIgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5tb25leSA+PSB0b3dlclByaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lLm1vbmV5IC09IHRvd2VyUHJpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJ1aWxkIFRvd2VyIGF0IFwiICsgeCArIFwiIC8gXCIgKyB5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaWxlLnRvd2VyID0gbmV3IHRoaXMuc2VsZWN0ZWRUb3dlci5jb25zdHJ1Y3RvcihjdXJyZW50VGlsZS54LCBjdXJyZW50VGlsZS55LCBzdGF0aWNzLnRpbGVTaXplLCBzdGF0aWNzLnRpbGVTaXplKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnYW1lLmdhbWVBcmVhQ2hhbmdlZCgpOyAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlTW91c2VEb3duKGUpIHtcclxuICAgICAgICB2YXIgbW91c2UgPSBnZXRNb3VzZShlKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRvd2Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAobW91c2UueCA+IHRoaXMudG93ZXJzW2ldLmluc3QueCAmJiBtb3VzZS54IDwgdGhpcy50b3dlcnNbaV0uaW5zdC54ICsgdGhpcy50b3dlcnNbaV0uaW5zdC53aWR0aFxyXG4gICAgICAgICAgICAgICAgJiYgbW91c2UueSA+IHRoaXMudG93ZXJzW2ldLmluc3QueSAmJiBtb3VzZS55IDwgdGhpcy50b3dlcnNbaV0uaW5zdC55ICsgdGhpcy50b3dlcnNbaV0uaW5zdC5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUb3dlciA9IHRoaXMudG93ZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL0luZm9BcmVhQnVpbGRDb21wb25lbnQuanNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBUb3dlciBmcm9tICcuL3Rvd2VyJztcclxuaW1wb3J0ICogYXMgU2VsZWN0b3JzIGZyb20gJy4vZW5lbXlTZWxlY3RvcnMnO1xyXG5pbXBvcnQgZ2FtZSBmcm9tICcuL2dhbWUnO1xyXG5pbXBvcnQge1Rvd2VyQXR0cmlidXRlLCBQcm9jZW50dWFsVG93ZXJBdHRyaWJ1dGV9IGZyb20gJy4vdG93ZXJBdHRyaWJ1dGUnO1xyXG5pbXBvcnQgQmFzaWNUb3dlckJ1bGxldCBmcm9tICcuL2J1bGxldHMvYmFzaWNUb3dlckJ1bGxldCc7XHJcbmltcG9ydCBFbGVjdHJvVG93ZXJCdWxsZXQgZnJvbSAnLi9idWxsZXRzL2VsZWN0cm9Ub3dlckJ1bGxldCc7XHJcbmltcG9ydCBNb3J0YXJUb3dlckJ1bGxldCBmcm9tICcuL2J1bGxldHMvbW9ydGFyVG93ZXJCdWxsZXQnO1xyXG5pbXBvcnQgc3RhdGljcyBmcm9tICcuL1N0YXRpY3MnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2ljVG93ZXIgZXh0ZW5kcyBUb3dlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IFwiIzk5NTU1NVwiO1xyXG4gICAgICAgIHRoaXMucHJpemUgPSAxMDtcclxuICAgICAgICB0aGlzLnVzZWFibGVTZWxlY3RvcnMgPSBbU2VsZWN0b3JzLk5lYXJlc3QsIFNlbGVjdG9ycy5GYXN0ZXN0XTtcclxuICAgICAgICB0aGlzLmVuZW15U2VsZWN0b3IgPSB0aGlzLnVzZWFibGVTZWxlY3RvcnNbMF07XHJcbiAgICB9XHJcblxyXG4gICAgZG9BdHRhY2soZW5lbXkpIHtcclxuICAgICAgICBnYW1lLmVudGl0aWVzLnB1c2gobmV3IEJhc2ljVG93ZXJCdWxsZXQoXHJcbiAgICAgICAgICAgIHRoaXMueCArIHRoaXMud2lkdGggLyAyLFxyXG4gICAgICAgICAgICB0aGlzLnkgKyB0aGlzLmhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgIGVuZW15LFxyXG4gICAgICAgICAgICB0aGlzLmF0dGFja1Bvd2VyLmdldFZhbHVlKClcclxuICAgICAgICApKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVsZWN0cm9Ub3dlciBleHRlbmRzIFRvd2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICBzdXBlcih4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmNvbG9yID0gXCIjNTU1NTk5XCI7XHJcbiAgICAgICAgdGhpcy5wcml6ZSA9IDEwMDtcclxuICAgICAgICB0aGlzLnVzZWFibGVTZWxlY3RvcnMgPSBbU2VsZWN0b3JzLk5lYXJlc3QsIFNlbGVjdG9ycy5IYXJkZXN0LCBTZWxlY3RvcnMuV2Vha2VzdF07XHJcbiAgICAgICAgdGhpcy5lbmVteVNlbGVjdG9yID0gdGhpcy51c2VhYmxlU2VsZWN0b3JzWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIGRvQXR0YWNrKGVuZW15KSB7XHJcbiAgICAgICAgdmFyIHNlY3NCZXR3ZWVuQXR0YWNrcyA9ICAxMDAwIC8gdGhpcy5hdHRhY2tzUGVyU2Vjb25kcy5nZXRWYWx1ZSgpO1xyXG4gICAgICAgIHNlY3NCZXR3ZWVuQXR0YWNrcyAqPSAwLjc7XHJcbiAgICAgICAgdmFyIGRlbGF5TXVsdGlwbGllciA9IHNlY3NCZXR3ZWVuQXR0YWNrcyAvIDEwO1xyXG4gICAgICAgIHZhciBkZWxheXMgPSBbMSwzLDUsNyw5XTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbGF5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBkZWxheSA9IGRlbGF5c1tpXTtcclxuICAgICAgICAgICAgZ2FtZS5lbnRpdGllcy5wdXNoKG5ldyBFbGVjdHJvVG93ZXJCdWxsZXQoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnggKyB0aGlzLndpZHRoIC8gMixcclxuICAgICAgICAgICAgICAgIHRoaXMueSArIHRoaXMuaGVpZ2h0IC8gMixcclxuICAgICAgICAgICAgICAgIGVuZW15LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2tQb3dlci5nZXRWYWx1ZSgpIC8gZGVsYXlzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGRlbGF5ICogZGVsYXlNdWx0aXBsaWVyLFxyXG4gICAgICAgICAgICAgICAgMTAwXHJcbiAgICAgICAgICAgICkpO1xyXG4gICAgICAgIH1cclxuICAgICAgIFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTW9ydGFyVG93ZXIgZXh0ZW5kcyBUb3dlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IFwiIzU1OTk1NVwiO1xyXG4gICAgICAgIHRoaXMucHJpemUgPSAxNTA7XHJcbiAgICAgICAgdGhpcy51c2VhYmxlU2VsZWN0b3JzID0gW1NlbGVjdG9ycy5OZWFyZXN0LCBTZWxlY3RvcnMuSGFyZGVzdCwgU2VsZWN0b3JzLldlYWtlc3RdO1xyXG4gICAgICAgIHRoaXMuZW5lbXlTZWxlY3RvciA9IHRoaXMudXNlYWJsZVNlbGVjdG9yc1swXTtcclxuICAgICAgICB0aGlzLmRhbWFnZUFyZWEgPSBzdGF0aWNzLmdldFRvd2VyQXR0cmlidXRlRm9yKHRoaXMsIFwiZGFtYWdlQXJlYVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBkb0F0dGFjayhlbmVteSkge1xyXG4gICAgICAgIHZhciBidWxsZXRTaXplID0gMjtcclxuICAgICAgICBnYW1lLmVudGl0aWVzLnB1c2gobmV3IE1vcnRhclRvd2VyQnVsbGV0KFxyXG4gICAgICAgICAgICB0aGlzLnggKyB0aGlzLndpZHRoIC8gMixcclxuICAgICAgICAgICAgdGhpcy55ICsgdGhpcy5oZWlnaHQgLyAyLFxyXG4gICAgICAgICAgICBidWxsZXRTaXplLFxyXG4gICAgICAgICAgICBlbmVteS54LCBlbmVteS55LFxyXG4gICAgICAgICAgICB0aGlzLmF0dGFja1Bvd2VyLmdldFZhbHVlKCksXHJcbiAgICAgICAgICAgIHRoaXMuZGFtYWdlQXJlYS5nZXRWYWx1ZSgpXHJcbiAgICAgICAgKSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy90b3dlclR5cGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgKiBhcyBFbmVteVNlbGVjdG9ycyBmcm9tICcuL2VuZW15U2VsZWN0b3JzJztcclxuaW1wb3J0IHtUb3dlckF0dHJpYnV0ZSwgUHJvY2VudHVhbFRvd2VyQXR0cmlidXRlfSBmcm9tICcuL3Rvd2VyQXR0cmlidXRlJztcclxuaW1wb3J0IGdhbWUgZnJvbSAnLi9nYW1lJztcclxuaW1wb3J0IHN0YXRpY3MgZnJvbSAnLi9TdGF0aWNzJztcclxuXHJcbi8vLS1UT1dFUlNcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHRoaXMucHJpemUgPSAwO1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5tYXJnaW4gPSAzO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBcInJlZFwiO1xyXG4gICAgICAgIHRoaXMubGFzdEF0dGFjayA9IDk5OTk5OTtcclxuXHJcbiAgICAgICAgdGhpcy5hdHRhY2tzUGVyU2Vjb25kcyA9IHN0YXRpY3MuZ2V0VG93ZXJBdHRyaWJ1dGVGb3IodGhpcywgXCJhdHRhY2tzUGVyU2Vjb25kXCIpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNrUG93ZXIgPSBzdGF0aWNzLmdldFRvd2VyQXR0cmlidXRlRm9yKHRoaXMsIFwiYXR0YWNrRGFtYWdlXCIpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNrUmFuZ2UgPSBzdGF0aWNzLmdldFRvd2VyQXR0cmlidXRlRm9yKHRoaXMsIFwiYXR0YWNrUmFuZ2VcIik7XHJcbiAgICAgICAgdGhpcy5tYXhIZWFsdGhQb2ludHMgPSBzdGF0aWNzLmdldFRvd2VyQXR0cmlidXRlRm9yKHRoaXMsIFwiaGVhbHRoUG9pbnRzXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRIZWFsdGhQb2ludHMgPSB0aGlzLm1heEhlYWx0aFBvaW50cy5nZXRWYWx1ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLnVwZ3JhZGVhYmxlQXR0cmlidXRlcyA9IFt0aGlzLmF0dGFja1Bvd2VyLCB0aGlzLmF0dGFja3NQZXJTZWNvbmRzLCB0aGlzLmF0dGFja1JhbmdlXTtcclxuICAgIH1cclxuICAgIGRyYXcoY3R4KSB7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMueCArIHRoaXMubWFyZ2luLFxyXG4gICAgICAgICAgICB0aGlzLnkgKyB0aGlzLm1hcmdpbixcclxuICAgICAgICAgICAgdGhpcy53aWR0aCAtIHRoaXMubWFyZ2luICogMixcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgLSB0aGlzLm1hcmdpbiAqIDIpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tYXhIZWFsdGhQb2ludHMgPiB0aGlzLmN1cnJlbnRIZWFsdGhQb2ludHMpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwicmVkXCI7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgLyA4KTtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiZ3JlZW5cIjtcclxuICAgICAgICAgICAgdmFyIGhlYWx0aFdpZHRoID0gdGhpcy53aWR0aCAvIHRoaXMubWF4SGVhbHRoUG9pbnRzICogdGhpcy5jdXJyZW50SGVhbHRoUG9pbnRzO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy54LCB0aGlzLnksIGhlYWx0aFdpZHRoLCB0aGlzLmhlaWdodCAvIDgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3U2VsZWN0aW9uKGN0eCkge1xyXG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuMTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjQUFBQUFBXCI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmModGhpcy54ICsgdGhpcy53aWR0aCAvIDIsIHRoaXMueSArIHRoaXMuaGVpZ2h0IC8gMiwgdGhpcy5hdHRhY2tSYW5nZS5nZXRWYWx1ZSgpLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCIjMzMzMzMzXCI7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDM7XHJcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC40O1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShkZWx0YSkge1xyXG4gICAgICAgIHRoaXMuYXR0YWNrKGRlbHRhKTtcclxuICAgIH1cclxuXHJcbiAgICBjYWxjRGlzdGFuY2UoeDEsIHkxLCB4MiwgeTIpIHtcclxuICAgICAgICB2YXIgYSA9IHgxIC0geDI7XHJcbiAgICAgICAgdmFyIGIgPSB5MSAtIHkyO1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNrKGRlbHRhKSB7XHJcbiAgICAgICAgdGhpcy5sYXN0QXR0YWNrICs9IGRlbHRhO1xyXG5cclxuICAgICAgICB2YXIgcGVyU2VjID0gMTAwMCAvIHRoaXMuYXR0YWNrc1BlclNlY29uZHMuZ2V0VmFsdWUoKTtcclxuICAgICAgICBpZiAodGhpcy5sYXN0QXR0YWNrIDwgcGVyU2VjKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB2YXIgZW5lbXkgPSB0aGlzLmVuZW15U2VsZWN0b3IuZmluZCh0aGlzKTtcclxuICAgICAgICBpZiAoZW5lbXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jYWxjRGlzdGFuY2UoZW5lbXkueCwgZW5lbXkueSwgdGhpcy54LCB0aGlzLnkpIDwgdGhpcy5hdHRhY2tSYW5nZS5nZXRWYWx1ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvQXR0YWNrKGVuZW15KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdEF0dGFjayA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGl0KHBvaW50cykge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEhlYWx0aFBvaW50cyAtPSBwb2ludHM7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEhlYWx0aFBvaW50cyA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEhlYWx0aFBvaW50cyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvdG93ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBzdGF0aWNzIGZyb20gJy4vLi4vU3RhdGljcyc7XHJcbmltcG9ydCBnYW1lIGZyb20gJy4vLi4vZ2FtZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzaXplLCBlbmVteSwgaGl0VmFsdWUpIHtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcclxuICAgICAgICB0aGlzLmVuZW15ID0gZW5lbXk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSAyLjU7XHJcbiAgICAgICBcclxuICAgICAgICB2YXIgdHggPSB0aGlzLmVuZW15LnggLSB0aGlzLng7XHJcbiAgICAgICAgdmFyIHR5ID0gdGhpcy5lbmVteS55IC0gdGhpcy55O1xyXG4gICAgICAgIHZhciBkaXN0ID0gTWF0aC5zcXJ0KHR4ICogdHggKyB0eSAqIHR5KTtcclxuICAgICAgICB0aGlzLnZlbFggPSAodHggLyBkaXN0KSAqIHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgdGhpcy52ZWxZID0gKHR5IC8gZGlzdCkgKiB0aGlzLnNwZWVkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaGl0VmFsdWUgPSBoaXRWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnggKz0gdGhpcy52ZWxYO1xyXG4gICAgICAgIHRoaXMueSArPSB0aGlzLnZlbFk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm91dE9mR2FtZUFyZWEoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdhbWUuZW5lbWllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBlbmVteSA9IGdhbWUuZW5lbWllc1tpXTtcclxuXHJcbiAgICAgICAgICAgIHZhciBhID0gZW5lbXkueCAtIHRoaXMueDtcclxuICAgICAgICAgICAgdmFyIGIgPSBlbmVteS55IC0gdGhpcy55O1xyXG5cclxuICAgICAgICAgICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQoYSphICsgYipiKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkaXN0IDw9IHRoaXMuc2l6ZSArIHRoaXMuZW5lbXkuc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgZW5lbXkuaGl0KHRoaXMuaGl0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG91dE9mR2FtZUFyZWEoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnggPiBzdGF0aWNzLnRpbGVTaXplICogc3RhdGljcy50aWxlc0NvdW50V2lkdGhcclxuICAgICAgICAgICAgfHwgdGhpcy55ID4gc3RhdGljcy50aWxlU2l6ZSAqIHN0YXRpY3MudGlsZXNDb3VudEhlaWdodFxyXG4gICAgICAgICAgICB8fCB0aGlzLnggPCAwIHx8IHRoaXMueSA8IDApO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoY3R4KSB7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgY3R4LmFyYyh0aGlzLngsIHRoaXMueSwgdGhpcy5zaXplLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNBY3RpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xyXG4gICAgfVxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYnVsbGV0cy9iYXNpY1Rvd2VyQnVsbGV0LmpzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgc3RhdGljcyBmcm9tICcuLy4uL1N0YXRpY3MnO1xyXG5pbXBvcnQgZ2FtZSBmcm9tICcuLy4uL2dhbWUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgZW5lbXksIGhpdFZhbHVlLCBkZWxheSwgYWZ0ZXJHbG93KSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMuZW5lbXkgPSBlbmVteTtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMuaGl0VmFsdWUgPSBoaXRWYWx1ZTtcclxuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XHJcbiAgICAgICAgdGhpcy5lbGFwc2VkVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5oaXRUaW1lID0gbnVsbDtcclxuICAgICAgICB0aGlzLmxpZ2h0bmluZ0FmdGVyR2xvd1RpbWUgPSBhZnRlckdsb3c7XHJcbiAgICAgICAgdGhpcy5saWdodG5pbmdQYXRoID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByYW5kb21JbnRGcm9tSW50ZXJ2YWwobWluLG1heClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihtYXgtbWluKzEpK21pbik7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsY3VsYXRlTGlnaHRuaW5nUGF0aCh4MSwgeTEsIHgyLCB5Mikge1xyXG4gICAgICAgIHZhciBzZWN0aW9uc0NvdW50ID0gdGhpcy5yYW5kb21JbnRGcm9tSW50ZXJ2YWwoMywxMCk7XHJcblxyXG4gICAgICAgIHZhciBhID0geDEgLSB4MjtcclxuICAgICAgICB2YXIgYiA9IHkxIC0geTI7XHJcblxyXG4gICAgICAgIHZhciBkaXN0ID0gTWF0aC5zcXJ0KGEqYSArIGIqYik7XHJcblxyXG4gICAgICAgIHZhciBwYXRoID0gW107XHJcbiAgICAgICAgcGF0aC5wdXNoKHt4OiB4MSwgeTogeTF9KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNlY3Rpb25zQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgcGVyY2VudCA9IGkgLyBzZWN0aW9uc0NvdW50O1xyXG5cclxuICAgICAgICAgICAgdmFyIHNlY3Rpb25YID0geDEgKyAoeDIgLSB4MSkgKiBwZXJjZW50ICsgdGhpcy5yYW5kb21JbnRGcm9tSW50ZXJ2YWwoZGlzdCAqIC0wLjAxLCBkaXN0ICogMC4wMSk7XHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uWSA9IHkxICsgKHkyIC0geTEpICogcGVyY2VudCArIHRoaXMucmFuZG9tSW50RnJvbUludGVydmFsKGRpc3QgKiAtMC4wMSwgZGlzdCAqIDAuMDEpO1xyXG5cclxuICAgICAgICAgICAgcGF0aC5wdXNoKHt4OiBzZWN0aW9uWCwgeTogc2VjdGlvbll9KTsgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgcGF0aC5wdXNoKHt4OiB4MiwgeTogeTJ9KTtcclxuICAgICAgICByZXR1cm4gcGF0aDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZGVsdGEpIHtcclxuICAgICAgICB0aGlzLmVsYXBzZWRUaW1lICs9IGRlbHRhO1xyXG5cclxuICAgICAgICBpZiAgKHRoaXMuZW5lbXkuaXNEZWFkKCkgJiYgdGhpcy5oaXRUaW1lID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhpdFRpbWUgIT0gbnVsbCBcclxuICAgICAgICAgICAgJiYgdGhpcy5lbGFwc2VkVGltZSA+IHRoaXMuaGl0VGltZSArIHRoaXMubGlnaHRuaW5nQWZ0ZXJHbG93VGltZSkge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhpdFRpbWUgPT0gbnVsbCAmJiB0aGlzLmVsYXBzZWRUaW1lID4gdGhpcy5kZWxheSkge1xyXG4gICAgICAgICAgICB0aGlzLmVuZW15LmhpdCh0aGlzLmhpdFZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5oaXRUaW1lID0gdGhpcy5lbGFwc2VkVGltZTtcclxuICAgICAgICAgICAgdGhpcy5saWdodG5pbmdQYXRoID0gdGhpcy5jYWxjdWxhdGVMaWdodG5pbmdQYXRoKCB0aGlzLngsdGhpcy55LCB0aGlzLmVuZW15LngsdGhpcy5lbmVteS55KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhjdHgpIHtcclxuICAgICAgICBpZiAodGhpcy5oaXRUaW1lICE9IG51bGwgJiYgdGhpcy5saWdodG5pbmdQYXRoICE9IG51bGwgJiYgdGhpcy5saWdodG5pbmdQYXRoLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcImxpZ2h0Ymx1ZVwiO1xyXG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMTtcclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlnaHRuaW5nUGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IHRoaXMubGlnaHRuaW5nUGF0aFtpXTtcclxuICAgICAgICAgICAgICAgIGN0eC5saW5lVG8oc2VnbWVudC54LCBzZWdtZW50LnkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaXNBY3RpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xyXG4gICAgfVxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYnVsbGV0cy9lbGVjdHJvVG93ZXJCdWxsZXQuanNcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBzdGF0aWNzIGZyb20gJy4vLi4vU3RhdGljcyc7XHJcbmltcG9ydCBnYW1lIGZyb20gJy4vLi4vZ2FtZSc7XHJcbmltcG9ydCBFeHBsb3Npb24gZnJvbSAnLi9tb3J0YXJFeHBsb3Npb25FZmZlY3QnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2l6ZSwgdGFyZ2V0WCwgdGFyZ2V0WSwgaGl0VmFsdWUsIGRhbWFnZUFyZWEpIHtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcclxuICAgICAgICB0aGlzLnRhcmdldFggPSB0YXJnZXRYO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0WSA9IHRhcmdldFk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSAxO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMuaGl0VmFsdWUgPSBoaXRWYWx1ZTtcclxuICAgICAgICB0aGlzLmRhbWFnZUFyZWEgPSBkYW1hZ2VBcmVhO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMub3V0T2ZHYW1lQXJlYSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0eCA9IHRoaXMudGFyZ2V0WCAtIHRoaXMueDtcclxuICAgICAgICB2YXIgdHkgPSB0aGlzLnRhcmdldFkgLSB0aGlzLnk7XHJcbiAgICAgICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQodHggKiB0eCArIHR5ICogdHkpO1xyXG4gICAgICAgIHRoaXMudmVsWCA9ICh0eCAvIGRpc3QpICogdGhpcy5zcGVlZDtcclxuICAgICAgICB0aGlzLnZlbFkgPSAodHkgLyBkaXN0KSAqIHRoaXMuc3BlZWQ7XHJcblxyXG4gICAgICAgIHRoaXMueCArPSB0aGlzLnZlbFg7XHJcbiAgICAgICAgdGhpcy55ICs9IHRoaXMudmVsWTtcclxuXHJcbiAgICAgICAgaWYgKGRpc3QgPCAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGdhbWUuZW50aXRpZXMucHVzaChuZXcgRXhwbG9zaW9uKHRoaXMueCwgdGhpcy55LCB0aGlzLmRhbWFnZUFyZWEpKVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdhbWUuZW5lbWllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW5lbXkgPSBnYW1lLmVuZW1pZXNbaV07XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHZhciBhID0gZW5lbXkueCAtIHRoaXMueDtcclxuICAgICAgICAgICAgICAgIHZhciBiID0gZW5lbXkueSAtIHRoaXMueTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQoYSphICsgYipiKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGRpc3QgPD0gdGhpcy5kYW1hZ2VBcmVhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkuaGl0KHRoaXMuaGl0VmFsdWUgLyB0aGlzLmRhbWFnZUFyZWEgKiBkaXN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvdXRPZkdhbWVBcmVhKCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy54ID4gc3RhdGljcy50aWxlU2l6ZSAqIHN0YXRpY3MudGlsZXNDb3VudFdpZHRoXHJcbiAgICAgICAgICAgIHx8IHRoaXMueSA+IHN0YXRpY3MudGlsZVNpemUgKiBzdGF0aWNzLnRpbGVzQ291bnRIZWlnaHRcclxuICAgICAgICAgICAgfHwgdGhpcy54IDwgMCB8fCB0aGlzLnkgPCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KGN0eCkge1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgIGN0eC5hcmModGhpcy54LCB0aGlzLnksIHRoaXMuc2l6ZSwgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQWN0aXZlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZTtcclxuICAgIH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2J1bGxldHMvbW9ydGFyVG93ZXJCdWxsZXQuanNcbi8vIG1vZHVsZSBpZCA9IDI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzaXplKSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XHJcbiAgXHJcbiAgICAgICAgdGhpcy5lZmZlY3RUaW1lID0gNjAwO1xyXG4gICAgICAgIHRoaXMuZWxhcHNlZFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkZWx0YSkge1xyXG4gICAgICAgIHRoaXMuZWxhcHNlZFRpbWUgKz0gZGVsdGE7XHJcbiAgICAgICAgaWYgKHRoaXMuZWxhcHNlZFRpbWUgPiB0aGlzLmVmZmVjdFRpbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhjdHgpIHtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwicmVkXCI7XHJcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC4xO1xyXG4gICAgICAgIHZhciBzaXplID0gTWF0aC5taW4oKHRoaXMuZWZmZWN0VGltZS8zKSwgdGhpcy5lbGFwc2VkVGltZSkgLyAodGhpcy5lZmZlY3RUaW1lLzMpICogdGhpcy5zaXplO1xyXG5cclxuICAgICAgICBjdHguYXJjKHRoaXMueCwgdGhpcy55LCBzaXplLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMTtcclxuICAgIH1cclxuXHJcbiAgICBpc0FjdGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmU7XHJcbiAgICB9XHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9idWxsZXRzL21vcnRhckV4cGxvc2lvbkVmZmVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IFRpbGUgZnJvbSAnLi9UaWxlJztcclxuaW1wb3J0IGdhbWUgZnJvbSAnLi9nYW1lJztcclxuaW1wb3J0IHN0YXRpY3MgZnJvbSAnLi9TdGF0aWNzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgVGlsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSwgd2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29sb3IgPSBcIiMwMDAwMDBcIjtcclxuICAgICAgICB0aGlzLmNvb3Jkc1ggPSB0aGlzLnggLyBzdGF0aWNzLnRpbGVTaXplO1xyXG4gICAgICAgIHRoaXMuY29vcmRzWSA9IHRoaXMueSAvIHN0YXRpY3MudGlsZVNpemU7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SGVhbHRoID0gMTAwMDtcclxuICAgICAgICB0aGlzLm1heEhlYWx0aCA9IHRoaXMuY3VycmVudEhlYWx0aDtcclxuICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpc0RlYWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEhlYWx0aCA8PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlzV2Fsa2FibGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBkcmF3KGN0eCkge1xyXG4gICAgICAgIHN1cGVyLmRyYXcoY3R4KTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuXHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMueCwgXHJcbiAgICAgICAgICAgIHRoaXMueSxcclxuICAgICAgICAgICAgdGhpcy53aWR0aCwgXHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICBcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjQ0NDQ0NDXCI7ICAgIFxyXG4gICAgICAgIGZvciAodmFyIGN4ID0gdGhpcy54OyBjeCA8IHRoaXMueCt0aGlzLndpZHRoOyBjeCs9IDQpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgY3kgPSB0aGlzLnk7IGN5IDwgdGhpcy55K3RoaXMuaGVpZ2h0OyBjeSs9IDQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgoY3ggKyBjeSkgJSA4ID09IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoY3gsIGN5LCA0LCA0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhpdChwb2ludHMpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRIZWFsdGggLT0gcG9pbnRzO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRIZWFsdGggPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRIZWFsdGggPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL0VuZFRpbGUuanNcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=